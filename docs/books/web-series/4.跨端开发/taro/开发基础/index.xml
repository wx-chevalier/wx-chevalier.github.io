<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>开发基础 | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/</link><atom:link href="https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/index.xml" rel="self" type="application/rss+xml"/><description>开发基础</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>开发基础</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/</link></image><item><title>静态资源</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/</guid><description>&lt;h1 id="taro-静态资源">Taro 静态资源&lt;/h1>
&lt;p>在 Taro 中可以像使用 Webpack 那样自由地引用静态资源，而且不需要安装任何 Loaders。&lt;/p>
&lt;h1 id="引用样式文件">引用样式文件&lt;/h1>
&lt;p>可以直接通过 ES6 的 &lt;code>import&lt;/code> 语法来引用样式文件，例如引用 CSS 文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="s2">&amp;#34;./css/path/name.css&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>引用 SCSS 文件&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="s2">&amp;#34;./css/path/name.scss&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="引用-js-文件">引用 JS 文件&lt;/h1>
&lt;p>可以直接通过 ES6 的 &lt;code>import&lt;/code> 语法来引用 JS 文件&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">functionName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;./css/path/name.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">defaultExportName&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;./css/path/name.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="引用图片音频字体等文件">引用图片、音频、字体等文件&lt;/h1>
&lt;p>可以直接通过 ES6 的 &lt;code>import&lt;/code> 语法来引用此类文件，拿到文件引用后直接在 JSX 中进行使用&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 引用文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">namedPng&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;../../images/path/named.png&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 使用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">View&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Image&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">namedPng&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">View&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="引用-json-文件">引用 JSON 文件&lt;/h1>
&lt;p>可以直接通过 ES6 的 &lt;code>import&lt;/code> 语法来引用此类文件，拿到 JSON 文件输出的 JSON 数据&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 引用 json 文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * named.json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * x: 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> **/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">namedJson&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;../../json/path/named.json&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">namedJson&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="小程序样式中引用本地资源">小程序样式中引用本地资源&lt;/h1>
&lt;p>在小程序的样式中，默认不能直接引用本地资源，只能通过网络地址、Base64 的方式来进行资源引用，为了方便开发，Taro 提供了直接在样式文件中引用本地资源的方式，其原理是通过 PostCSS 的 postcss-url 插件将样式中本地资源引用转换成 Base64 格式，从而能正常加载。&lt;/p>
&lt;p>Taro 默认会对 &lt;code>10kb&lt;/code> 大小以下的资源进行转换，如果需要修改配置，可以在 &lt;code>config/index.js&lt;/code> 中进行修改，配置位于 &lt;a href="https://taro-docs.jd.com/taro/docs/config-detail.html#minipostcss" target="_blank" rel="noopener">&lt;code>mini.postcss&lt;/code>&lt;/a>。具体配置如下&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 小程序端样式引用本地资源内联
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enable&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">config&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">limit&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10240&lt;/span> &lt;span class="c1">// 设定转换尺寸上限
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>快速开始</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/</guid><description>&lt;h1 id="taro-快速开始">Taro 快速开始&lt;/h1>
&lt;p>Taro 项目基于 node，请确保已具备较新的 node 环境（&amp;gt;=8.0.0），推荐使用 node 版本管理工具 nvm 来管理 node，这样不仅可以很方便地切换 node 版本，而且全局安装时候也不用加 sudo 了。首先，你需要使用 npm 或者 yarn 全局安装@tarojs/cli，或者直接使用 npx:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用 npm 安装 CLI&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm install -g @tarojs/cli
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># OR 使用 yarn 安装 CLI&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ yarn global add @tarojs/cli
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># OR 安装了 cnpm，使用 cnpm 安装 CLI&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cnpm install -g @tarojs/cli
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>值得一提的是，如果安装过程出现 sass 相关的安装错误，请在安装 mirror-config-china 后重试。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">$ npm install -g mirror-config-china
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="项目初始化">项目初始化&lt;/h1>
&lt;p>使用命令创建模板项目&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ taro init myApp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>npm 5.2+ 也可在不全局安装的情况下使用 npx 创建模板项目&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ npx @tarojs/cli init myApp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在创建完项目之后，Taro 会默认开始安装项目所需要的依赖，安装使用的工具按照 yarn&amp;gt;cnpm&amp;gt;npm 顺序进行检测，一般来说，依赖安装会比较顺利，但某些情况下可能会安装失败，这时候你可以在项目目录下自己使用安装命令进行安装：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用 yarn 安装依赖&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ yarn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># OR 使用 cnpm 安装依赖&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cnpm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># OR 使用 npm 安装依赖&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>进入项目目录开始开发，目前已经支持 微信/百度/支付宝/字节跳动/QQ/京东小程序、H5、快应用以及 ReactNative 等端的代码转换，针对不同端的启动以及预览、打包方式并不一致。&lt;/p>
&lt;h1 id="运行">运行&lt;/h1>
&lt;p>Taro 需要运行不同的命令，将 Taro 代码编译成不同端的代码，然后在对应的开发工具中查看效果。&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://s2.ax1x.com/2020/03/10/8PGZOH.md.png" alt="Taro 运行截图" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>&lt;/p>
&lt;p>在使用 Taro 进行多端开发中，请确保 Taro CLI 的版本与你项目的依赖版本一致，否则可能会出现编译错误或者运行时错误。&lt;/p>
&lt;h2 id="微信小程序">微信小程序&lt;/h2>
&lt;p>选择微信小程序模式，需要自行下载并打开微信开发者工具，然后选择项目根目录进行预览。微信小程序编译预览及打包（去掉 &amp;ndash;watch 将不会监听文件修改，并会对代码进行压缩打包）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ yarn dev:weapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ yarn build:weapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npm script&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm run dev:weapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm run build:weapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 仅限全局安装&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ taro build --type weapp --watch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ taro build --type weapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npx 用户也可以使用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npx taro build --type weapp --watch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npx taro build --type weapp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="路由功能">路由功能&lt;/h1>
&lt;p>在 Taro 中，路由功能是默认自带的，不需要开发者进行额外的路由配置。我们只需要在入口文件的 config 配置中指定好 pages，然后就可以在代码中通过 Taro 提供的 API 来跳转到目的页面，例如：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 跳转到目的页面，打开新页面
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Taro&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;/pages/page/path/name&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 跳转到目的页面，在当前页面打开
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Taro&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirectTo&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;/pages/page/path/name&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="路由传参">路由传参&lt;/h2>
&lt;p>我们可以通过在所有跳转的 &lt;code>url&lt;/code> 后面添加查询字符串参数进行跳转传参，例如&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 传入参数 id=2&amp;amp;type=test
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Taro&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;/pages/page/path/name?id=2&amp;amp;type=test&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这样的话，在跳转成功的目标页的&lt;strong>生命周期&lt;/strong>方法里就能通过 &lt;code>this.$router.params&lt;/code> 获取到传入的参数，例如上述跳转，在目标页的 &lt;code>componentWillMount&lt;/code> 生命周期里获取入参&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">C&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Taro&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentWillMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 输出 { id: 2, type: &amp;#39;test&amp;#39; }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>框架与配置</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E6%A1%86%E6%9E%B6%E4%B8%8E%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E6%A1%86%E6%9E%B6%E4%B8%8E%E9%85%8D%E7%BD%AE/</guid><description>&lt;h1 id="框架与配置">框架与配置&lt;/h1>
&lt;h1 id="框架">框架&lt;/h1>
&lt;p>项目目录结构：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-s" data-lang="s">&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">dist&lt;/span> 编译结果目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">config&lt;/span> 配置目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> ├── &lt;span class="n">dev.js&lt;/span> 开发时配置
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> ├── &lt;span class="n">index.js&lt;/span> 默认配置
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> └── &lt;span class="n">prod.js&lt;/span> 打包时配置
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">src&lt;/span> 源码目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> ├── &lt;span class="n">pages&lt;/span> 页面文件目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> &lt;span class="o">|&lt;/span> ├── &lt;span class="n">index&lt;/span> &lt;span class="n">index&lt;/span> 页面目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="o">|&lt;/span> ├── &lt;span class="n">index.js&lt;/span> &lt;span class="n">index&lt;/span> 页面逻辑
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="o">|&lt;/span> └── &lt;span class="n">index.css&lt;/span> &lt;span class="n">index&lt;/span> 页面样式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> ├── &lt;span class="n">app.css&lt;/span> 项目总通用样式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">|&lt;/span> └── &lt;span class="n">app.js&lt;/span> 项目入口文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── &lt;span class="n">package.json&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>一个普通的入口文件示例如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Taro&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;@tarojs/taro&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Index&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;./pages/index&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="s2">&amp;#34;./app.scss&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 项目配置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;pages/index/index&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundTextStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;light&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarBackgroundColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;#fff&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarTitleText&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;WeChat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarTextStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentWillMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidShow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidHide&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Index&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>通常入口文件会包含一个 config 配置项，这个配置是整个应用的全局的配置，配置规范基于微信小程序的全局配置进行制定，所有平台进行统一。入口文件中的全局配置，在编译后将生成全局配置文件 app.json。&lt;/p>
&lt;h1 id="配置">配置&lt;/h1>
&lt;h2 id="配置项列表">配置项列表&lt;/h2>
&lt;p>Taro 中全局配置所包含的配置项及各端支持程度如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>必填&lt;/th>
&lt;th>描述&lt;/th>
&lt;th>微信小程序&lt;/th>
&lt;th>百度小程序&lt;/th>
&lt;th>字节跳动小程序&lt;/th>
&lt;th>支付宝小程序&lt;/th>
&lt;th>H5&lt;/th>
&lt;th>RN&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#pages" target="_blank" rel="noopener">pages&lt;/a>&lt;/td>
&lt;td>String Array&lt;/td>
&lt;td>是&lt;/td>
&lt;td>页面路径列表&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#window" target="_blank" rel="noopener">window&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>全局的默认窗口表现&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#tabbar" target="_blank" rel="noopener">tabBar&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>底部 tab 栏的表现&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;td>具体支持程度见下方&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#networktimeout" target="_blank" rel="noopener">networkTimeout&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>网络超时时间&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#debug" target="_blank" rel="noopener">debug&lt;/a>&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>否&lt;/td>
&lt;td>是否开启 debug 模式，默认关闭&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#functionalpages" target="_blank" rel="noopener">functionalPages&lt;/a>&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>否&lt;/td>
&lt;td>是否启用插件功能页，默认关闭&lt;/td>
&lt;td>✔️（基础库 2.1.0 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#subpackages" target="_blank" rel="noopener">subPackages&lt;/a>&lt;/td>
&lt;td>Object Array&lt;/td>
&lt;td>否&lt;/td>
&lt;td>分包结构配置&lt;/td>
&lt;td>✔️（基础库 1.7.3 以上）&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#workers" target="_blank" rel="noopener">workers&lt;/a>&lt;/td>
&lt;td>String&lt;/td>
&lt;td>否&lt;/td>
&lt;td>Worker 代码放置的目录&lt;/td>
&lt;td>✔️（基础库 1.9.90 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#requiredbackgroundmodes" target="_blank" rel="noopener">requiredBackgroundModes&lt;/a>&lt;/td>
&lt;td>String Array&lt;/td>
&lt;td>否&lt;/td>
&lt;td>需要在后台使用的能力，如音乐播放&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#plugins" target="_blank" rel="noopener">plugins&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>使用到的插件&lt;/td>
&lt;td>✔️（基础库 1.9.6 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#preloadrule" target="_blank" rel="noopener">preloadRule&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>分包预下载规则&lt;/td>
&lt;td>✔️（基础库 2.3.0 以上）&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#resizable" target="_blank" rel="noopener">resizable&lt;/a>&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>否&lt;/td>
&lt;td>iPad 小程序是否支持屏幕旋转，默认关闭&lt;/td>
&lt;td>✔️（基础库 2.3.0 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#navigatetominiprogramappidlist" target="_blank" rel="noopener">navigateToMiniProgramAppIdList&lt;/a>&lt;/td>
&lt;td>String Array&lt;/td>
&lt;td>否&lt;/td>
&lt;td>需要跳转的小程序列表，详见 wx.navigateToMiniProgram&lt;/td>
&lt;td>✔️（基础库 2.4.0 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#usingcomponents" target="_blank" rel="noopener">usingComponents&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>全局自定义组件配置&lt;/td>
&lt;td>✔️（开发者工具 1.02.1810190）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/tutorial.html#permission" target="_blank" rel="noopener">permission&lt;/a>&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>否&lt;/td>
&lt;td>小程序接口权限相关设置&lt;/td>
&lt;td>✔️ 微信客户端 7.0.0&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="pages">pages&lt;/h2>
&lt;p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径 + 文件名 信息。文件名不需要写文件后缀，框架会自动去寻找对应位置的文件进行处理。数组的第一项代表小程序的初始页面（首页）。小程序中新增/减少页面，都需要对 pages 数组进行修改。如开发目录为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-s" data-lang="s">&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">app.js&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">app.json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">app.wxss&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── &lt;span class="n">pages&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │── &lt;span class="n">index&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── &lt;span class="n">index.wxml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── &lt;span class="n">index.js&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── &lt;span class="n">index.json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ └── &lt;span class="n">index.wxss&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── &lt;span class="n">logs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── &lt;span class="n">logs.wxml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── &lt;span class="n">logs.js&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── &lt;span class="n">utils&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>则需要在入口文件配置中写&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 项目配置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pages/index/index&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pages/logs/logs&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="window">window&lt;/h2>
&lt;p>用于设置小程序的状态栏、导航条、标题、窗口背景色，其配置项如下。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>navigationBarBackgroundColor&lt;/td>
&lt;td>HexColor（十六进制颜色值）&lt;/td>
&lt;td>#000000&lt;/td>
&lt;td>导航栏背景颜色，如 #000000&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationBarTextStyle&lt;/td>
&lt;td>String&lt;/td>
&lt;td>white&lt;/td>
&lt;td>导航栏标题颜色，仅支持 black / white&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationBarTitleText&lt;/td>
&lt;td>String&lt;/td>
&lt;td>&lt;/td>
&lt;td>导航栏标题文字内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationStyle&lt;/td>
&lt;td>String&lt;/td>
&lt;td>default&lt;/td>
&lt;td>导航栏样式，仅支持以下值：default 默认样式；custom 自定义导航栏，只保留右上角胶囊按钮&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColor&lt;/td>
&lt;td>String&lt;/td>
&lt;td>&lt;/td>
&lt;td>窗口的背景色&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundTextStyle&lt;/td>
&lt;td>String&lt;/td>
&lt;td>dark&lt;/td>
&lt;td>下拉 loading 的样式，仅支持 dark / light&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColorTop&lt;/td>
&lt;td>String&lt;/td>
&lt;td>#ffffff&lt;/td>
&lt;td>顶部窗口的背景色，仅 iOS 支持&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColorBottom&lt;/td>
&lt;td>String&lt;/td>
&lt;td>#ffffff&lt;/td>
&lt;td>底部窗口的背景色，仅 iOS 支持&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>enablePullDownRefresh&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>是否开启当前页面的下拉刷新。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onReachBottomDistance&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>50&lt;/td>
&lt;td>页面上拉触底事件触发时距页面底部距离，单位为 px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pageOrientation&lt;/td>
&lt;td>String&lt;/td>
&lt;td>portrait&lt;/td>
&lt;td>屏幕旋转设置，支持 auto / portrait / landscape 详见 响应显示区域变化&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>各端支持程度如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>微信小程序&lt;/th>
&lt;th>百度小程序&lt;/th>
&lt;th>字节跳动小程序&lt;/th>
&lt;th>支付宝小程序&lt;/th>
&lt;th>H5&lt;/th>
&lt;th>RN&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>navigationBarBackgroundColor&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationBarTextStyle&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationBarTitleText&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>navigationStyle&lt;/td>
&lt;td>✔️（微信客户端 6.6.0）&lt;/td>
&lt;td>✔️（百度 App 版本 11.1.0）&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColor&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundTextStyle&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColorTop&lt;/td>
&lt;td>✔️（微信客户端 6.5.16）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColorBottom&lt;/td>
&lt;td>✔️（微信客户端 6.5.16）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>enablePullDownRefresh&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onReachBottomDistance&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pageOrientation&lt;/td>
&lt;td>✔️2.4.0 (auto) / 2.5.0 (landscape)&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>配置示例如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 项目配置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pages/index/index&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;pages/logs/logs&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarBackgroundColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#ffffff&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarTextStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigationBarTitleText&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;微信接口功能演示&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#eeeeee&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundTextStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;light&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="tabbar">tabBar&lt;/h2>
&lt;p>如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。&lt;/p>
&lt;p>其配置项如下&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>必填&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>color&lt;/td>
&lt;td>HexColor（十六进制颜色值）&lt;/td>
&lt;td>是&lt;/td>
&lt;td>&lt;/td>
&lt;td>tab 上的文字默认颜色，仅支持十六进制颜色&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>selectedColor&lt;/td>
&lt;td>HexColor（十六进制颜色值）&lt;/td>
&lt;td>是&lt;/td>
&lt;td>&lt;/td>
&lt;td>tab 上的文字选中时的颜色，仅支持十六进制颜色&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColor&lt;/td>
&lt;td>HexColor（十六进制颜色值）&lt;/td>
&lt;td>是&lt;/td>
&lt;td>&lt;/td>
&lt;td>tab 的背景色，仅支持十六进制颜色&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>borderStyle&lt;/td>
&lt;td>String&lt;/td>
&lt;td>是&lt;/td>
&lt;td>black&lt;/td>
&lt;td>tabbar 上边框的颜色，仅支持 black / white&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>list&lt;/td>
&lt;td>Array&lt;/td>
&lt;td>是&lt;/td>
&lt;td>&lt;/td>
&lt;td>tab 的列表，详见 list 属性说明，最少 2 个、最多 5 个 tab&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>position&lt;/td>
&lt;td>String&lt;/td>
&lt;td>否&lt;/td>
&lt;td>bottom&lt;/td>
&lt;td>tabBar 的位置，仅支持 bottom / top&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>custom&lt;/td>
&lt;td>Boolean&lt;/td>
&lt;td>否&lt;/td>
&lt;td>false&lt;/td>
&lt;td>自定义 tabBar&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>各端支持程度如下&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>微信小程序&lt;/th>
&lt;th>百度小程序&lt;/th>
&lt;th>字节跳动小程序&lt;/th>
&lt;th>支付宝小程序&lt;/th>
&lt;th>H5&lt;/th>
&lt;th>RN&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>color&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>selectedColor&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColor&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>borderStyle&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>list&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>position&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>custom&lt;/td>
&lt;td>✔️（基础库 2.5.0 以上）&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>其中 list 接受一个数组，只能配置最少 2 个、最多 5 个 tab。tab 按数组的顺序排序，每个项都是一个对象，其属性值如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>必填&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>pagePath&lt;/td>
&lt;td>String&lt;/td>
&lt;td>是&lt;/td>
&lt;td>页面路径，必须在 pages 中先定义&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>text&lt;/td>
&lt;td>String&lt;/td>
&lt;td>是&lt;/td>
&lt;td>tab 上按钮文字&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>iconPath&lt;/td>
&lt;td>String&lt;/td>
&lt;td>否&lt;/td>
&lt;td>图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。当 position 为 top 时，不显示 icon。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>selectedIconPath&lt;/td>
&lt;td>String&lt;/td>
&lt;td>否&lt;/td>
&lt;td>选中时的图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。当 position 为 top 时，不显示 icon。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="networktimeout">networkTimeout&lt;/h2>
&lt;p>各类网络请求的超时时间，单位均为毫秒。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>必填&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>request&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>否&lt;/td>
&lt;td>60000&lt;/td>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/native-api.md#%e5%8f%91%e8%b5%b7%e8%af%b7%e6%b1%82" target="_blank" rel="noopener">Taro.request&lt;/a> 的超时时间，单位：毫秒&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>connectSocket&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>否&lt;/td>
&lt;td>60000&lt;/td>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/native-api.md#websocket" target="_blank" rel="noopener">Taro.connectSocket&lt;/a> 的超时时间，单位：毫秒&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uploadFile&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>否&lt;/td>
&lt;td>60000&lt;/td>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/native-api.md#%e4%b8%8a%e4%bc%a0-%e4%b8%8b%e8%bd%bd" target="_blank" rel="noopener">Taro.uploadFile&lt;/a> 的超时时间，单位：毫秒&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>downloadFile&lt;/td>
&lt;td>Number&lt;/td>
&lt;td>否&lt;/td>
&lt;td>60000&lt;/td>
&lt;td>&lt;a href="https://taro-docs.jd.com/taro/docs/native-api.md#%e4%b8%8a%e4%bc%a0-%e4%b8%8b%e8%bd%bd" target="_blank" rel="noopener">Taro.downloadFile&lt;/a> 的超时时间，单位：毫秒&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>组件与页面</title><link>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E4%B8%8E%E9%A1%B5%E9%9D%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-series/4.%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91/taro/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E4%B8%8E%E9%A1%B5%E9%9D%A2/</guid><description>&lt;h1 id="组件与页面">组件与页面&lt;/h1>
&lt;h1 id="组件的生命周期">组件的生命周期&lt;/h1>
&lt;p>而且由于入口文件继承自 Component 组件基类，它同样拥有组件生命周期，但因为入口文件的特殊性，他的生命周期并不完整，具体如下。&lt;/p>
&lt;h2 id="componentwillmount">componentWillMount()&lt;/h2>
&lt;p>在微信/百度/字节跳动/支付宝小程序中这一生命周期方法对应 app 的 onLaunch，监听程序初始化，初始化完成时触发（全局只触发一次）。在此生命周期中通过 &lt;code>this.$router.params&lt;/code>，可以访问到程序初始化参数。参数格式如下&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>说明&lt;/th>
&lt;th>微信小程序&lt;/th>
&lt;th>百度小程序&lt;/th>
&lt;th>字节跳动小程序&lt;/th>
&lt;th>支付宝小程序&lt;/th>
&lt;th>H5&lt;/th>
&lt;th>RN&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>path&lt;/td>
&lt;td>string&lt;/td>
&lt;td>启动小程序的路径&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scene&lt;/td>
&lt;td>number&lt;/td>
&lt;td>启动小程序的场景值&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>query&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>启动小程序的 query 参数&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>shareTicket&lt;/td>
&lt;td>string&lt;/td>
&lt;td>shareTicket，详见获取更多转发信息&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>referrerInfo&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>来源信息。从另一个小程序、公众号或 App 进入小程序时返回。否则返回 {}&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>其中，场景值 scene，在微信小程序和百度小程序中存在区别，请分别参考 &lt;a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/scene.html" target="_blank" rel="noopener">微信小程序文档&lt;/a> 和 &lt;a href="http://smartprogram.baidu.com/docs/data/scene/" target="_blank" rel="noopener">百度小程序文档&lt;/a>。来源信息 referrerInfo 的数据结构如下&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>说明&lt;/th>
&lt;th>微信小程序&lt;/th>
&lt;th>百度小程序&lt;/th>
&lt;th>字节跳动小程序&lt;/th>
&lt;th>支付宝小程序&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>appId&lt;/td>
&lt;td>string&lt;/td>
&lt;td>来源小程序，或者公众号（微信中）&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>extraData&lt;/td>
&lt;td>Object&lt;/td>
&lt;td>来源小程序传过来的数据，微信和百度小程序在 scene=1037 或 1038 时支持&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sourceServiceId&lt;/td>
&lt;td>string&lt;/td>
&lt;td>来源插件，当处于插件运行模式时可见&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✘&lt;/td>
&lt;td>✔️（基础库版本 1.11.0）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="componentdidmount">componentDidMount()&lt;/h2>
&lt;p>在微信/百度/字节跳动/支付宝小程序中这一生命周期方法对应 app 的 &lt;code>onLaunch&lt;/code>，在 &lt;code>componentWillMount&lt;/code> 后执行监听程序初始化，初始化完成时触发（全局只触发一次）。在此生命周期中也可以通过 &lt;code>this.$router.params&lt;/code>，访问到程序初始化参数，与 &lt;code>componentWillMount&lt;/code> 中一致&lt;/p></description></item></channel></rss>