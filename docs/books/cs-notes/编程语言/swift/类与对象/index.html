<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="类与对象 定义与实例化 类的基本的定义方式如下所示： class Vehicle { var color: String? var maxSpeed = 80 func description() -> String { return &#34;A \(self.color) vehicle&#34; } func travel() { print(&#34;Traveling at \(maxSpeed) kph&#34;) } } 属性(Properties) 类的类型属性： class SomeClass { class var computedTypeProperty: Int { // 这里返回一个 Int 值 } } lazy:延迟"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/"><meta property="og:title" content="类与对象 | Next-gen Tech Edu"><meta property="og:description" content="类与对象 定义与实例化 类的基本的定义方式如下所示： class Vehicle { var color: String? var maxSpeed = 80 func description() -> String { return &#34;A \(self.color) vehicle&#34; } func travel() { print(&#34;Traveling at \(maxSpeed) kph&#34;) } } 属性(Properties) 类的类型属性： class SomeClass { class var computedTypeProperty: Int { // 这里返回一个 Int 值 } } lazy:延迟"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>类与对象 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=8da9105df289c96cfa6de92b75d5c29f><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Swift</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8095cccff22257cb9c8b268835bbdd20")' href=#id8095cccff22257cb9c8b268835bbdd20 aria-expanded=false aria-controls=id8095cccff22257cb9c8b268835bbdd20 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/>编程语言</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8095cccff22257cb9c8b268835bbdd20 aria-expanded=false aria-controls=id8095cccff22257cb9c8b268835bbdd20><i class="fa-solid fa-angle-down" id=caret-id8095cccff22257cb9c8b268835bbdd20></i></a></div><ul class="nav docs-sidenav collapse show" id=id8095cccff22257cb9c8b268835bbdd20><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddcec20eb1334ced2bd310f4f6e44b23b")' href=#iddcec20eb1334ced2bd310f4f6e44b23b aria-expanded=false aria-controls=iddcec20eb1334ced2bd310f4f6e44b23b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc5886513539bcfc0206bbb3b9d2be4f1")' href=#idc5886513539bcfc0206bbb3b9d2be4f1 aria-expanded=false aria-controls=idc5886513539bcfc0206bbb3b9d2be4f1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/>CPP</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc5886513539bcfc0206bbb3b9d2be4f1 aria-expanded=false aria-controls=idc5886513539bcfc0206bbb3b9d2be4f1><i class="fa-solid fa-angle-right" id=caret-idc5886513539bcfc0206bbb3b9d2be4f1></i></a></div><ul class="nav docs-sidenav collapse" id=idc5886513539bcfc0206bbb3b9d2be4f1><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc6bd699b3a57e996e8b4e145c0f5b316")' href=#idc6bd699b3a57e996e8b4e145c0f5b316 aria-expanded=false aria-controls=idc6bd699b3a57e996e8b4e145c0f5b316 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/00.%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81/>00.版本变迁</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc6bd699b3a57e996e8b4e145c0f5b316 aria-expanded=false aria-controls=idc6bd699b3a57e996e8b4e145c0f5b316><i class="fa-solid fa-angle-right" id=caret-idc6bd699b3a57e996e8b4e145c0f5b316></i></a></div><ul class="nav docs-sidenav collapse" id=idc6bd699b3a57e996e8b4e145c0f5b316><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id16e37f5593dcbeede496e9d6c1e51e14")' href=#id16e37f5593dcbeede496e9d6c1e51e14 aria-expanded=false aria-controls=id16e37f5593dcbeede496e9d6c1e51e14 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id253e78fafe67fadfab29b882992d78a6")' href=#id253e78fafe67fadfab29b882992d78a6 aria-expanded=false aria-controls=id253e78fafe67fadfab29b882992d78a6 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idea8fd1672b62172567ead02d1f1ed7c5")' href=#idea8fd1672b62172567ead02d1f1ed7c5 aria-expanded=false aria-controls=idea8fd1672b62172567ead02d1f1ed7c5 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb560329bd3393872f5457930782ddbbb")' href=#idb560329bd3393872f5457930782ddbbb aria-expanded=false aria-controls=idb560329bd3393872f5457930782ddbbb aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/>01.语法基础</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb560329bd3393872f5457930782ddbbb aria-expanded=false aria-controls=idb560329bd3393872f5457930782ddbbb><i class="fa-solid fa-angle-right" id=caret-idb560329bd3393872f5457930782ddbbb></i></a></div><ul class="nav docs-sidenav collapse" id=idb560329bd3393872f5457930782ddbbb><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4bba0c2d6a79e39c4996619194c7c3e7")' href=#id4bba0c2d6a79e39c4996619194c7c3e7 aria-expanded=false aria-controls=id4bba0c2d6a79e39c4996619194c7c3e7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/>编译与运行</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4bba0c2d6a79e39c4996619194c7c3e7 aria-expanded=false aria-controls=id4bba0c2d6a79e39c4996619194c7c3e7><i class="fa-solid fa-angle-right" id=caret-id4bba0c2d6a79e39c4996619194c7c3e7></i></a></div><ul class="nav docs-sidenav collapse" id=id4bba0c2d6a79e39c4996619194c7c3e7><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id275db81c8c32f1f1247cc8e211cba475")' href=#id275db81c8c32f1f1247cc8e211cba475 aria-expanded=false aria-controls=id275db81c8c32f1f1247cc8e211cba475 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/01.%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91/>01.程序编译</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id275db81c8c32f1f1247cc8e211cba475 aria-expanded=false aria-controls=id275db81c8c32f1f1247cc8e211cba475><i class="fa-solid fa-angle-right" id=caret-id275db81c8c32f1f1247cc8e211cba475></i></a></div><ul class="nav docs-sidenav collapse" id=id275db81c8c32f1f1247cc8e211cba475><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/01.%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91/%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7/>不同的编译工具</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6bc684231c4aaac52f462c8649fa86b5")' href=#id6bc684231c4aaac52f462c8649fa86b5 aria-expanded=false aria-controls=id6bc684231c4aaac52f462c8649fa86b5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/clang/>clang</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6bc684231c4aaac52f462c8649fa86b5 aria-expanded=false aria-controls=id6bc684231c4aaac52f462c8649fa86b5><i class="fa-solid fa-angle-right" id=caret-id6bc684231c4aaac52f462c8649fa86b5></i></a></div><ul class="nav docs-sidenav collapse" id=id6bc684231c4aaac52f462c8649fa86b5><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/clang/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/>常用指令</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id21723428a22c1097beaa8051e45a3314")' href=#id21723428a22c1097beaa8051e45a3314 aria-expanded=false aria-controls=id21723428a22c1097beaa8051e45a3314 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/cmake/>CMake</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id21723428a22c1097beaa8051e45a3314 aria-expanded=false aria-controls=id21723428a22c1097beaa8051e45a3314><i class="fa-solid fa-angle-right" id=caret-id21723428a22c1097beaa8051e45a3314></i></a></div><ul class="nav docs-sidenav collapse" id=id21723428a22c1097beaa8051e45a3314><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/cmake/cmake-%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B/>CMake 简单示例</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/cmake/cmakelists.txt/>CMakeLists.txt</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C/cmake/make/>Make</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id32a4272bb4a37ca2391f2f6abf603147")' href=#id32a4272bb4a37ca2391f2f6abf603147 aria-expanded=false aria-controls=id32a4272bb4a37ca2391f2f6abf603147 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id883150a436d7253fdfed67685d7087ac")' href=#id883150a436d7253fdfed67685d7087ac aria-expanded=false aria-controls=id883150a436d7253fdfed67685d7087ac aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id15c246524d4fc20a53f97d983a0cbe8a")' href=#id15c246524d4fc20a53f97d983a0cbe8a aria-expanded=false aria-controls=id15c246524d4fc20a53f97d983a0cbe8a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%87%BD%E6%95%B0/>函数</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id15c246524d4fc20a53f97d983a0cbe8a aria-expanded=false aria-controls=id15c246524d4fc20a53f97d983a0cbe8a><i class="fa-solid fa-angle-right" id=caret-id15c246524d4fc20a53f97d983a0cbe8a></i></a></div><ul class="nav docs-sidenav collapse" id=id15c246524d4fc20a53f97d983a0cbe8a><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%87%BD%E6%95%B0/lambda/>Lambda</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf21c44d7a983455d8fc7b1a490a3975a")' href=#idf21c44d7a983455d8fc7b1a490a3975a aria-expanded=false aria-controls=idf21c44d7a983455d8fc7b1a490a3975a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/>快速开始</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf21c44d7a983455d8fc7b1a490a3975a aria-expanded=false aria-controls=idf21c44d7a983455d8fc7b1a490a3975a><i class="fa-solid fa-angle-right" id=caret-idf21c44d7a983455d8fc7b1a490a3975a></i></a></div><ul class="nav docs-sidenav collapse" id=idf21c44d7a983455d8fc7b1a490a3975a><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/c++-%E7%AE%80%E5%8F%B2/>C++ 简史</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf46297e2e36fcf321b7acdb29c86fd92")' href=#idf46297e2e36fcf321b7acdb29c86fd92 aria-expanded=false aria-controls=idf46297e2e36fcf321b7acdb29c86fd92 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/>类与对象</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf46297e2e36fcf321b7acdb29c86fd92 aria-expanded=false aria-controls=idf46297e2e36fcf321b7acdb29c86fd92><i class="fa-solid fa-angle-right" id=caret-idf46297e2e36fcf321b7acdb29c86fd92></i></a></div><ul class="nav docs-sidenav collapse" id=idf46297e2e36fcf321b7acdb29c86fd92><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2eb2e42ef993b83e59ee7a52140545f8")' href=#id2eb2e42ef993b83e59ee7a52140545f8 aria-expanded=false aria-controls=id2eb2e42ef993b83e59ee7a52140545f8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/>构造函数</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2eb2e42ef993b83e59ee7a52140545f8 aria-expanded=false aria-controls=id2eb2e42ef993b83e59ee7a52140545f8><i class="fa-solid fa-angle-right" id=caret-id2eb2e42ef993b83e59ee7a52140545f8></i></a></div><ul class="nav docs-sidenav collapse" id=id2eb2e42ef993b83e59ee7a52140545f8><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0/>析构函数</a></li></ul></div><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/%E7%BB%A7%E6%89%BF%E4%B8%8E%E9%87%8D%E8%BD%BD/>继承与重载</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id46a77e02d52b90d41e4c902a0b7a8eb3")' href=#id46a77e02d52b90d41e4c902a0b7a8eb3 aria-expanded=false aria-controls=id46a77e02d52b90d41e4c902a0b7a8eb3 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd63adc438d6d70c79381ae26a7a22de5")' href=#idd63adc438d6d70c79381ae26a7a22de5 aria-expanded=false aria-controls=idd63adc438d6d70c79381ae26a7a22de5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd63adc438d6d70c79381ae26a7a22de5 aria-expanded=false aria-controls=idd63adc438d6d70c79381ae26a7a22de5><i class="fa-solid fa-angle-right" id=caret-idd63adc438d6d70c79381ae26a7a22de5></i></a></div><ul class="nav docs-sidenav collapse" id=idd63adc438d6d70c79381ae26a7a22de5><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%90%91%E9%87%8F/>向量</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%BA%8F%E5%88%97%E7%B1%BB%E5%9E%8B/>序列类型</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id85a2d1184b84fa61a18f7909a6feef4e")' href=#id85a2d1184b84fa61a18f7909a6feef4e aria-expanded=false aria-controls=id85a2d1184b84fa61a18f7909a6feef4e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/>指针与引用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id85a2d1184b84fa61a18f7909a6feef4e aria-expanded=false aria-controls=id85a2d1184b84fa61a18f7909a6feef4e><i class="fa-solid fa-angle-right" id=caret-id85a2d1184b84fa61a18f7909a6feef4e></i></a></div><ul class="nav docs-sidenav collapse" id=id85a2d1184b84fa61a18f7909a6feef4e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddd219365bc1a785be337a8558af296af")' href=#iddd219365bc1a785be337a8558af296af aria-expanded=false aria-controls=iddd219365bc1a785be337a8558af296af aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3727fff674c8715fe6dcf76250edba5a")' href=#id3727fff674c8715fe6dcf76250edba5a aria-expanded=false aria-controls=id3727fff674c8715fe6dcf76250edba5a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%BC%95%E7%94%A8/>引用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3727fff674c8715fe6dcf76250edba5a aria-expanded=false aria-controls=id3727fff674c8715fe6dcf76250edba5a><i class="fa-solid fa-angle-right" id=caret-id3727fff674c8715fe6dcf76250edba5a></i></a></div><ul class="nav docs-sidenav collapse" id=id3727fff674c8715fe6dcf76250edba5a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida8f66656cc3b697541145e917aa3184c")' href=#ida8f66656cc3b697541145e917aa3184c aria-expanded=false aria-controls=ida8f66656cc3b697541145e917aa3184c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%BC%95%E7%94%A8/%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89/>移动语义</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida8f66656cc3b697541145e917aa3184c aria-expanded=false aria-controls=ida8f66656cc3b697541145e917aa3184c><i class="fa-solid fa-angle-right" id=caret-ida8f66656cc3b697541145e917aa3184c></i></a></div><ul class="nav docs-sidenav collapse" id=ida8f66656cc3b697541145e917aa3184c><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%BC%95%E7%94%A8/%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89/move-%E5%87%BD%E6%95%B0/>move 函数</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%BC%95%E7%94%A8/%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89/%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/>移动构造函数</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id553299b3080f458774a2bfecebc018b4")' href=#id553299b3080f458774a2bfecebc018b4 aria-expanded=false aria-controls=id553299b3080f458774a2bfecebc018b4 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%BC%95%E7%94%A8/%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8/>左值引用</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2c910025bcfc1d28f996cfcf13130b2d")' href=#id2c910025bcfc1d28f996cfcf13130b2d aria-expanded=false aria-controls=id2c910025bcfc1d28f996cfcf13130b2d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/>右值引用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2c910025bcfc1d28f996cfcf13130b2d aria-expanded=false aria-controls=id2c910025bcfc1d28f996cfcf13130b2d><i class="fa-solid fa-angle-right" id=caret-id2c910025bcfc1d28f996cfcf13130b2d></i></a></div><ul class="nav docs-sidenav collapse" id=id2c910025bcfc1d28f996cfcf13130b2d><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/>完美转发</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89/>移动语义</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/01.%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E6%A1%88%E4%BE%8B/>右值引用案例</a></li></ul></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id903b8a0ee644122103e233966874f331")' href=#id903b8a0ee644122103e233966874f331 aria-expanded=false aria-controls=id903b8a0ee644122103e233966874f331 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id319c9bea9db6121dd608df88a40e802c")' href=#id319c9bea9db6121dd608df88a40e802c aria-expanded=false aria-controls=id319c9bea9db6121dd608df88a40e802c aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida67faf576497ffbad01e3ccac5565852")' href=#ida67faf576497ffbad01e3ccac5565852 aria-expanded=false aria-controls=ida67faf576497ffbad01e3ccac5565852 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/>04.并发编程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida67faf576497ffbad01e3ccac5565852 aria-expanded=false aria-controls=ida67faf576497ffbad01e3ccac5565852><i class="fa-solid fa-angle-right" id=caret-ida67faf576497ffbad01e3ccac5565852></i></a></div><ul class="nav docs-sidenav collapse" id=ida67faf576497ffbad01e3ccac5565852><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0cff40632b8a2c36d25def80a4cd7d27")' href=#id0cff40632b8a2c36d25def80a4cd7d27 aria-expanded=false aria-controls=id0cff40632b8a2c36d25def80a4cd7d27 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd833deeae01ed488e900024da51a0712")' href=#idd833deeae01ed488e900024da51a0712 aria-expanded=false aria-controls=idd833deeae01ed488e900024da51a0712 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/>并发基础</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd833deeae01ed488e900024da51a0712 aria-expanded=false aria-controls=idd833deeae01ed488e900024da51a0712><i class="fa-solid fa-angle-right" id=caret-idd833deeae01ed488e900024da51a0712></i></a></div><ul class="nav docs-sidenav collapse" id=idd833deeae01ed488e900024da51a0712><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/%E8%BF%9B%E7%A8%8B/>进程</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/%E7%BA%BF%E7%A8%8B/>线程</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id11f51adf99f60988ca7e755c0b036579")' href=#id11f51adf99f60988ca7e755c0b036579 aria-expanded=false aria-controls=id11f51adf99f60988ca7e755c0b036579 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/>线程安全</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id11f51adf99f60988ca7e755c0b036579 aria-expanded=false aria-controls=id11f51adf99f60988ca7e755c0b036579><i class="fa-solid fa-angle-right" id=caret-id11f51adf99f60988ca7e755c0b036579></i></a></div><ul class="nav docs-sidenav collapse" id=id11f51adf99f60988ca7e755c0b036579><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/mutex/>Mutex</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/semaphore/>Semaphore</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E8%AF%BB%E5%86%99%E9%94%81/>读写锁</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E6%AD%BB%E9%94%81/>死锁</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/>条件变量</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E8%87%AA%E6%97%8B%E9%94%81/>自旋锁</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id35215a5071a03f1e8999b1e2817e5c91")' href=#id35215a5071a03f1e8999b1e2817e5c91 aria-expanded=false aria-controls=id35215a5071a03f1e8999b1e2817e5c91 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%8D%8F%E4%BD%9C/>线程协作</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id35215a5071a03f1e8999b1e2817e5c91 aria-expanded=false aria-controls=id35215a5071a03f1e8999b1e2817e5c91><i class="fa-solid fa-angle-right" id=caret-id35215a5071a03f1e8999b1e2817e5c91></i></a></div><ul class="nav docs-sidenav collapse" id=id35215a5071a03f1e8999b1e2817e5c91><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/04.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%8D%8F%E4%BD%9C/%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/>共享内存</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb39c810b4eb22bc131df61d7cf063596")' href=#idb39c810b4eb22bc131df61d7cf063596 aria-expanded=false aria-controls=idb39c810b4eb22bc131df61d7cf063596 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/10.linux-%E7%BC%96%E7%A8%8B/>10.Linux 编程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb39c810b4eb22bc131df61d7cf063596 aria-expanded=false aria-controls=idb39c810b4eb22bc131df61d7cf063596><i class="fa-solid fa-angle-right" id=caret-idb39c810b4eb22bc131df61d7cf063596></i></a></div><ul class="nav docs-sidenav collapse" id=idb39c810b4eb22bc131df61d7cf063596><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb550ae2082dffa15a5b96cf0fdf8fcac")' href=#idb550ae2082dffa15a5b96cf0fdf8fcac aria-expanded=false aria-controls=idb550ae2082dffa15a5b96cf0fdf8fcac aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ideb83c4ebe916de05b6ffc334a3fe1b1a")' href=#ideb83c4ebe916de05b6ffc334a3fe1b1a aria-expanded=false aria-controls=ideb83c4ebe916de05b6ffc334a3fe1b1a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id944dfec1b36f6fdcc9dd84c37536a277")' href=#id944dfec1b36f6fdcc9dd84c37536a277 aria-expanded=false aria-controls=id944dfec1b36f6fdcc9dd84c37536a277 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id944dfec1b36f6fdcc9dd84c37536a277 aria-expanded=false aria-controls=id944dfec1b36f6fdcc9dd84c37536a277><i class="fa-solid fa-angle-right" id=caret-id944dfec1b36f6fdcc9dd84c37536a277></i></a></div><ul class="nav docs-sidenav collapse" id=id944dfec1b36f6fdcc9dd84c37536a277><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id279e35e9c71e3473b1a5bb33c91c5a9b")' href=#id279e35e9c71e3473b1a5bb33c91c5a9b aria-expanded=false aria-controls=id279e35e9c71e3473b1a5bb33c91c5a9b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/>C++ Primer</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id279e35e9c71e3473b1a5bb33c91c5a9b aria-expanded=false aria-controls=id279e35e9c71e3473b1a5bb33c91c5a9b><i class="fa-solid fa-angle-right" id=caret-id279e35e9c71e3473b1a5bb33c91c5a9b></i></a></div><ul class="nav docs-sidenav collapse" id=id279e35e9c71e3473b1a5bb33c91c5a9b><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/01.%E5%BC%80%E5%A7%8B/>01.开始</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/02.%E5%8F%98%E9%87%8F%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/>02.变量和基本类型</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/03.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%90%91%E9%87%8F%E5%92%8C%E6%95%B0%E7%BB%84/>03.字符串、向量和数组</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/04.%E8%A1%A8%E8%BE%BE%E5%BC%8F/>04.表达式</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/05.%E8%AF%AD%E5%8F%A5/>05.语句</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/06.%E5%87%BD%E6%95%B0/>06.函数</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch07/>ch07</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch08/>ch08</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch09/>ch09</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch10/>ch10</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch11/>ch11</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch12/>ch12</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch13/>ch13</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch14/>ch14</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch15/>ch15</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch16/>ch16</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch17/>ch17</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch18/>ch18</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/c++-primer/ch19/>ch19</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idefb47ec0e2e3de3b2cfaecba1b75cbf1")' href=#idefb47ec0e2e3de3b2cfaecba1b75cbf1 aria-expanded=false aria-controls=idefb47ec0e2e3de3b2cfaecba1b75cbf1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/>Effective C++</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idefb47ec0e2e3de3b2cfaecba1b75cbf1 aria-expanded=false aria-controls=idefb47ec0e2e3de3b2cfaecba1b75cbf1><i class="fa-solid fa-angle-right" id=caret-idefb47ec0e2e3de3b2cfaecba1b75cbf1></i></a></div><ul class="nav docs-sidenav collapse" id=idefb47ec0e2e3de3b2cfaecba1b75cbf1><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-1-accustoming-yourself-to-cpp/>part-1-accustoming-yourself-to-cpp</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-2-constructors-destructors-and-assignment-operators/>part-2-constructors-destructors-and-assignment-operators</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-3-resource-management/>part-3-resource-management</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-4-designs-and-declarations/>part-4-designs-and-declarations</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-5-implementations/>part-5-implementations</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/part-6-inheritance-and-objected-oriented-design/>part-6-inheritance-and-objected-oriented-design</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id77e5d55d9813cedaf669ebc111fa76b3")' href=#id77e5d55d9813cedaf669ebc111fa76b3 aria-expanded=false aria-controls=id77e5d55d9813cedaf669ebc111fa76b3 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cpp/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/effective-c++/resource/>resource</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id77e5d55d9813cedaf669ebc111fa76b3 aria-expanded=false aria-controls=id77e5d55d9813cedaf669ebc111fa76b3><i class="fa-solid fa-angle-right" id=caret-id77e5d55d9813cedaf669ebc111fa76b3></i></a></div><ul class="nav docs-sidenav collapse" id=id77e5d55d9813cedaf669ebc111fa76b3><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb29370a10d00cfabb278fc8d722838fd")' href=#idb29370a10d00cfabb278fc8d722838fd aria-expanded=false aria-controls=idb29370a10d00cfabb278fc8d722838fd aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcb5f53019405e9c5354701d32f2fb6d5")' href=#idcb5f53019405e9c5354701d32f2fb6d5 aria-expanded=false aria-controls=idcb5f53019405e9c5354701d32f2fb6d5 aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd8fc39a1cab03ab573e393c550c0fa8a")' href=#idd8fc39a1cab03ab573e393c550c0fa8a aria-expanded=false aria-controls=idd8fc39a1cab03ab573e393c550c0fa8a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc93b5244a53ed2dff5ae89515421c411")' href=#idc93b5244a53ed2dff5ae89515421c411 aria-expanded=false aria-controls=idc93b5244a53ed2dff5ae89515421c411 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfb0523fc6d971c3405df43ef08f3c60e")' href=#idfb0523fc6d971c3405df43ef08f3c60e aria-expanded=false aria-controls=idfb0523fc6d971c3405df43ef08f3c60e aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id77122c7bf8705a9dccb1f1e18121551a")' href=#id77122c7bf8705a9dccb1f1e18121551a aria-expanded=false aria-controls=id77122c7bf8705a9dccb1f1e18121551a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd6767d6dc429d3be519a1bc2973c5f1b")' href=#idd6767d6dc429d3be519a1bc2973c5f1b aria-expanded=false aria-controls=idd6767d6dc429d3be519a1bc2973c5f1b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idff7903846b4e857f617e30557e2ddcb7")' href=#idff7903846b4e857f617e30557e2ddcb7 aria-expanded=false aria-controls=idff7903846b4e857f617e30557e2ddcb7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idff7903846b4e857f617e30557e2ddcb7 aria-expanded=false aria-controls=idff7903846b4e857f617e30557e2ddcb7><i class="fa-solid fa-angle-down" id=caret-idff7903846b4e857f617e30557e2ddcb7></i></a></div><ul class="nav docs-sidenav collapse show" id=idff7903846b4e857f617e30557e2ddcb7><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E5%88%9D%E7%AA%A5%E4%B8%8E%E8%AF%AD%E6%B3%95%E9%80%9F%E8%A7%88/>初窥与语法速览</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/>调试与测试</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E6%B3%9B%E5%9E%8B/>泛型</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E5%87%BD%E6%95%B0/>函数</a></li><li class="child level active"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/>类与对象</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a></li><li class="child level"><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E5%BA%8F%E5%88%97%E5%8C%96/>序列化</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#定义与实例化>定义与实例化</a><ul><li><a href=#属性properties>属性(Properties)</a></li><li><a href=#方法methods>方法(Methods)</a></li><li><a href=#访问控制>访问控制</a></li><li><a href=#静态属性方法>静态属性/方法</a></li></ul></li><li><a href=#对象>对象</a><ul><li><a href=#实例构造>实例构造</a></li><li><a href=#单例模式>单例模式</a></li><li><a href=#运算符重载>运算符重载</a></li></ul></li><li><a href=#继承>继承</a></li><li><a href=#协议>协议</a></li><li><a href=#扩展>扩展</a></li></ul><ul><li><a href=#comparison>Comparison</a><ul><li><a href=#performance>Performance</a></li></ul></li><li><a href=#differences>Differences</a><ul><li><a href=#inheritance>Inheritance</a></li><li><a href=#pass-by>Pass By</a></li><li><a href=#contextual-differences>Contextual Differences</a></li></ul></li><li><a href=#struct-vs-inheritance>Struct Vs Inheritance</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>类与对象</h1><div class=article-style><h1 id=类与对象>类与对象</h1><h2 id=定义与实例化>定义与实例化</h2><p>类的基本的定义方式如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Vehicle</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span><span class=p>?</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>maxSpeed</span> <span class=p>=</span> <span class=mi>80</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>description</span><span class=p>()</span> <span class=p>-&gt;</span> <span class=nb>String</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;A </span><span class=si>\(</span><span class=kc>self</span><span class=p>.</span><span class=n>color</span><span class=si>)</span><span class=s> vehicle&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>travel</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=s>&#34;Traveling at </span><span class=si>\(</span><span class=n>maxSpeed</span><span class=si>)</span><span class=s> kph&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=属性properties>属性(Properties)</h3><p>类的类型属性：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SomeClass</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>class</span> <span class=nc>var</span> <span class=n>computedTypeProperty</span><span class=p>:</span> <span class=nb>Int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 这里返回一个 Int 值</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=lazy延迟存储属性>lazy:延迟存储属性</h4><p>延迟存储属性是指当第一次被调用的时候才会计算其初始值的属性。在属性声明前使用 lazy 来标示一个延迟存储属性。</p><blockquote><p>注意</p></blockquote><blockquote><p>必须将延迟存储属性声明成变量(使用 var 关键字)，因为属性的初始值可能在实例构造完成之后才会得到。而常量属性在构造过程完成之前必须要有初始值，因此无法声明成延迟属性。</p></blockquote><p>最简单的 lazy 的用法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//直接赋值变量</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>lazy</span> <span class=kd>var</span> <span class=nv>players</span> <span class=p>=</span> <span class=nb>String</span><span class=p>[]()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//赋值为初始化的某个对象</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>DataImporter</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    DataImporter 是一个负责将外部文件中的数据导入的类。
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    这个类的初始化会消耗不少时间。
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>fileName</span> <span class=p>=</span> <span class=s>&#34;data.txt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 这里会提供数据导入功能</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>DataManager</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//初始化某个对象</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>lazy</span> <span class=kd>var</span> <span class=nv>importer</span> <span class=p>=</span> <span class=n>DataImporter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>data</span> <span class=p>=</span> <span class=p>[</span><span class=nb>String</span><span class=p>]()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 这里会提供数据管理功能</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>manager</span> <span class=p>=</span> <span class=n>DataManager</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>manager</span><span class=p>.</span><span class=n>data</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&#34;Some data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>manager</span><span class=p>.</span><span class=n>data</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&#34;Some more data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// DataImporter 实例的 importer 属性还没有被创建</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//使用闭包方法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>lazy</span> <span class=kd>var</span> <span class=nv>players</span><span class=p>:</span> <span class=nb>String</span><span class=p>[]</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nv>temporaryPlayers</span> <span class=p>=</span> <span class=nb>String</span><span class=p>[]()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>temporaryPlayers</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&#34;Mike Buss&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>temporaryPlayers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//使用类方法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>lazy</span> <span class=kd>var</span> <span class=nv>players</span> <span class=p>=</span> <span class=n>MultipeerManager</span><span class=p>.</span><span class=n>initialPlayers</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>func</span> <span class=n>initialPlayers</span><span class=p>()</span> <span class=p>-&gt;</span> <span class=nb>String</span><span class=p>[]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>players</span> <span class=p>=</span> <span class=p>[</span><span class=s>&#34;Mike Buss&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>players</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>适合延迟加载的场景，一般而言有两种：</p><p>(1)属性的初始值需要进行大量计算之时</p><p>就如上面代码中提及的<code>DataImporter</code>而言，完成初始化需要消耗不少时间：因为它的实例在初始化时可能要打开文件，还要读取文件内容到内存。由于使用了 lazy，importer 属性只有在第一次被访问的时候才被创建。比如访问它的属性 fileName 时：</p><pre tabindex=0><code>
print(manager.importer.fileName)

// DataImporter 实例的 importer 属性现在被创建了

// 输出 &#34;data.txt”
</code></pre><p>(2)对象的属性的初始值依赖与其它的属性</p><p>举例来说，你有一个 Person 类以及一个 personalizedGreeting 属性。这个 personalizedGreeting 属性需要在对象创建完成后才延迟加载，因为只有在对象创建完成后它才能知道问候的人是谁(person 的 name)。请看代码：</p><pre tabindex=0><code>
class Person {



    var name: String



    @lazy var personalizedGreeting: String = {

        [unowned self] in

        return &#34;Hello, \(self.name)!&#34;

        }()



    init(name: String) {

        self.name = name

    }

}
</code></pre><p>注意，你必须使用 [unowned self]来避免循环引用。[unowned self]定义了一个在闭包中需要使用的、存在于闭包外的属性/变量列表，又叫捕获列表(capture list)。</p><p>当你实例化一个 person 时，他的问候语 greeting 此时并没有创建：</p><pre tabindex=0><code>
let person = Person(name: &#34;Robert Redford”)

// person.personalizedGreeting is nil
</code></pre><p>但是当你尝试打印出问候语时，这句问候语会自动生成出来：</p><pre tabindex=0><code>
NSLog(person.personalizedGreeting)

// personalizedGreeting is calculated when used

// and now contains the value &#34;Hello, Robert Redford!&#34;
</code></pre><h4 id=property-observer属性监控>Property Observer(属性监控)</h4><p>利用属性监视器可以在属性设置之前(willSet)以及值变动之后(didSet)进行一系列地操作，如下这个例子是 Apple 官方的例子，即是在进度条值设置变化之后进行重渲染。</p><pre tabindex=0><code>
@IBInspectable var progress: Float = 0.75 {

    didSet {

        setNeedsDisplay()

    }

}
</code></pre><h3 id=方法methods>方法(Methods)</h3><h3 id=访问控制>访问控制</h3><p>在将一个方法或属性声明为 public 时,App 中的所有人都能看到它:</p><pre tabindex=0><code>
// 可供所有人访问

public var publicProperty = 123



//如果将一个方法或属性声明为 private,那只能在声明它的源文件内部看到它:

// 只能在这个源文件中访问

private var privateProperty = 123



// 仅能供本模块访问

// 这里的&#39;internal&#39;是默认的,可以省略

internal var internalProperty = 123
</code></pre><h3 id=静态属性方法>静态属性/方法</h3><p>Swift 声明静态属性/方法的方式有两种，一种是利用<code>class</code>关键字，声明为类属性/方法，另一种是用<code>static</code>关键字。</p><blockquote><p>In a class declaration, the keyword static has the same effect as marking the declaration with both the class and final declaration modifiers.</p></blockquote><p>举例来说：</p><pre tabindex=0><code>class ClassA {
  class func func1() -&gt; String {
    return &#34;func1&#34;
  }

  static func func2() -&gt; String {
    return &#34;func2&#34;
  }

  /* same as above
  class final func func2() -&gt; String {
    return &#34;func2&#34;
  }
  */
}
</code></pre><p><code>static</code>即是<code>class final</code>，即在 Swift 中，一旦声明为了<code>static</code>，就不可以在子类中进行复写了：</p><pre tabindex=0><code>class ClassB : ClassA {
  override class func func1() -&gt; String {
    return &#34;func1 in ClassB&#34;
  }

  // ERROR: Class method overrides a &#39;final` class method
  override static func func2() -&gt; String {
    return &#34;func2 in ClassB&#34;
  }
}
</code></pre><h2 id=对象>对象</h2><h3 id=实例构造>实例构造</h3><p>在 init 方法及其重载方法中，可以对于使用 let 声明的变量进行赋值。在 Swift 中 let 声明的值是不变量，无法被写入赋值，这对于构建线程安全的 API 十分有用。而因为 Swift 的 init 只可能被调用一次，因此在 init 中我们可以为不变量进行赋值，而不会引起任何线程安全的问题。最简单的实例化方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nv>redVehicle</span> <span class=p>=</span> <span class=n>Vehicle</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>redVehicle</span><span class=p>.</span><span class=n>color</span> <span class=p>=</span> <span class=s>&#34;Red&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>redVehicle</span><span class=p>.</span><span class=n>maxSpeed</span> <span class=p>=</span> <span class=mi>90</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>redVehicle</span><span class=p>.</span><span class=n>travel</span><span class=p>()</span> <span class=c1>// 输出&#34;Traveling at 90 kph&#34; redVehicle.description() // = &#34;A Red vehicle&#34;</span>
</span></span></code></pre></div><p>也可以重载类的构造函数，使之能够有不同的参数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>InitAndDeinitExample</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 指定的初始化器(也就是主初始化器)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=s>&#34;I&#39;ve been created!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 便捷初始化器,是调用上述指定初始化器所必需的</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>convenience</span> <span class=kd>init</span> <span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=nb>String</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kc>self</span><span class=p>.</span><span class=kd>init</span><span class=p>()</span> <span class=c1>// 这是必需的</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=s>&#34;I was called with the convenience initializer!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 反初始化器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>deinit</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=s>&#34;I&#39;m going away!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nv>example</span> <span class=p>:</span> <span class=n>InitAndDeinitExample</span><span class=p>?</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用指定的初始化器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>example</span> <span class=p>=</span> <span class=n>InitAndDeinitExample</span><span class=p>()</span> <span class=c1>// 输出&#34;I&#39;ve been created!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>example</span> <span class=p>=</span> <span class=kc>nil</span> <span class=c1>// 输出&#34;I&#39;m going away&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用便捷初始化器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>example</span> <span class=p>=</span> <span class=n>InitAndDeinitExample</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出&#34;I&#39;ve been created!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 然后输出&#34;I was called with the convenience initializer&#34;</span>
</span></span></code></pre></div><p>创建一个可以返回 nil 的初始化器(也称为可以失败的初始化器),就在 init 关键字的后面放上一个问号,并在初始化器确定它不能成功地构造该对象时,使用 return nil:</p><pre tabindex=0><code>
convenience init? (value: Int) {

    self.init()

    if value &gt; 5 {

        // 不能初始化这个对象;返回nil,表示初始化失败 return nil

    } }
</code></pre><p>在使用一个可以失败的初始化器时,任何可以在其中存储该结果的变量都是可选的:</p><pre tabindex=0><code>
let failableExample = InitAndDeinitExample(value: 6)

// = nil
</code></pre><h4 id=required父类指定子类必须实现的初始化函数>required:父类指定子类必须实现的初始化函数</h4><p>如果子类需要添加异于父类的初始化方法时，必须先要实现父类中使用 required 修饰符修饰过的初始化方法，并且也要使用 required 修饰符而不是 override。</p><pre tabindex=0><code>
class MyClass {
    var str:String
    required init(str:String) {
        self.str = str
    }
}

class MySubClass:MyClass
{
    required init(str:String) {
        super.init(str: str)
    }

    init(i:Int) {
        super.init(str:String(i))
    }

}

MySubClass(i: 10)
</code></pre><p>如果子类中不需要添加任何初始化方法，我们则可以忽略父类的 required 初始化方法：</p><pre tabindex=0><code>
class MyClass {
    var str:String
    required init(str:String) {
        self.str = str
    }
}

class MySubClass:MyClass
{


}

MySubClass(str: &#34;hello swift&#34;)
</code></pre><p>在这种情况下，编译器不会报错，因为如果子类没有任何初始化方法时，Swift 会默认使用父类的初始化方法。在 Apple 的文档中也有相关描述：</p><blockquote><p>You do not have to provide an explicit implementation of a required initializer if you can satisfy the requirement with an inherited initialiser.
required 修饰符的使用规则</p></blockquote><p>required 修饰符只能用于修饰类初始化方法。
当子类含有异于父类的初始化方法时(初始化方法参数类型和数量异于父类)，子类必须要实现父类的 required 初始化方法，并且也要使用 required 修饰符而不是 override。
当子类没有初始化方法时，可以不用实现父类的 required 初始化方法。</p><h4 id=convenience调用其他方法保证非-optional-对象初始化>convenience:调用其他方法保证非 Optional 对象初始化</h4><p>在 Objective-C 中，init 方法是非常不安全的：没有人能保证 init 只被调用一次，也没有人保证在初始化方法调用以后实例的各个变量都完成初始化，甚至如果在初始化里使用属性进行设置的话，还可能会造成各种问题，虽然 Apple 也明确说明了不应该在 init 中使用属性来访问，但是这并不是编译器强制的，因此还是会有很多开发者犯这样的错误。</p><p>所以 Swift 有了超级严格的初始化方法。一方面，Swift 强化了 designated 初始化方法的地位。Swift 中不加修饰的 init 方法都需要在方法中保证所有非 Optional 的实例变量被赋值初始化，而在子类中也强制 (显式或者隐式地) 调用 super 版本的 designated 初始化，所以无论如何走何种路径，被初始化的对象总是可以完成完整的初始化的。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ClassA</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>numA</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>    <span class=kd>init</span><span class=p>(</span><span class=n>num</span><span class=p>:</span> <span class=nb>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>numA</span> <span class=p>=</span> <span class=n>num</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ClassB</span><span class=p>:</span> <span class=n>ClassA</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>numB</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>override</span> <span class=kd>init</span><span class=p>(</span><span class=n>num</span><span class=p>:</span> <span class=nb>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>numB</span> <span class=p>=</span> <span class=n>num</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=kc>super</span><span class=p>.</span><span class=kd>init</span><span class=p>(</span><span class=n>num</span><span class=p>:</span> <span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>与 designated 初始化方法对应的是在 init 前加上 convenience 关键字的初始化方法。这类方法是 Swift 初始化方法中的 “二等公民”，只作为补充和提供使用上的方便。所有的 convenience 初始化方法都必须调用同一个类中的 designated 初始化完成设置，另外 convenience 的初始化方法是不能被子类重写或者是从子类中以 super 的方式被调用的。</p><pre tabindex=0><code>
class ClassA {
    let numA: Int
    init(num: Int) {
        numA = num
    }

    convenience init(bigNum: Bool) {
        self.init(num: bigNum ? 10000 : 1)
    }
}

class ClassB: ClassA {
    let numB: Int

    override init(num: Int) {
        numB = num + 1
        super.init(num: num)
    }
}
</code></pre><p>只要在子类中实现重写了父类 convenience 方法所需要的 init 方法的话，我们在子类中就也可以使用父类的 convenience 初始化方法了。比如在上面的代码中，我们在 ClassB 里实现了 init(num: Int) 的重写。这样，即使在 ClassB 中没有 bigNum 版本的 convenience init(bigNum: Bool)，我们仍然还是可以用这个方法来完成子类初始化：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>anObj</span> <span class=p>=</span> <span class=n>ClassB</span><span class=p>(</span><span class=n>bigNum</span><span class=p>:</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// anObj.numA = 10000, anObj.numB = 10001</span>
</span></span></code></pre></div><h3 id=单例模式>单例模式</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>import</span> <span class=nc>UIKit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>DataCenter</span><span class=p>:</span> <span class=n>NSObject</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>dataCenterObj</span><span class=p>:</span><span class=n>DataCenter</span> <span class=p>=</span> <span class=n>DataCenter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>getDataCenter</span><span class=p>()</span> <span class=p>-&gt;</span><span class=n>DataCenter</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dataCenterObj</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=运算符重载>运算符重载</h3><p>类似 C++的运算符重载</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Vector2D</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>x</span> <span class=p>:</span> <span class=nb>Float</span> <span class=p>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>y</span> <span class=p>:</span> <span class=nb>Float</span> <span class=p>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>init</span> <span class=p>(</span><span class=n>x</span> <span class=p>:</span> <span class=nb>Float</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=nb>Float</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kc>self</span><span class=p>.</span><span class=n>x</span> <span class=p>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kc>self</span><span class=p>.</span><span class=n>y</span> <span class=p>=</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=o>+</span><span class=p>(</span><span class=kr>left</span> <span class=p>:</span> <span class=n>Vector2D</span><span class=p>,</span> <span class=kr>right</span><span class=p>:</span> <span class=n>Vector2D</span><span class=p>)</span> <span class=p>-&gt;</span> <span class=n>Vector2D</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>result</span> <span class=p>=</span> <span class=n>Vector2D</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=kr>left</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=kr>right</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=kr>left</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=kr>right</span><span class=p>.</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>first</span> <span class=p>=</span> <span class=n>Vector2D</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>second</span> <span class=p>=</span> <span class=n>Vector2D</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>result</span> <span class=p>=</span> <span class=bp>first</span> <span class=o>+</span> <span class=n>second</span>
</span></span></code></pre></div><h2 id=继承>继承</h2><p>要重写一个函数,要在子类中重新声明它,并添加 override 关键字</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Car</span><span class=p>:</span> <span class=n>Vehicle</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 继承类可以重写函数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>override</span> <span class=kd>func</span> <span class=nf>description</span><span class=p>()</span> <span class=p>-&gt;</span> <span class=nb>String</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  	<span class=kd>var</span> <span class=nv>description</span> <span class=p>=</span> <span class=kc>super</span><span class=p>.</span><span class=n>description</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  	<span class=k>return</span> <span class=n>description</span> <span class=o>+</span> <span class=s>&#34;, which is a car&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=p>}</span>
</span></span></code></pre></div><p>在一个被重写的函数中,可以通过 super 回调该函数在父类中的版本</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>override</span> <span class=kd>func</span> <span class=nf>description</span><span class=p>()</span> <span class=p>-&gt;</span> <span class=nb>String</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=kd>var</span> <span class=nv>description</span> <span class=p>=</span> <span class=kc>super</span><span class=p>.</span><span class=n>description</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>return</span> <span class=n>description</span> <span class=o>+</span> <span class=s>&#34;, which is a car&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=协议>协议</h2><p>使用协议的好处是,可以利用 Swift 的类型体系来引用任何遵守某一给定协议的对象，个人现在理解为是 Interface 概念。</p><pre tabindex=0><code>
protocol Blinking{

    var isBlinking:Bool{get}

    var blinkSpeed: Double { get set }

    func startBlinking(blinkSpeed: Double) -&gt; Void



}



class Light:Blinking{

    var isBlinking = false

    var blinkSpeed = 1.2

    func startBlinking(blinkSpeed: Double) {

            print(&#34;now my speed is \(self.blinkSpeed)&#34;)

    }



}
</code></pre><h2 id=扩展>扩展</h2><pre tabindex=0><code>
 extension Int {

         var doubled : Int {

             return self * 2

         }

         func multiplyWith(anotherNumber: Int) -&gt; Int {

             return self * anotherNumber

} }



2.doubled  // = 4

4.multiplyWith(32) // = 128
</code></pre><p>还可以利用扩展使一个类型遵守一个协议</p><pre tabindex=0><code>
extension Int : Blinking {

    var isBlinking : Bool {

        return false;

    }

    var blinkSpeed : Double {

        get {

            return 0.0; }

        set {

            // 不做任何事情

        } }

    func startBlinking(blinkSpeed : Double) {

        print(&#34;I am the integer \(self). I do not blink.&#34;)

    } }

2.isBlinking // = false

2.startBlinking(2.0) // 输出&#34;I am the integer 2. I do not blink.&#34;
</code></pre><h1 id=struct结构体>Struct(结构体)</h1><h2 id=comparison>Comparison</h2><p>According to the very popular WWDC 2015 talk Protocol Oriented Programming in Swift (video,transcript), Swift provides a number of features that make structs better than classes in many circumstances.</p><p>Structs are preferable if they are relatively small and copiable because copying is way safer than having multiple reference to the same instance as happens with classes. This is especially important when passing around a variable to many classes and/or in a multithreaded environment. If you can always send a copy of your variable to other places, you never have to worry about that other place changing the value of your variable underneath you.</p><p>With Structs there is no need to worry about memory leaks or multiple threads racing to access/modify a single instance of a variable.</p><p>Classes can also become bloated because a class can only inherit from a single superclass. That encourages us to created huge superclasses that encompass many different abilities that are only loosely related. Using protocols, especially with protocol extensions where you can provide implementations to protocols, allows you to eliminate the need for classes to achieve this sort of behavior.</p><p>The talk lays out these scenarios where classes are preferred:</p><p>Copying or comparing instances doesn&rsquo;t make sense (e.g., Window)</p><p>Instance lifetime is tide to external effects (e.g., TemporaryFile)</p><p>Instances are just &ldquo;sinks&rdquo;&ndash;write-only conduits to external state (e.g.CGContext)</p><p>It implies that structs should be the default and classes should be a fallback.</p><p>On the other hand, The Swift Programming Language documentation is somewhat contradictory:</p><p>Structure instances are always passed by value, and class instances are always passed by reference. This means that they are suited to different kinds of tasks. As you consider the data constructs and functionality that you need for a project, decide whether each data construct should be defined as a class or as a structure.</p><p>As a general guideline, consider creating a structure when one or more of these conditions apply:</p><blockquote><ul><li>The structure’s primary purpose is to encapsulate a few relatively simple data values.</li></ul></blockquote><blockquote><ul><li>It is reasonable to expect that the encapsulated values will be copied rather than referenced when you assign or pass around an instance of that structure.</li></ul></blockquote><blockquote><ul><li>Any properties stored by the structure are themselves value types, which would also be expected to be copied rather than referenced.</li></ul></blockquote><blockquote><ul><li>The structure does not need to inherit properties or behavior from another existing type.</li></ul></blockquote><p>Examples of good candidates for structures include:</p><p>The size of a geometric shape, perhaps encapsulating a width property and a height property, both of type Double.</p><p>A way to refer to ranges within a series, perhaps encapsulating a start property and a length property, both of type Int.</p><p>A point in a 3D coordinate system, perhaps encapsulating x, y and z properties, each of type Double.</p><p>In all other cases, define a class, and create instances of that class to be managed and passed by reference. In practice, this means that most custom data constructs should be classes, not structures.</p><p>Here it is claiming that we should default to using classes and use structures only in specific circumstances. Ultimately, you need to understand the real world implication of value types v.s. reference types and then you can make an informed decision about when to use structs or classes. Also keep in mind that these concepts are always evolving and The Swift Programming Language documentation was written before the Protocol Oriented Programming talk was given.</p><p>My personal advice, is to always default to using a struct because they greatly reduce complexity and fallback to classes if the Struct becomes very large or requires some feature that structs and protocols cannot provide, most notably the ability to have multiple variables reference the same data。</p><h3 id=performance>Performance</h3><p>One big advantage is performance. Since struct instances are allocated on stack, and class instances are allocated on heap, structs can be drastically faster.</p><p>Consider the following example, which demonstrates 2 strategies of wrapping Int data type (e.g. as part of a mathematics library)</p><pre tabindex=0><code>
class IntClass {

    var value: Int

    init(_ val: Int) { self.value = val }

}



struct IntStruct {

    var value: Int

    init(_ val: Int) { self.value = val }

}



func + (x: IntClass, y: IntClass) -&gt; IntClass {

    return IntClass(x.value + y.value)

}



func + (x: IntStruct, y: IntStruct) -&gt; IntStruct {

    return IntStruct(x.value + y.value)

}
</code></pre><p>and measure the performance using</p><pre tabindex=0><code>
// Test 1: IntClass

var x = IntClass(0)

for i in 1...10000000 {

    x = x + IntClass(1)

}



// Test 2: IntStruct

var y = IntStruct(0)

for i in 1...10000000 {

    y = y + IntStruct(1)

}
</code></pre><p>UPDATE (1 June 2014):</p><p>As of Swift 1.2, XCode 6.3.2, running Release build on iPhone 5S, iOS 8.3, averaged over 5 runs</p><ul><li><p>The class version took 9.788332333s</p></li><li><p>The struct version took 0.010532942s</p></li></ul><p>That&rsquo;s 900 times faster.</p><h2 id=differences>Differences</h2><h3 id=inheritance>Inheritance</h3><p>structures can&rsquo;t inherit in swift. If you want</p><p>class Vehicle{</p><p>}</p><p>class Car : Vehicle{</p><p>}</p><p>Go for an class.</p><h3 id=pass-by>Pass By</h3><p>Swift structures pass by value and class instances pass by reference.</p><h3 id=contextual-differences>Contextual Differences</h3><p>Struct constant and variables</p><p>Example (Used at WWDC 2014)</p><pre tabindex=0><code>
struct Point{

   var x = 0.0;

   var y = 0.0;

}
</code></pre><p>Defines a struct called Point.</p><pre tabindex=0><code>
var point = Point(x:0.0,y:2.0)
</code></pre><p>Now if I try to change the x. Its a valid expression.</p><pre tabindex=0><code>
point.x = 5
</code></pre><p>But if I defined a point as constant.</p><pre tabindex=0><code>
let point = Point(x:0.0,y:2.0)

point.x = 5 //This will give compile time error.
</code></pre><p>In this case entire point is immutable constant.</p><p>If I used a class Point instead this is a valid expression. Because in a class immutable constant is the reference to the class itself not its instance variables (Unless those variables defined as constants)</p><h2 id=struct-vs-inheritance>Struct Vs Inheritance</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// #!Swift-1.1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>import</span> <span class=nc>Foundation</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - (1) classes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Solution 1:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - Use classes instead of struct</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Issue: Violate the concept of moving model to the value layer</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//        http://realm.io/news/andy-matuschak-controlling-complexity/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>typealias</span> <span class=n>JSONDict</span> <span class=p>=</span> <span class=p>[</span><span class=n>NSObject</span><span class=p>:</span><span class=nb>AnyObject</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Vehicle1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>model</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;model&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>color</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;color&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Car1</span> <span class=p>:</span> <span class=n>Vehicle1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>horsepower</span><span class=p>:</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>license_plate</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kr>override</span> <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=kc>super</span><span class=p>.</span><span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>horsepower</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;horsepower&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>license_plate</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;license_plate&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Bicycle1</span> <span class=p>:</span> <span class=n>Vehicle1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>chainrings</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>sprockets</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kr>override</span> <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=kc>super</span><span class=p>.</span><span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>chainrings</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;chainrings&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>sprockets</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;sprockets&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - (2) struct + composition</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Solution 2:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - keep value types</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - use composition.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Issue: We violate the encapsulation principle, exposing the internal composition to the outside world</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Vehicle2</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>model</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;model&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>color</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;color&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Car2</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>vehicle</span><span class=p>:</span> <span class=n>Vehicle2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>horsepower</span><span class=p>:</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>license_plate</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>vehicle</span> <span class=p>=</span> <span class=n>Vehicle2</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>horsepower</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;horsepower&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>license_plate</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;license_plate&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Bicycle2</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>vehicle</span><span class=p>:</span> <span class=n>Vehicle2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>chainrings</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>sprockets</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>vehicle</span> <span class=p>=</span> <span class=n>Vehicle2</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>chainrings</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;chainrings&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>sprockets</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;sprockets&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - (3) struct, protocol + composition for parsing</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Solution 3:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - keep value types, use a protocol</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - use intermediate struct only for parsing to keep encapsulation</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Issue: None… except code verbosity</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>protocol</span> <span class=nc>Vehicle3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span> <span class=p>{</span> <span class=kr>get</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span> <span class=p>{</span> <span class=kr>get</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kd>struct</span> <span class=nc>VehicleFields3</span> <span class=p>:</span> <span class=n>Vehicle3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>model</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;model&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>color</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;color&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Car3</span> <span class=p>:</span> <span class=n>Vehicle3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>horsepower</span><span class=p>:</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>license_plate</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=kd>let</span> <span class=nv>vehicle</span> <span class=p>=</span> <span class=n>VehicleFields3</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>model</span> <span class=p>=</span> <span class=n>vehicle</span><span class=p>.</span><span class=n>model</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>color</span> <span class=p>=</span> <span class=n>vehicle</span><span class=p>.</span><span class=n>color</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>horsepower</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;horsepower&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>license_plate</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;license_plate&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Bicycle3</span> <span class=p>:</span> <span class=n>Vehicle3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>chainrings</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>sprockets</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=kd>let</span> <span class=nv>vehicle</span> <span class=p>=</span> <span class=n>VehicleFields3</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>jsonDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>model</span> <span class=p>=</span> <span class=n>vehicle</span><span class=p>.</span><span class=n>model</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>color</span> <span class=p>=</span> <span class=n>vehicle</span><span class=p>.</span><span class=n>color</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>chainrings</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;chainrings&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>sprockets</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;sprockets&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - (4) struct, protocols + global function for parsing</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Solution 4: [Does not compile]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - keep value types, use a protocol</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  - use a global function to fill the objects&#39;s fields conforming to the protocol</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Issue: does not work (it seems we can&#39;t pass &#39;self&#39; as inout in the init() method)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//        exposes the setter in the protocol and the structs anyway (so bad access protection)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>protocol</span> <span class=nc>Vehicle4</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span> <span class=p>{</span> <span class=kr>get</span> <span class=kr>set</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span> <span class=p>{</span> <span class=kr>get</span> <span class=kr>set</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kd>func</span> <span class=nf>parseVehicle4Fields</span><span class=p>(</span><span class=kr>inout</span> <span class=n>obj</span><span class=p>:</span> <span class=n>Vehicle4</span><span class=p>,</span> <span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=n>obj</span><span class=p>.</span><span class=n>model</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;model&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=n>obj</span><span class=p>.</span><span class=n>color</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;color&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Car4</span> <span class=p>:</span> <span class=n>Vehicle4</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>horsepower</span><span class=p>:</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>license_plate</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>parseVehicle4Fields</span><span class=p>(&amp;</span><span class=kc>self</span><span class=p>,</span> <span class=n>jsonDict</span><span class=p>)</span> <span class=c1>// Error: Car4 is not identical to Vehicle4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>horsepower</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;horsepower&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>license_plate</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;license_plate&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>struct</span> <span class=nc>Bicycle4</span> <span class=p>:</span> <span class=n>Vehicle4</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>model</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nv>color</span><span class=p>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>chainrings</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>let</span> <span class=nv>sprockets</span><span class=p>:</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>init</span><span class=p>(</span><span class=n>jsonDict</span><span class=p>:</span> <span class=n>JSONDict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>parseVehicle4Fields</span><span class=p>(&amp;</span><span class=kc>self</span><span class=p>,</span> <span class=n>jsonDict</span><span class=p>)</span> <span class=c1>// Error: Bicycle4 is not identical to Vehicle4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>chainrings</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;chainrings&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=n>sprockets</span> <span class=p>=</span> <span class=n>jsonDict</span><span class=p>[</span><span class=s>&#34;sprockets&#34;</span><span class=p>]</span> <span class=k>as</span> <span class=nb>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E5%87%BD%E6%95%B0/ rel=next>函数</a></div><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/cs-notes/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/swift/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ rel=prev>数据结构</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>