<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
  

  

  
  
  
    
  
  <meta name="description" content="变量 Shell 中存在三种变量： 局部变量：局部变量在脚本或命令中定义，仅在当前 Shell 实例中有效，其他 Shell 启动的程序不能访问局部变量。 环境变量：所有的程序，包括 Shell 启动的程序，都能访问环境变量，有些程序需要环境变量来保证" />

  
  <link rel="alternate" hreflang="zh" href="https://ng-tech.icu/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%8F%98%E9%87%8F/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css" integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin="anonymous">
    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.0d97305106da5efa530e28b021b4c580.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-40NYXJ8823");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://ng-tech.icu/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%8F%98%E9%87%8F/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@wx-chevalier" />
    <meta property="twitter:creator" content="@wx-chevalier" />
  
  <meta property="og:site_name" content="Next-gen Tech Edu" />
  <meta property="og:url" content="https://ng-tech.icu/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%8F%98%E9%87%8F/" />
  <meta property="og:title" content="变量 | Next-gen Tech Edu" />
  <meta property="og:description" content="变量 Shell 中存在三种变量： 局部变量：局部变量在脚本或命令中定义，仅在当前 Shell 实例中有效，其他 Shell 启动的程序不能访问局部变量。 环境变量：所有的程序，包括 Shell 启动的程序，都能访问环境变量，有些程序需要环境变量来保证" /><meta property="og:image" content="https://ng-tech.icu/media/sharing.png" />
    <meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
    
  

  



  

  

  





  <title>变量 | Next-gen Tech Edu</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="4110f11592fdac89758c60a57023ac7a" >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/books-gallery"><span>笔记（万篇）</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#knowledge-map"><span>知识图谱</span></a>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>实验室</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/galaxy-home/gh-craft"><span>Craft 方块世界</span></a>
              
                <a class="dropdown-item" href="/galaxy-home/glossary-cards"><span>3D 知识卡牌</span></a>
              
            </div>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>其他阅读渠道</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png"></img><span>知乎</span></a>
              
                <a class="dropdown-item" href="https://segmentfault.com/blog/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png"></img><span>SegmentFault</span></a>
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png"></img><span>掘金</span></a>
              
            </div>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link" href="https://github.com/wx-chevalier" aria-label="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>
        </li>
        

        
        
        

        
        
        
        <div></div>
        
        <style>
        @media only screen and (max-width: 600px) {
          .jimmysong-template {
            display: none!important;
          }
        }
        </style>
        
        <li class="jimmysong-template" style="color: white;font-size: 12px;">
          <a href="https://jimmysong.io" style="color: white">By Jimmy Song's Template</a>
        </li>
      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">
<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          语法基础
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      <ul class="nav docs-sidenav">
        <li style="display: inline-flex">
          <a style="cursor: pointer;" onclick="window.history.back()">
            <i class="fas fa-arrow-left pr-1"></i>
            Back
          </a>
          <span>|</span>
          <a href="/books/">
            <i class="fa-solid fa-house" style="margin-right: 4px"></i>
            Books
          </a>
        </li>
      </ul>

      
      
        
          
        
      



  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id959aa54f3eb0b0ef694a83131a104f23&#34;)" href="#id959aa54f3eb0b0ef694a83131a104f23" aria-expanded="false" aria-controls="id959aa54f3eb0b0ef694a83131a104f23" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/">Shell 编程</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id959aa54f3eb0b0ef694a83131a104f23" aria-expanded="false" aria-controls="id959aa54f3eb0b0ef694a83131a104f23">
    
    <i class="fa-solid fa-angle-down" id="caret-id959aa54f3eb0b0ef694a83131a104f23"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id959aa54f3eb0b0ef694a83131a104f23">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-ide0b1225e7f4eed50e155958f898f7999&#34;)" href="#ide0b1225e7f4eed50e155958f898f7999" aria-expanded="false" aria-controls="ide0b1225e7f4eed50e155958f898f7999" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0/">函数</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#ide0b1225e7f4eed50e155958f898f7999" aria-expanded="false" aria-controls="ide0b1225e7f4eed50e155958f898f7999">
    
        <i class="fa-solid fa-angle-right" id="caret-ide0b1225e7f4eed50e155958f898f7999"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="ide0b1225e7f4eed50e155958f898f7999">
      



  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0/%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8/">函数调用</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0/%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/">函数定义</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E4%B8%8E%E8%BF%94%E5%9B%9E/">局部变量与返回</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idc05c4965711082f357cf6a0a7a6afdf8&#34;)" href="#idc05c4965711082f357cf6a0a7a6afdf8" aria-expanded="false" aria-controls="idc05c4965711082f357cf6a0a7a6afdf8" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E4%BA%A4%E4%BA%92%E5%BC%8F-shell/">交互式 Shell</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idc05c4965711082f357cf6a0a7a6afdf8" aria-expanded="false" aria-controls="idc05c4965711082f357cf6a0a7a6afdf8">
    
        <i class="fa-solid fa-angle-right" id="caret-idc05c4965711082f357cf6a0a7a6afdf8"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idc05c4965711082f357cf6a0a7a6afdf8">
      



  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E4%BA%A4%E4%BA%92%E5%BC%8F-shell/funny-terminals/">Funny Terminals</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E4%BA%A4%E4%BA%92%E5%BC%8F-shell/%E8%8F%9C%E5%8D%95%E4%B8%8E%E5%AF%B9%E8%AF%9D%E6%A1%86/">菜单与对话框</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id4f728a05f1c1fd754df067f542c1ac80&#34;)" href="#id4f728a05f1c1fd754df067f542c1ac80" aria-expanded="false" aria-controls="id4f728a05f1c1fd754df067f542c1ac80" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">流程控制</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id4f728a05f1c1fd754df067f542c1ac80" aria-expanded="false" aria-controls="id4f728a05f1c1fd754df067f542c1ac80">
    
        <i class="fa-solid fa-angle-right" id="caret-id4f728a05f1c1fd754df067f542c1ac80"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id4f728a05f1c1fd754df067f542c1ac80">
      



  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/">条件判断</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/%E6%9D%A1%E4%BB%B6%E9%80%89%E6%8B%A9/">条件选择</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/%E5%BE%AA%E7%8E%AF/">循环</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id91e91eb16d2ac74abd69daa5101eb79f&#34;)" href="#id91e91eb16d2ac74abd69daa5101eb79f" aria-expanded="false" aria-controls="id91e91eb16d2ac74abd69daa5101eb79f" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-ida3057ec79d7a30ad0085bfb27e282655&#34;)" href="#ida3057ec79d7a30ad0085bfb27e282655" aria-expanded="false" aria-controls="ida3057ec79d7a30ad0085bfb27e282655" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/">语法基础</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#ida3057ec79d7a30ad0085bfb27e282655" aria-expanded="false" aria-controls="ida3057ec79d7a30ad0085bfb27e282655">
    
    <i class="fa-solid fa-angle-down" id="caret-ida3057ec79d7a30ad0085bfb27e282655"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="ida3057ec79d7a30ad0085bfb27e282655">
      



  <li class="child level active"><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%8F%98%E9%87%8F/">变量</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%A1%A8%E8%BE%BE%E5%BC%8F/">表达式</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B/">数值类型</a></li>




  <li class="child level "><a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

    
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#shell-变量">Shell 变量</a></li>
  </ul>

  <ul>
    <li><a href="#只读变量">只读变量</a></li>
    <li><a href="#变量导出">变量导出</a></li>
  </ul>

  <ul>
    <li><a href="#存在性检测">存在性检测</a></li>
    <li><a href="#变量默认值">变量默认值</a></li>
  </ul>
</nav>

      
<div class="subscribe-module col-24 mt-1">
    <img src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png" alt="image" title="王下邀月熊的微信公众号"/>
</div>



    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          

          <h1>变量</h1>

          <div class="article-style">
            <h1 id="变量">变量</h1>
<p>Shell 中存在三种变量：</p>
<ul>
<li>局部变量：局部变量在脚本或命令中定义，仅在当前 Shell 实例中有效，其他 Shell 启动的程序不能访问局部变量。</li>
<li>环境变量：所有的程序，包括 Shell 启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候 Shell 脚本也可以定义环境变量。</li>
<li>Shell 变量：Shell 变量是由 Shell 程序设置的特殊变量。Shell 变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了 Shell 的正常运行。</li>
</ul>
<h2 id="shell-变量">Shell 变量</h2>
<table>
<thead>
<tr>
<th>System Variable</th>
<th>Meaning</th>
<th>To View Variable Value Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>BASH_VERSION</td>
<td>Holds the version of this instance of bash.</td>
<td>echo <code>$BASH_VERSION</code></td>
</tr>
<tr>
<td>HOSTNAME</td>
<td>The name of the your computer.</td>
<td><code>echo $HOSTNAME</code></td>
</tr>
<tr>
<td>CDPATH</td>
<td>The search path for the cd command.</td>
<td><code>echo $CDPATH</code></td>
</tr>
<tr>
<td>HISTFILE</td>
<td>The name of the file in which command history is saved.</td>
<td><code>echo $HISTFILE</code></td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>The maximum number of lines contained in the history file.</td>
<td><code>echo $HISTFILESIZE</code></td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>The number of commands to remember in the command history. The default value is 500.</td>
<td><code>echo $HISTSIZE</code></td>
</tr>
<tr>
<td>HOME</td>
<td>The home directory of the current user.</td>
<td><code>echo $HOME</code></td>
</tr>
<tr>
<td>IFS</td>
<td>The Internal Field Separator that is used for word splitting after expansion and to split lines into words with the read builtin command. The default value is <space><tab><newline>.</td>
<td><code>echo $IFS</code></td>
</tr>
<tr>
<td>LANG</td>
<td>Used to determine the locale category for any category not specifically selected with a variable starting with <code>LC_</code>.</td>
<td><code>echo $LANG</code></td>
</tr>
<tr>
<td>PATH</td>
<td>The search path for commands. It is a colon-separated list of directories in which the shell looks for commands.</td>
<td><code>echo $PATH</code></td>
</tr>
<tr>
<td>PS1</td>
<td>Your prompt settings.</td>
<td><code>echo $PS1</code></td>
</tr>
<tr>
<td>TMOUT</td>
<td>The default timeout for the read builtin command. Also in an interactive shell, the value is interpreted as the number of seconds to wait for input after issuing the command. If not input provided it will logout user.</td>
<td><code>echo $TMOUT</code></td>
</tr>
<tr>
<td>TERM</td>
<td>Your login terminal type.</td>
<td><code>echo $TERM export TERM=vt100</code></td>
</tr>
<tr>
<td>SHELL</td>
<td>Set path to login shell.</td>
<td><code>echo $SHELL</code></td>
</tr>
<tr>
<td>DISPLAY</td>
<td>Set X display name</td>
<td><code>echo $DISPLAY export DISPLAY=:0.1</code></td>
</tr>
<tr>
<td>EDITOR</td>
<td>Set name of default text editor.</td>
<td><code>export EDITOR=/usr/bin/vim</code></td>
</tr>
</tbody>
</table>
<h1 id="变量定义">变量定义</h1>
<p>定义变量时，变量名不加美元符号，并且变量名和等号之间不能有空格；使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">your_name</span><span class="o">=</span><span class="s2">&#34;qinjx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$your_name</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="si">${</span><span class="nv">your_name</span><span class="si">}</span>
</span></span></code></pre></div><p>在程序执行过程中，使用 unset 命令删除变量。它可以删除函数和 Shell 变量。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 删除变量</span>
</span></span><span class="line"><span class="cl"><span class="nb">unset</span> variable_name
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">vech</span><span class="o">=</span>Bus
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$vech</span>
</span></span><span class="line"><span class="cl"><span class="nb">unset</span> vech
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$vech</span>
</span></span></code></pre></div><p>注意，变量赋值的时候等号两边不可以包含空格：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">no</span>  <span class="o">=</span><span class="m">10</span>
</span></span><span class="line"><span class="cl"><span class="nv">no</span><span class="o">=</span>  <span class="m">10</span>
</span></span><span class="line"><span class="cl"><span class="nv">no</span>  <span class="o">=</span>  <span class="m">10</span>
</span></span></code></pre></div><p>我们也可以将某个语句的执行结果赋值给某个变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="k">for</span> file in <span class="k">$(</span>ls /etc<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in <span class="sb">`</span>ls /etc<span class="sb">`</span>
</span></span></code></pre></div><p>变量名外面的花括号是可选的，为了帮助解释器识别变量的边界，区分譬如 <code>${skill}Script</code> 这样的情况。除了显式地直接赋值，还可以用语句给变量赋值，如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="k">for</span> file in *<span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">[</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">        <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></div><h2 id="只读变量">只读变量</h2>
<p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">myUrl</span><span class="o">=</span><span class="s2">&#34;http://www.google.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">readonly</span> myUrl
</span></span></code></pre></div><p>创建一个名为 DATA 的常量变量，并使其值在整个 Shell 脚本中始终相同，即不能更改：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">readonly</span> <span class="nv">DATA</span><span class="o">=</span>/home/sales/data/feb09.dat
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$DATA</span>
</span></span><span class="line"><span class="cl">/home/sales/data/feb09.dat
</span></span><span class="line"><span class="cl"><span class="nv">DATA</span><span class="o">=</span>/tmp/foo
</span></span><span class="line"><span class="cl"><span class="c1"># Error ... readonly variable</span>
</span></span></code></pre></div><p>并且 unset 关键字不可作用于只读变量。</p>
<h2 id="变量导出">变量导出</h2>
<p>我们可以使用 export 来导出变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">backup</span><span class="o">=</span><span class="s2">&#34;/nas10/mysql&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Backup dir </span><span class="nv">$backup</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">bash
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Backup dir </span><span class="nv">$backup</span><span class="s2">&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">export</span> -p
</span></span></code></pre></div><p>默认情况下，所有用户定义的变量都是局部变量。它们不会导出到新流程。使用 export 命令将变量和函数导出到子进程。如果没有给出变量名或函数名，或者如果给出了-p 选项，则将打印出在此 shell 中导出的所有名称的列表。-n 的参数表示要从后续的 NAME 中删除导出属性。</p>
<h1 id="变量检测与默认值">变量检测与默认值</h1>
<h2 id="存在性检测">存在性检测</h2>
<p>如果未定义变量，则可以使用以下语法停止执行 Bash 脚本：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="si">${</span><span class="nv">varName</span><span class="p">?Error varName is not defined</span><span class="si">}</span>
</span></span><span class="line"><span class="cl"><span class="si">${</span><span class="nv">varName</span><span class="p">:?Error varName is not defined or is empty</span><span class="si">}</span>
</span></span></code></pre></div><p>创建一个名为 varcheck.sh 的 shell 脚本：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1"># varcheck.sh: Variable sanity check with :?</span>
</span></span><span class="line"><span class="cl"><span class="nv">path</span><span class="o">=</span><span class="si">${</span><span class="nv">1</span><span class="p">:?Error command line argument not passed</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Backup path is </span><span class="nv">$path</span><span class="s2">.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;I&#39;m done if </span><span class="nv">$path</span><span class="s2"> is set.&#34;</span>
</span></span></code></pre></div><p>Run it as follows:</p>
<pre tabindex="0"><code>chmod +x varcheck.sh
./varcheck.sh /home

Backup path is /home.
I&#39;m done if $path is set.
</code></pre><p>Run the script without any arguments:</p>
<pre tabindex="0"><code>./varcheck.sh: line 3: 1: Error command line argument not passed
</code></pre><h2 id="变量默认值">变量默认值</h2>
<p>我们可以使用如下方式设置变量的默认值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="si">${</span><span class="nv">grandslam</span><span class="p">=Maria Sharapova</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="si">${</span><span class="nv">grandslam</span><span class="k">:-</span><span class="nv">DefaultValueHere</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">$ <span class="nv">msg</span><span class="o">=</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">update</span><span class="p"> articles or snippets</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 返回默认值且赋值</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="si">${</span><span class="nv">grandslam</span><span class="p">:=Maria Sharapova</span><span class="si">}</span>
</span></span></code></pre></div><p>很多时候在函数调用的时候，也可以通过这种方式传入默认值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">die<span class="o">(){</span>
</span></span><span class="line"><span class="cl">  <span class="nb">local</span> <span class="nv">error</span><span class="o">=</span><span class="si">${</span><span class="nv">1</span><span class="p">:=Undefined error</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$0</span><span class="s2">: </span><span class="nv">$LINE</span><span class="s2"> </span><span class="nv">$error</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">die <span class="s2">&#34;File not found&#34;</span>
</span></span><span class="line"><span class="cl">die
</span></span></code></pre></div>
          </div>

          



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <div class="col-6 post-nav-item">
    <div class="meta-nav">下一页</div>
    <a href="/books/linux-notes/10.shell-%E5%91%BD%E4%BB%A4/shell-%E7%BC%96%E7%A8%8B/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="prev">表达式</a>
  </div>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 0001-01-01</p>

          



          


  
  
  

  

  
  <section id="comments" class="mb-3 pt-0">
    
<div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); 
    s.async = true;
    s.src = 'https://' + "ngte" + '.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </section>
  



          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2022 NGTE all rights reserved</p>
        </div>
    </div>
  </div>

  <script type="text/javascript" id="clstr_globe" async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script>
  
</footer>


    </main>
  </div>
</div>
<script src="//unpkg.com/heti/umd/heti-addon.min.js"></script>
<script>
  const heti = new Heti('.article');
  heti.autoSpacing();
</script>
<script type="text/javascript">
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "12adcc35-9621-4313-8262-62dc654b29d8";
  (function () {
    setTimeout(function() {
      d = document;
      s = d.createElement("script");
      s.src = "https://client.crisp.chat/l.js";
      s.async = 1;
      d.getElementsByTagName("head")[0].appendChild(s);
    }, 2500);
  })();
</script>
  </div>

  <div class="page-footer">
    
    
  </div>

      

    
    <script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>

    
    
    
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
      

    

    
    
    

    
    
    
      
      <script id="search-hit-algolia-template" type="text/html">
        <div class="search-hit">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a>
            </div>
            <div class="article-metadata search-hit-type">{{type}}</div>
            <p class="search-hit-description">{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js" crossorigin="anonymous"></script>
      
      
    

    
    

    
    
    
    
      <script id="dsq-count-scr" src="https://ngte.disqus.com/count.js" async></script>
      
    

    
    
      
      
      
      
      
      
      
    

    
    <script src="/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js" type="module"></script>
    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":false}</script>

    
    
    
    
    
    
    
    
    
    
    <script src="/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js"></script>

    
    
    
    
    
    
    <script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>


    

    
    
    <script src="https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    <script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>

    


</body>
</html>
