<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>40.macOS | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/linux-notes/40.macos/</link><atom:link href="https://ng-tech.icu/books/linux-notes/40.macos/index.xml" rel="self" type="application/rss+xml"/><description>40.macOS</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>40.macOS</title><link>https://ng-tech.icu/books/linux-notes/40.macos/</link></image><item><title>2023-macOS Internals</title><link>https://ng-tech.icu/books/linux-notes/40.macos/2023-macos-internals/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/linux-notes/40.macos/2023-macos-internals/</guid><description>&lt;h1 id="macos-internals">macOS Internals&lt;/h1>
&lt;p>Understand your Mac and iPhone more deeply by tracing the evolution of Mac OS X from prelease to Swift. John Siracusa delivers the details.&lt;/p>
&lt;h2 id="starting-points">Starting Points&lt;/h2>
&lt;h3 id="how-to-use-this-gist">How to use this gist&lt;/h3>
&lt;p>You&amp;rsquo;ve got two main options:&lt;/p>
&lt;ol>
&lt;li>Under Highlights, read all the links you&amp;rsquo;re interested in, or&lt;/li>
&lt;li>Use &amp;ldquo;OS X Reviewed&amp;rdquo; as an index and just read all the reviews end to end. (This is not the fast option, but it inspired me to gather all these highlights.)&lt;/li>
&lt;/ol>
&lt;p>In either case, to get the greatest benefits of context and intuition, I recommend that you read in chronological order.&lt;/p>
&lt;h3 id="os-x-reviewedhttpshypercriticalco20150415os-x-reviewed">&lt;a href="https://hypercritical.co/2015/04/15/os-x-reviewed" target="_blank" rel="noopener">OS X Reviewed&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Nearly 15 years ago, I wrote my first review of Mac OS X for a nascent “PC enthusiast’s&amp;quot; website called Ars Technica. Last fall, I wrote my last.&lt;/p>
&lt;/blockquote>
&lt;h2 id="highlights">Highlights&lt;/h2>
&lt;p>These chronologically-ordered highlights jump into the middle of long, paginated articles. Topics often span a few pages, so look for the &amp;ldquo;Next Page&amp;rdquo; links.&lt;/p>
&lt;h3 id="quartz-2d-pdf-based-drawinghttpsarstechnicacomgadgets200001macos-x-gui2">&lt;a href="https://arstechnica.com/gadgets/2000/01/macos-x-gui/2/" target="_blank" rel="noopener">Quartz 2D: PDF-based drawing&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>I&amp;rsquo;ve chosen to define the three generations of display layer technology in order to illustrate the most important changes over the years.&lt;/p>
&lt;/blockquote>
&lt;h3 id="packaged-applications-and-frameworkshttpsarstechnicacomgadgets200005mac-os-x-dp42">&lt;a href="https://arstechnica.com/gadgets/2000/05/mac-os-x-dp4/2/" target="_blank" rel="noopener">Packaged Applications and Frameworks&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>The three main &amp;ldquo;subspecies&amp;rdquo; of Bundles are Application Packages, Frameworks, and Loadable Bundles.&lt;/p>
&lt;/blockquote>
&lt;h3 id="the-window-serverhttpsarstechnicacomgadgets200005mac-os-x-dp44">&lt;a href="https://arstechnica.com/gadgets/2000/05/mac-os-x-dp4/4/" target="_blank" rel="noopener">The Window Server&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>It has two main responsibilities: Event routing, and composing and displaying on-screen elements.&lt;/p>
&lt;/blockquote>
&lt;h3 id="project-builder-better-known-as-xcodehttpsarstechnicacomgadgets200005mac-os-x-dp49">&lt;a href="https://arstechnica.com/gadgets/2000/05/mac-os-x-dp4/9/" target="_blank" rel="noopener">Project Builder, better known as Xcode&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>What may not be so obvious is that Project Builder is built on top of popular open source development tools: everything from gcc, gdb, and cvs to smaller tools like diff.&lt;/p>
&lt;/blockquote>
&lt;h3 id="memory-on-macoshttpsarstechnicacomgadgets200110macosx-10-17">&lt;a href="https://arstechnica.com/gadgets/2001/10/macosx-10-1/7/" target="_blank" rel="noopener">Memory on macOS&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Mac OS X manages memory very differently than classic Mac OS. The first key to understanding memory usage in Mac OS X is to be understand how a modern virtual memory system works.&lt;/p>
&lt;/blockquote>
&lt;h3 id="rendezvous-now-known-as-bonjour-and-zeroconfhttpsarstechnicacomgadgets200209macosx-10-27">&lt;a href="https://arstechnica.com/gadgets/2002/09/macosx-10-2/7/" target="_blank" rel="noopener">Rendezvous, now known as Bonjour and Zeroconf&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Rendezvous enables a local network of devices to configure themselves without the aid of any centralized servers.&lt;/p>
&lt;/blockquote>
&lt;h3 id="gpu-accelerated-display-compositinghttpsarstechnicacomgadgets200209macosx-10-28">&lt;a href="https://arstechnica.com/gadgets/2002/09/macosx-10-2/8/" target="_blank" rel="noopener">GPU-accelerated display compositing&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>It&amp;rsquo;s slightly confusing to think about the window server as an OpenGL application, but that&amp;rsquo;s what it is.&lt;/p>
&lt;/blockquote>
&lt;h3 id="sherlockinghttpsarstechnicacomgadgets200209macosx-10-213">&lt;a href="https://arstechnica.com/gadgets/2002/09/macosx-10-2/13/" target="_blank" rel="noopener">&amp;ldquo;Sherlocking&amp;rdquo;&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>As the Watson FAQ explains, although Apple&amp;rsquo;s new version of Sherlock is a dead-ringer for Watson, there is no formal relationship between the two applications.&lt;/p>
&lt;/blockquote>
&lt;h3 id="spatial-window-management-and-exposéhttpsarstechnicacomgadgets200311macosx-10-37">&lt;a href="https://arstechnica.com/gadgets/2003/11/macosx-10-3/7/" target="_blank" rel="noopener">Spatial window management and Exposé&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Panther includes a new window management feature that effectively increases the size of your screen by shrinking all of your windows temporarily. Following Apple&amp;rsquo;s recent Gallic naming trend, it&amp;rsquo;s called Exposé.&lt;/p>
&lt;/blockquote>
&lt;h3 id="launchdhttpsarstechnicacomgadgets200504macosx-10-45">&lt;a href="https://arstechnica.com/gadgets/2005/04/macosx-10-4/5/" target="_blank" rel="noopener">launchd&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>One launch daemon to rule them all.&lt;/p>
&lt;/blockquote>
&lt;h3 id="extended-file-attributeshttpsarstechnicacomgadgets200504macosx-10-46">&lt;a href="https://arstechnica.com/gadgets/2005/04/macosx-10-4/6/" target="_blank" rel="noopener">Extended file attributes&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Mac OS X now includes support for arbitrarily extensible file system metadata.&lt;/p>
&lt;/blockquote>
&lt;h3 id="spotlighthttpsarstechnicacomgadgets200504macosx-10-49">&lt;a href="https://arstechnica.com/gadgets/2005/04/macosx-10-4/9/" target="_blank" rel="noopener">Spotlight&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Spotlight is a system service that accepts a query and returns all file system objects (files and folders) that match the query.&lt;/p>
&lt;/blockquote>
&lt;h3 id="gpu-accelerated-window-drawinghttpsarstechnicacomgadgets200504macosx-10-413">&lt;a href="https://arstechnica.com/gadgets/2005/04/macosx-10-4/13/" target="_blank" rel="noopener">GPU-accelerated window drawing&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>The only thing left for the CPU to do is to send (relatively tiny) drawing commands to the video card through the driver.&lt;/p>
&lt;/blockquote>
&lt;h3 id="dtrace-and-instrumentshttpsarstechnicacomgadgets200710mac-os-x-10-55">&lt;a href="https://arstechnica.com/gadgets/2007/10/mac-os-x-10-5/5/" target="_blank" rel="noopener">DTrace and Instruments&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>This application was called Xray for most of its development life, which explains the icon. It&amp;rsquo;s now called Instruments for reasons that surely involve lawyers.&lt;/p>
&lt;/blockquote>
&lt;h3 id="fseventshttpsarstechnicacomgadgets200710mac-os-x-10-57">&lt;a href="https://arstechnica.com/gadgets/2007/10/mac-os-x-10-5/7/" target="_blank" rel="noopener">FSEvents&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>To be aware of all relevant file system changes, the notification mechanism must exist at the choke point for all local i/o: the kernel. But the kernel is a harsh mistress, filled with draconian latency and memory restrictions.&lt;/p>
&lt;/blockquote>
&lt;h3 id="core-animationhttpsarstechnicacomgadgets200710mac-os-x-10-58">&lt;a href="https://arstechnica.com/gadgets/2007/10/mac-os-x-10-5/8/" target="_blank" rel="noopener">Core Animation&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Core Animation&amp;rsquo;s original name, Layer Kit, reveals a lot about its design. At its heart, Core Animation manages a collection of 2D layers.&lt;/p>
&lt;/blockquote>
&lt;h3 id="time-machinehttpsarstechnicacomgadgets200710mac-os-x-10-514">&lt;a href="https://arstechnica.com/gadgets/2007/10/mac-os-x-10-5/14/" target="_blank" rel="noopener">Time Machine&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>&amp;ldquo;I know I should back up, but I never do. I wouldn&amp;rsquo;t even know how to do something like that anyway.&amp;rdquo; Well, enough of that.&lt;/p>
&lt;/blockquote>
&lt;h3 id="llvm-clang-and-objective-c-blockshttpsarstechnicacomgadgets200908mac-os-x-10-69">&lt;a href="https://arstechnica.com/gadgets/2009/08/mac-os-x-10-6/9/" target="_blank" rel="noopener">LLVM, Clang, and Objective-C Blocks&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>By committing to a Clang/LLVM-powered future, Apple has finally taken complete control of its development platform.&lt;/p>
&lt;/blockquote>
&lt;h3 id="gcd-grand-central-dispatchhttpsarstechnicacomgadgets200908mac-os-x-10-611">&lt;a href="https://arstechnica.com/gadgets/2009/08/mac-os-x-10-6/11/" target="_blank" rel="noopener">GCD: Grand Central Dispatch&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>The bottom line is that the optimal number of threads to put in flight at any given time is best determined by a single, globally aware entity.&lt;/p>
&lt;/blockquote>
&lt;h3 id="the-recovery-partitionhttpsarstechnicacomgadgets201107mac-os-x-10-72">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/2/" target="_blank" rel="noopener">The Recovery Partition&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>The new partition is actually considered a different type: Apple_Boot. The Recovery HD volume won&amp;rsquo;t be automatically mounted upon boot and therefore won&amp;rsquo;t appear in the Finder.&lt;/p>
&lt;/blockquote>
&lt;h3 id="hidden-scroll-bars-and-natural-scroll-directionhttpsarstechnicacomgadgets201107mac-os-x-10-73">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/3/" target="_blank" rel="noopener">Hidden scroll bars and natural scroll direction&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Lion further cements the dominance of touch by making all touch-based scrolling work like it does on a touchscreen.&lt;/p>
&lt;/blockquote>
&lt;h3 id="modernized-document-modelhttpsarstechnicacomgadgets201107mac-os-x-10-77">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/7/" target="_blank" rel="noopener">Modernized Document Model&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>At this point, a little bit of &amp;ldquo;geek panic&amp;rdquo; might be setting in.&lt;/p>
&lt;/blockquote>
&lt;h3 id="automatic-terminationhttpsarstechnicacomgadgets201107mac-os-x-10-78">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/8/" target="_blank" rel="noopener">Automatic Termination&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Whereas Sudden Termination lets an application tell the system when it&amp;rsquo;s okay to terminate it with extreme prejudice, Automatic Termination lets an application tell the system that it&amp;rsquo;s okay to politely ask the program to exit.&lt;/p>
&lt;/blockquote>
&lt;h3 id="app-sandboxing-and-entitlementshttpsarstechnicacomgadgets201107mac-os-x-10-79">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/9/" target="_blank" rel="noopener">App Sandboxing and Entitlements&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>A sandboxed application must now include a list of &amp;ldquo;entitlements&amp;rdquo; describing exactly what resources it needs in order to do its job.&lt;/p>
&lt;/blockquote>
&lt;h3 id="arc-automatic-reference-countinghttpsarstechnicacomgadgets201107mac-os-x-10-710">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/10/" target="_blank" rel="noopener">ARC: Automatic Reference Counting&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>There is no process that scans the memory image of a running application looking for memory to deallocate. Everything ARC does happens at compile time.&lt;/p>
&lt;/blockquote>
&lt;h3 id="filevault-whole-disk-encryptionhttpsarstechnicacomgadgets201107mac-os-x-10-713">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/13/" target="_blank" rel="noopener">FileVault whole disk encryption&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>This encryption is completely transparent to all software (including the implementation of HFS+ itself) because it takes place at a layer above the volume format.&lt;/p>
&lt;/blockquote>
&lt;h3 id="document-revision-storagehttpsarstechnicacomgadgets201107mac-os-x-10-714">&lt;a href="https://arstechnica.com/gadgets/2011/07/mac-os-x-10-7/14/" target="_blank" rel="noopener">Document revision storage&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Unlike earlier incarnations of autosave, you won&amp;rsquo;t see auto-generated files appearing and disappearing alongside the original document. But the data obviously has to be stored somewhere, so where is it?&lt;/p>
&lt;/blockquote>
&lt;h3 id="icloudhttpsarstechnicacomgadgets201207os-x-10-810">&lt;a href="https://arstechnica.com/gadgets/2012/07/os-x-10-8/10/" target="_blank" rel="noopener">iCloud&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Apple provides three different kinds of iCloud data storage APIs, with very little overlap between them in terms of functionality and intended purpose.&lt;/p>
&lt;/blockquote>
&lt;h3 id="gatekeeper-code-signing-and-quarantinehttpsarstechnicacomgadgets201207os-x-10-814">&lt;a href="https://arstechnica.com/gadgets/2012/07/os-x-10-8/14/" target="_blank" rel="noopener">Gatekeeper, code signing, and quarantine&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Gatekeeper is the latest stop in Apple&amp;rsquo;s long, ongoing journey toward a more secure, worry-free computing experience on the Mac. Once again, iOS is the model.&lt;/p>
&lt;/blockquote>
&lt;h3 id="objective-c-20-syntaxhttpsarstechnicacomgadgets201207os-x-10-817">&lt;a href="https://arstechnica.com/gadgets/2012/07/os-x-10-8/17/" target="_blank" rel="noopener">Objective-C 2.0 syntax&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Even if you have no idea what any of that means, I believe you may still find the table below compelling.&lt;/p>
&lt;/blockquote>
&lt;h3 id="power-naphttpsarstechnicacomgadgets201207os-x-10-818">&lt;a href="https://arstechnica.com/gadgets/2012/07/os-x-10-8/18/" target="_blank" rel="noopener">Power Nap&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>In this mode, the audio and graphics systems remain powered down, but the disk, CPU, and networking hardware are all active.&lt;/p>
&lt;/blockquote>
&lt;h3 id="finder-tagshttpsarstechnicacomgadgets201310os-x-10-99">&lt;a href="https://arstechnica.com/gadgets/2013/10/os-x-10-9/9/" target="_blank" rel="noopener">Finder Tags&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Labels were introduced way back in System 6 in 1988. Since Apple made both the Finder and the file system, it reserved a place in the file system metadata for what it called “Finder Info.”&lt;/p>
&lt;/blockquote>
&lt;h3 id="app-nap-and-background-taskshttpsarstechnicacomgadgets201310os-x-10-912">&lt;a href="https://arstechnica.com/gadgets/2013/10/os-x-10-9/12/" target="_blank" rel="noopener">App Nap and Background Tasks&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>By coalescing the work into a contiguous burst of high activity, transitional waste has been cut to a bare minimum, and the amount of idle time has been maximized.&lt;/p>
&lt;/blockquote>
&lt;h3 id="compressed-memoryhttpsarstechnicacomgadgets201310os-x-10-917">&lt;a href="https://arstechnica.com/gadgets/2013/10/os-x-10-9/17/" target="_blank" rel="noopener">Compressed Memory&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Like the HFS+ compression feature introduced in Snow Leopard, compressed memory trades relatively abundant CPU cycles for decreased disk I/O.&lt;/p>
&lt;/blockquote>
&lt;h3 id="icloud-drivehttpsarstechnicacomgadgets201410os-x-10-1015">&lt;a href="https://arstechnica.com/gadgets/2014/10/os-x-10-10/15/" target="_blank" rel="noopener">iCloud Drive&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Replacing the existing iCloud document storage is the new iCloud Drive—and I do mean replacing.&lt;/p>
&lt;/blockquote>
&lt;h3 id="app-extensionshttpsarstechnicacomgadgets201410os-x-10-1016">&lt;a href="https://arstechnica.com/gadgets/2014/10/os-x-10-10/16/" target="_blank" rel="noopener">App Extensions&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Though they are distributed inside an application’s bundle, Extensions are not just applications launched in a special mode. They are separate, purpose-built binaries, with their own containers, code signatures, and entitlements.&lt;/p>
&lt;/blockquote>
&lt;h3 id="handoffhttpsarstechnicacomgadgets201410os-x-10-1018">&lt;a href="https://arstechnica.com/gadgets/2014/10/os-x-10-10/18/" target="_blank" rel="noopener">Handoff&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>When all the dots connect, it really is a neat experience. Now let’s talk about those dots.&lt;/p>
&lt;/blockquote>
&lt;h3 id="swifthttpsarstechnicacomgadgets201410os-x-10-1021">&lt;a href="https://arstechnica.com/gadgets/2014/10/os-x-10-10/21/" target="_blank" rel="noopener">Swift&lt;/a>&lt;/h3>
&lt;blockquote>
&lt;p>Perhaps this mission statement is so grandiose—so preposterous, even—that readers are inclined to gloss over it or dismiss it. But it’s the key to understanding the design of Swift.&lt;/p>
&lt;/blockquote></description></item></channel></rss>