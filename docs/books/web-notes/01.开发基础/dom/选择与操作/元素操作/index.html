<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="元素操作 # Attributes(属性) // 设置变量值 element.style.setProperty(&#34;--my-color&#34;, &#34;rebeccapurple&#34;); // 获取变量值 element.style.getPropertyValue(&#34;--my-color&#34;); // => 'rebeccapurple' // 移除变量值 element.style.removeProperty(&#34;--my-color&#34;); 属性判断与获取 以下方法与元素节点的属性相关。 (1)hasAttribute() hasAttribute方法返回一个布尔值，表示当前元素节点是否包"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C/"><meta property="og:title" content="元素操作 | Next-gen Tech Edu"><meta property="og:description" content="元素操作 # Attributes(属性) // 设置变量值 element.style.setProperty(&#34;--my-color&#34;, &#34;rebeccapurple&#34;); // 获取变量值 element.style.getPropertyValue(&#34;--my-color&#34;); // => 'rebeccapurple' // 移除变量值 element.style.removeProperty(&#34;--my-color&#34;); 属性判断与获取 以下方法与元素节点的属性相关。 (1)hasAttribute() hasAttribute方法返回一个布尔值，表示当前元素节点是否包"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>元素操作 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=10a607c5611d6f6f16d1c0b5702ee6f1><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">选择与操作</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3eda8cc4b412b2536114e8fb9674d823")' href=#id3eda8cc4b412b2536114e8fb9674d823 aria-expanded=false aria-controls=id3eda8cc4b412b2536114e8fb9674d823 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/>DOM</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3eda8cc4b412b2536114e8fb9674d823 aria-expanded=false aria-controls=id3eda8cc4b412b2536114e8fb9674d823><i class="fa-solid fa-angle-down" id=caret-id3eda8cc4b412b2536114e8fb9674d823></i></a></div><ul class="nav docs-sidenav collapse show" id=id3eda8cc4b412b2536114e8fb9674d823><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide63ad8de8f356750cf586d77ca9c9e4a")' href=#ide63ad8de8f356750cf586d77ca9c9e4a aria-expanded=false aria-controls=ide63ad8de8f356750cf586d77ca9c9e4a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E5%AF%B9%E8%B1%A1/>对象</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide63ad8de8f356750cf586d77ca9c9e4a aria-expanded=false aria-controls=ide63ad8de8f356750cf586d77ca9c9e4a><i class="fa-solid fa-angle-right" id=caret-ide63ad8de8f356750cf586d77ca9c9e4a></i></a></div><ul class="nav docs-sidenav collapse" id=ide63ad8de8f356750cf586d77ca9c9e4a><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E5%AF%B9%E8%B1%A1/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1/>浏览器对象</a></li><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E5%AF%B9%E8%B1%A1/%E5%85%83%E7%B4%A0%E5%AF%B9%E8%B1%A1/>元素对象</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id72b8c3d7a05f0d4dd1d7347f8eee4a3a")' href=#id72b8c3d7a05f0d4dd1d7347f8eee4a3a aria-expanded=false aria-controls=id72b8c3d7a05f0d4dd1d7347f8eee4a3a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/>事件响应</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id72b8c3d7a05f0d4dd1d7347f8eee4a3a aria-expanded=false aria-controls=id72b8c3d7a05f0d4dd1d7347f8eee4a3a><i class="fa-solid fa-angle-right" id=caret-id72b8c3d7a05f0d4dd1d7347f8eee4a3a></i></a></div><ul class="nav docs-sidenav collapse" id=id72b8c3d7a05f0d4dd1d7347f8eee4a3a><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6/>交互事件</a></li><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E8%AE%BE%E5%A4%87%E4%BA%8B%E4%BB%B6/>设备事件</a></li><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E4%B8%8E%E4%BC%A0%E9%80%92/>事件绑定与传递</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb1f3876d750f97e2f9c85a891ef9fa0d")' href=#idb1f3876d750f97e2f9c85a891ef9fa0d aria-expanded=false aria-controls=idb1f3876d750f97e2f9c85a891ef9fa0d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB/>手势识别</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb1f3876d750f97e2f9c85a891ef9fa0d aria-expanded=false aria-controls=idb1f3876d750f97e2f9c85a891ef9fa0d><i class="fa-solid fa-angle-right" id=caret-idb1f3876d750f97e2f9c85a891ef9fa0d></i></a></div><ul class="nav docs-sidenav collapse" id=idb1f3876d750f97e2f9c85a891ef9fa0d><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB/zingtouch/>ZingTouch</a></li></ul></div><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E6%8B%96%E6%8B%BD%E4%BA%8B%E4%BB%B6/>拖拽事件</a></li><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94/%E6%96%87%E6%A1%A3%E4%B8%8E%E5%85%83%E7%B4%A0%E4%BA%8B%E4%BB%B6/>文档与元素事件</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf976e7efca4f16f579502cd638d7767e")' href=#idf976e7efca4f16f579502cd638d7767e aria-expanded=false aria-controls=idf976e7efca4f16f579502cd638d7767e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/>选择与操作</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf976e7efca4f16f579502cd638d7767e aria-expanded=false aria-controls=idf976e7efca4f16f579502cd638d7767e><i class="fa-solid fa-angle-down" id=caret-idf976e7efca4f16f579502cd638d7767e></i></a></div><ul class="nav docs-sidenav collapse show" id=idf976e7efca4f16f579502cd638d7767e><li class="child level active"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C/>元素操作</a></li><li class="child level"><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E9%80%89%E6%8B%A9/>元素选择</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#属性判断与获取>属性判断与获取</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>元素操作</h1><div class=article-style><h1 id=元素操作>元素操作</h1><p># Attributes(属性)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 设置变量值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>element</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>setProperty</span><span class=p>(</span><span class=s2>&#34;--my-color&#34;</span><span class=p>,</span> <span class=s2>&#34;rebeccapurple&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 获取变量值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>element</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>getPropertyValue</span><span class=p>(</span><span class=s2>&#34;--my-color&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// =&gt; &#39;rebeccapurple&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 移除变量值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>element</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>removeProperty</span><span class=p>(</span><span class=s2>&#34;--my-color&#34;</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=属性判断与获取>属性判断与获取</h2><p>以下方法与元素节点的属性相关。</p><p><strong>(1)hasAttribute()</strong></p><p><code>hasAttribute</code>方法返回一个布尔值，表示当前元素节点是否包含指定的 HTML 属性。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>d</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;div1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>d</span><span class=p>.</span><span class=nx>hasAttribute</span><span class=p>(</span><span class=s2>&#34;align&#34;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>d</span><span class=p>.</span><span class=nx>setAttribute</span><span class=p>(</span><span class=s2>&#34;align&#34;</span><span class=p>,</span> <span class=s2>&#34;center&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>上面代码检查<code>div</code>节点是否含有<code>align</code>属性。如果有，则设置为“居中对齐”。</p><p><strong>(2)getAttribute()</strong></p><p><code>getAttribute</code>方法返回当前元素节点的指定属性。如果指定属性不存在，则返回<code>null</code>。</p><pre tabindex=0><code>var div = document.getElementById(&#39;div1&#39;);
div.getAttribute(&#39;align&#39;) // &#34;left&#34;
</code></pre><p><strong>(3)removeAttribute()</strong></p><p>removeAttribute 方法用于从当前元素节点移除属性。</p><pre tabindex=0><code>// 原来的HTML代码
// &lt;div id=&#34;div1&#34; align=&#34;left&#34; width=&#34;200px&#34;&gt;
document.getElementById(&#34;div1&#34;).removeAttribute(&#34;align&#34;);
// 现在的HTML代码
// &lt;div id=&#34;div1&#34; width=&#34;200px&#34;&gt;
</code></pre><p><strong>(4)setAttribute()</strong></p><p><code>setAttribute</code>方法用于为当前元素节点新增属性，或编辑已存在的属性。</p><pre tabindex=0><code>var d = document.getElementById(&#39;d1&#39;);
d.setAttribute(&#39;align&#39;, &#39;center&#39;);
</code></pre><p>该方法会将所有属性名，都当作小写处理。对于那些已存在的属性，该方法是编辑操作，否则就会新建属性。下面是一个对<code>img</code>元素的<code>src</code>属性赋值的例子。</p><pre tabindex=0><code>var myImage = document.querySelector(&#39;img&#39;);
myImage.setAttribute (&#39;src&#39;, &#39;path/to/example.png&#39;);
</code></pre><p>大多数情况下，直接对属性赋值比使用该方法更好。</p><pre tabindex=0><code>el.value = &#39;hello&#39;;
// or
el.setAttribute(&#39;value&#39;, &#39;hello&#39;);
</code></pre><p>而如果是针对于没有值的属性，那么直接填入一个空字符串即可，譬如：</p><pre tabindex=0><code>var body = document.getElementsByTagName(&#39;body&#39;)[0];
body.setAttribute(&#34;data-body&#34;,&#34;&#34;);











2









1var body = document.getElementsByTagName(&#39;body&#39;)[0];


2body.setAttribute(&#34;data-body&#34;,&#34;&#34;);
</code></pre><p>最后达到的效果是：</p><pre tabindex=0><code>&lt;body data-body&gt;



















1&lt;body data-body&gt;
</code></pre><p>##  基本属性</p><p><strong>(1) attributes</strong></p><p>attributes 属性返回一个类似数组的对象，成员是当前元素节点的所有属性节点，每个数字索引对应一个属性节点(Attribute)对象。返回值中，所有成员都是动态的，即属性的变化会实时反映在结果集。下面是一个 HTML 代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;para&#34;</span><span class=p>&gt;</span>Hello World<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>获取 attributes 成员的代码如下。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>para</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;para&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>attr</span> <span class=o>=</span> <span class=nx>para</span><span class=p>.</span><span class=nx>attributes</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>attr</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span> <span class=c1>// id
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>attr</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span> <span class=c1>// para
</span></span></span></code></pre></div><p>上面代码说明，通过 attributes 属性获取属性节点对象(attr)以后，可以通过 name 属性获取属性名(id)，通过 value 属性获取属性值(para)。注意，属性节点的 name 属性和 value 属性，等同于 nodeName 属性和 nodeValue 属性。如果需要遍历一个节点的所有属性，可以用如下方式：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>para</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;p&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>para</span><span class=p>.</span><span class=nx>hasAttributes</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>attrs</span> <span class=o>=</span> <span class=nx>para</span><span class=p>.</span><span class=nx>attributes</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>output</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=nx>attrs</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>output</span> <span class=o>+=</span> <span class=nx>attrs</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>name</span> <span class=o>+</span> <span class=s2>&#34;-&gt;&#34;</span> <span class=o>+</span> <span class=nx>attrs</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>output</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=s2>&#34;No attributes to show&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong>(2) id 属性</strong></p><p>id 属性返回指定元素的 id 标识。该属性可读写。</p><p><strong>(3) tagName 属性</strong></p><p>tagName 属性返回指定元素的大写的标签名，与 nodeName 属性的值相等。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>// 假定HTML代码如下 //
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>span</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;span&#34;</span><span class=p>&gt;</span>Hello<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span> var span = document.getElementById(&#34;span&#34;);
</span></span><span class=line><span class=cl>span.tagName // &#34;SPAN&#34;
</span></span></code></pre></div><p>##  文本与值属性</p><p>### innerHTML & outerHTML</p><p>innerHTML 属性返回该元素包含的 HTML 代码。该属性可读写，常用来设置某个节点的内容。如果将该属性设为空，等于删除所有它包含的所有节点。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>el</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span></code></pre></div><p>上面代码等于将 el 节点变成了一个空节点，el 原来包含的节点被全部删除。注意，如果文本节点中包含&、小于号(&lt;)和大于号(%gt;)，innerHTML 属性会将它们转为实体形式&amp、&lt、&gt。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// HTML代码如下 &lt;p id=&#34;para&#34;&gt; 5 &gt; 3 &lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;para&#34;</span><span class=p>).</span><span class=nx>innerHTML</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// 5 &amp;gt; 3
</span></span></span></code></pre></div><p>由于上面这个原因，导致在 innerHTML 插入 <code>&lt;script></code> 标签，不会被执行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;&lt;script&gt;alert(&#39;haha&#39;)&lt;/script&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>el</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span></code></pre></div><p>上面代码将脚本插入内容，脚本并不会执行。但是，innerHTML 还是有安全风险的。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;&lt;img src=x onerror=alert(1)&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>el</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span></code></pre></div><p>上面代码中，alert 方法是会执行的。因此为了安全考虑，如果插入的是文本，最好用 textContent 属性代替 innerHTML。并且在不同的浏览器，特别是 IE 浏览器中表现差异很大。在 IE 中,innerHTML 对于 COL, COLGROUP, FRAMESET, HEAD, HTML, STYLE, TABLE, TBODY, TFOOT, THEAD, TITLE, TR 是只读的。在 IE 中, innerHTML 对于所有的表格相关标签都是只读的(除了 TD 标签)。另外，<code>innerHTML</code> 不能被追加。通常情况下, 我们可以通过 innerHTML 追加内容(elem.innerHTML += &ldquo;NEW TEXT&rdquo;), 例如:</p><pre tabindex=0><code>chatDiv.innerHTML += &#34;&lt;div&gt;Hi &lt;img src=&#39;smile.gif&#39;/&gt; !&lt;/div&gt;&#34;
chatDiv.innerHTML += &#34;How you doing?&#34;
</code></pre><p>但是实际他是这样工作的:</p><ol><li>原来的内容被去除</li><li>新的值通过 innerHTML 解析替换.
内容不能被追加, 他是重新构建的. 因此, 所有的图片和其他资源在+=之后, 将会被重载. 比如上面的例子的 smile.gif 文件。
##  样式属性</li></ol><p>className 属性用来读取和设置当前元素的 class 属性。它的值是一个字符串，每个 class 之间用空格分割。</p><p>classList 属性则返回一个类似数组的对象，当前元素节点的每个 class 就是这个对象的一个成员。</p><pre tabindex=0><code>&lt;div class=&#34;one two three&#34; id=&#34;myDiv&#34;&gt;&lt;/div&gt;
</code></pre><p>上面这个 div 元素的节点对象的 className 属性和 classList 属性，分别如下。</p><pre tabindex=0><code>document.getElementById(&#39;myDiv&#39;).className
// &#34;one two three&#34;

document.getElementById(&#39;myDiv&#39;).class List
// {
//   0: &#34;one&#34;
//   1: &#34;two&#34;
//   2: &#34;three&#34;
//   length: 3
// }
</code></pre><p>从上面代码可以看出，className 属性返回一个空格分隔的字符串，而 classList 属性指向一个类似数组的对象，该对象的 length 属性(只读)返回当前元素的 class 数量。</p><p>classList 对象有下列方法。</p><p>- add()：增加一个 class。
- remove()：移除一个 class。
- contains()：检查当前元素是否包含某个 class。
- toggle()：将某个 class 移入或移出当前元素。
- item()：返回指定索引位置的 class。
- toString()：将 class 的列表转为字符串。</p><pre tabindex=0><code>myDiv.classList.add(&#39;myCssClass&#39;);
myDiv.classList.add(&#39;foo&#39;, &#39;bar&#39;);
myDiv.classList.remove(&#39;myCssClass&#39;);
myDiv.classList.toggle(&#39;myCssClass&#39;); // 如果myCssClass不存在就加入，否则移除
myDiv.classList.contains(&#39;myCssClass&#39;); // 返回 true 或者 false
myDiv.classList.item(0); // 返回第一个Class
myDiv.classList.toString();
</code></pre><p>下面比较一下，className 和 classList 在添加和删除某个类时的写法。</p><pre tabindex=0><code>// 添加class
document.getElementById(&#39;foo&#39;).className += &#39;bold&#39;;
document.getElementById(&#39;foo&#39;).classList.add(&#39;bold&#39;);

// 删除class
document.getElementById(&#39;foo&#39;).classList.remove(&#39;bold&#39;);
document.getElementById(&#39;foo&#39;).className =
document.getElementById(&#39;foo&#39;).className.replace(/^bold$/, &#39;&#39;);
</code></pre><p>toggle 方法可以接受一个布尔值，作为第二个参数。如果为 true，则添加该属性；如果为 false，则去除该属性。</p><pre tabindex=0><code>el.classList.toggleClass(&#34;abc&#34;, someBool);

// 等同于

if (someBool){
  el.classList.add(&#34;abc&#34;);
} else {
  el.classList.remove(&#34;abc&#34;);
}
</code></pre><pre tabindex=0><code>document.getElementById(&#34;myH1&#34;).style.color = &#34;red&#34;;
</code></pre><p>##  尺寸属性</p><p>以下属性与元素节点的可见区域的坐标相关。</p><p><strong>(1)clientHeight</strong></p><p>clientHeight 属性返回元素节点的可见高度，包括 padding、但不包括水平滚动条、边框和 margin 的高度，单位为像素。该属性可以计算得到，等于元素的 CSS 高度，加上 CSS 的 padding 高度，减去水平滚动条的高度(如果存在水平滚动条)。</p><p>如果一个元素是可以滚动的，则 clientHeight 只计算它的可见部分的高度。</p><p><strong>(2)clientLeft</strong></p><p>clientLeft 属性等于元素节点左边框(border)的宽度，单位为像素，包括垂直滚动条的宽度，不包括左侧的 margin 和 padding。但是，除非排版方向是从右到左，且发生元素宽度溢出，否则是不可能存在左侧滚动条。如果该元素的显示设为<code>display: inline</code>，clientLeft 一律为 0，不管是否存在左边框。</p><p><strong>(3)clientTop</strong></p><p>clientTop 属性等于网页元素顶部边框的宽度，不包括顶部的 margin 和 padding。</p><p><strong>(4)clientWidth</strong></p><p>clientWidth 属性等于网页元素的可见宽度，即包括 padding、但不包括垂直滚动条(如果有的话)、边框和 margin 的宽度，单位为像素。</p><p>如果一个元素是可以滚动的，则 clientWidth 只计算它的可见部分的宽度。</p><p>##  位移与状态属性</p><p>以下属性与元素节点占据的总区域的坐标相关。</p><p><strong>(1)scrollHeight</strong></p><p>scrollHeight 属性返回指定元素的总高度，包括由于溢出而无法展示在网页的不可见部分。如果一个元素是可以滚动的，则 scrollHeight 包括整个元素的高度，不管是否存在垂直滚动条。scrollHeight 属性包括 padding，但不包括 border 和 margin。该属性为只读属性。</p><p>如果不存在垂直滚动条，scrollHeight 属性与 clientHeight 属性是相等的。如果存在滚动条，scrollHeight 属性总是大于 clientHeight 属性。当滚动条滚动到内容底部时，下面的表达式为 true。</p><pre tabindex=0><code>element.scrollHeight - element.scrollTop === element.clientHeight
</code></pre><p>如果滚动条没有滚动到内容底部，上面的表达式为 false。这个特性结合<code>onscroll</code>事件，可以判断用户是否滚动到了指定元素的底部，比如是否滚动到了《使用须知》区块的底部。</p><pre tabindex=0><code>var rules = document.getElementById(&#34;rules&#34;);
rules.onscroll = checking;

function checking(){
  if (this.scrollHeight - this.scrollTop === this.clientHeight) {
    console.log(&#39;谢谢阅读&#39;);
  } else {
    console.log(&#39;您还未读完&#39;);
  }
}
</code></pre><p><strong>(2)scrollWidth</strong></p><p>scrollWidth 属性返回元素的总宽度，包括由于溢出容器而无法显示在网页上的那部分宽度，不管是否存在水平滚动条。该属性是只读属性。</p><p><strong>(3)scrollLeft</strong></p><p>scrollLeft 属性设置或返回水平滚动条向右侧滚动的像素数量。它的值等于元素的最左边与其可见的最左侧之间的距离。对于那些没有滚动条或不需要滚动的元素，该属性等于 0。该属性是可读写属性，设置该属性的值，会导致浏览器将指定元素自动滚动到相应的位置。</p><p><strong>(4)scrollTop</strong></p><p>scrollTop 属性设置或返回垂直滚动条向下滚动的像素数量。它的值等于元素的顶部与其可见的最高位置之间的距离。对于那些没有滚动条或不需要滚动的元素，该属性等于 0。该属性是可读写属性，设置该属性的值，会导致浏览器将指定元素自动滚动到相应位置。</p><pre tabindex=0><code>document.querySelector(&#39;div&#39;).scrollTop = 150;
</code></pre><p>上面代码将 div 元素向下滚动 150 像素。</p><h1 id=operation元素操作>Operation(元素操作)</h1><p>##  创建与插入</p><p>创建一个新的 DOM 节点主要依赖于一下几个方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>createDocumentFragment</span><span class=p>();</span> <span class=c1>//创建一个DOM片段
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>createElement</span><span class=p>();</span> <span class=c1>//创建一个具体的元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>createTextNode</span><span class=p>();</span> <span class=c1>//创建一个文本节点
</span></span></span></code></pre></div><p>对于如下这个 HTML 片段：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;myList&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目一<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目二<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目三<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>首先需要依靠<code>document.createElement()</code>方法来创建元素，接受一个参数，即要创建元素的标签名，返回创建的元素节点。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>div</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>);</span> <span class=c1>//创建一个div元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>div</span><span class=p>.</span><span class=nx>id</span> <span class=o>=</span> <span class=s2>&#34;myDiv&#34;</span><span class=p>;</span> <span class=c1>//设置div的id
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>div</span><span class=p>.</span><span class=nx>className</span> <span class=o>=</span> <span class=s2>&#34;box&#34;</span><span class=p>;</span> <span class=c1>//设置div的class
</span></span></span></code></pre></div><p>在创建元素后，还需要把元素添加到文档树中，主要依靠 appendChild 方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ul</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;myList&#34;</span><span class=p>);</span> <span class=c1>//获得ul
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>li</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;li&#34;</span><span class=p>);</span> <span class=c1>//创建li
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>li</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s2>&#34;项目四&#34;</span><span class=p>;</span> <span class=c1>//向li内添加文本
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ul</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>li</span><span class=p>);</span> <span class=c1>//把li 添加到ul子节点的末尾
</span></span></span></code></pre></div><p>添加之后变成了：</p><pre tabindex=0><code>&lt;ul id=&#34;myList&#34;&gt;
&lt;li&gt;项目一&lt;/li&gt;
&lt;li&gt;项目二&lt;/li&gt;
&lt;li&gt;项目三&lt;/li&gt;
&lt;li&gt;项目四&lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>appendChild()  方法还可以添加已经存在的元素，会将元素从原来的位置移到新的位置</p><pre tabindex=0><code>var ul = document.getElementById(&#34;myList&#34;); //获得ul
ul.appendChild(ul.firstChild); //把ul的第一个元素节点移到ul子节点的末尾
</code></pre><p>运行后(IE)：</p><pre tabindex=0><code>&lt;ul id=&#34;myList&#34;&gt;
&lt;li&gt;项目二&lt;/li&gt;
&lt;li&gt;项目三&lt;/li&gt;
&lt;li&gt;项目一&lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>insertBefore()  方法，如果不是在末尾插入节点，而是想放在特定的位置上，用这个方法，该方法接受 2 个参数，第一个是要插入的节点，第二个是参照节点，返回要添加的元素节点</p><pre tabindex=0><code>var ul = document.getElementById(&#34;myList&#34;); //获得ul
var li = document.createElement(&#34;li&#34;); //创建li
li.innerHTML= &#34;项目四&#34;; //向li内添加文本
ul.insertBefore(li,ul.firstChild); //把li添加到ul的第一个子节点前
</code></pre><p>添加后:</p><pre tabindex=0><code>&lt;ul id=&#34;myList&#34;&gt;
&lt;li&gt;项目四&lt;/li&gt;
&lt;li&gt;项目一&lt;/li&gt;
&lt;li&gt;项目二&lt;/li&gt;
&lt;li&gt;项目三&lt;/li&gt;
&lt;/ul&gt;
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ul</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;myList&#34;</span><span class=p>);</span> <span class=c1>//获得ul
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>li</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;li&#34;</span><span class=p>);</span> <span class=c1>//创建li
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>li</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s2>&#34;项目四&#34;</span><span class=p>;</span> <span class=c1>//向li内添加文本
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ul</span><span class=p>.</span><span class=nx>insertBefore</span><span class=p>(</span><span class=nx>li</span><span class=p>,</span> <span class=nx>ul</span><span class=p>.</span><span class=nx>lastChild</span><span class=p>);</span> <span class=c1>//把li添加到ul的子节点末尾
</span></span></span></code></pre></div><p>添加后:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;myList&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目一<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目二<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目三<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>项目四<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>ul</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;myList&#34;</span><span class=p>);</span> <span class=c1>//获得ul
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>li</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;li&#34;</span><span class=p>);</span> <span class=c1>//创建li
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>li</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s2>&#34;项目四&#34;</span><span class=p>;</span> <span class=c1>//向li内添加文本
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>lis</span> <span class=o>=</span> <span class=nx>ul</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;li&#34;</span><span class=p>);</span> <span class=c1>//获取ul中所有li的集合
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>ul</span><span class=p>.</span><span class=nx>insertBefore</span><span class=p>(</span><span class=nx>li</span><span class=p>,</span> <span class=nx>lis</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span> <span class=c1>//把li添加到ul中的第二个li节点前
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>添加后:</p><pre tabindex=0><code>&lt;ul id=&#34;myList&#34;&gt;
&lt;li&gt;项目一&lt;/li&gt;
&lt;li&gt;项目四&lt;/li&gt;
&lt;li&gt;项目二&lt;/li&gt;
&lt;li&gt;项目三&lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>##  移除与替换</p><p>移除元素节点</p><pre tabindex=0><code>removeChild() 方法 ，用于移除节点，接受一个参数，即要移除的节点，返回被移除的节点，注意被移除的节点仍然在文档中，不过文档中已没有其位置了
var ul = document.getElementById(&#34;myList&#34;); //获得ul
var fromFirstChild = ul.removeChild(ul.firstChild); //移除ul第一个子节点
var ul = document.getElementById(&#34;myList&#34;); //获得ul
var lis = ul.getElementsByTagName(&#34;li&#34;) //获取ul中所有li的集合
ul.removeChild(lis[0]); 　　　　　　//移除第一个li，与上面不同，要考虑浏览器之间的差异
</code></pre><p>替换元素节点</p><pre tabindex=0><code>replaceChild() 方法 ，用于替换节点，接受两个参数，第一参数是要插入的节点，第二个是要替换的节点，返回被替换的节点
var ul = document.getElementById(&#34;myList&#34;); //获得ul
var fromFirstChild = ul.replaceChild(ul.firstChild); //替换ul第一个子节点
var ul = document.getElementById(&#34;myList&#34;); //获得ul;
var li = document.createElement(&#34;li&#34;); //创建li
li.innerHTML= &#34;项目四&#34;; //向li内添加文本
var lis = ul.getElementsByTagName(&#34;li&#34;) //获取ul中所有li的集合
var returnNode = ul.replaceChild(li,lis[1]); //用创建的li替换原来的第二个li
</code></pre><p>复制节点</p><pre tabindex=0><code>cloneNode() 方法，用于复制节点， 接受一个布尔值参数， true 表示深复制(复制节点及其所有子节点)， false 表示浅复制(复制节点本身，不复制子节点)
var ul = document.getElementById(&#34;myList&#34;); //获得ul
var deepList = ul.cloneNode(true); //深复制
var shallowList = ul.cloneNode(false); //浅复制
</code></pre><p># Document</p><h1 id=元素样式>元素样式</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Add Rules to Stylesheets with JavaScript
</span></span></span><span class=line><span class=cl><span class=c1>// http://davidwalsh.name/add-rules-stylesheets
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/* Getting the Stylesheet
</span></span></span><span class=line><span class=cl><span class=cm>Which stylesheet you add the rules to is up to you.  If you have a specific stylesheet in mind, you can add an ID to the LINK or STYLE element within your page HTML and get the CSSStyleSheet object by referencing the element&#39;s sheet property.  The stylesheets can be found in the document.styleSheets object:*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>sheets</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>styleSheets</span><span class=p>;</span> <span class=c1>// returns an Array-like StyleSheet List
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>Returns:  
</span></span></span><span class=line><span class=cl><span class=cm>StyleSheetList {0: CSSStyleSheet, 1: CSSStyleSheet, 2: CSSStyleSheet, 3: CSSStyleSheet, 4: CSSStyleSheet, 5: CSSStyleSheet, 6: CSSStyleSheet, 7: CSSStyleSheet, 8: CSSStyleSheet, 9: CSSStyleSheet, 10: CSSStyleSheet, 11: CSSStyleSheet, 12: CSSStyleSheet, 13: CSSStyleSheet, 14: CSSStyleSheet, 15: CSSStyleSheet, length: 16, item: function}
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Grab the first sheet, regardless of media
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>sheet</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>styleSheets</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* Creating a New Stylesheet
</span></span></span><span class=line><span class=cl><span class=cm>In many cases, it may just be best to create a new STYLE element for your dynamic rules.  This is quite easy:*/</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>sheet</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Create the &lt;style&gt; tag
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>style</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;style&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Add a media (and/or media query) here if you&#39;d like!
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// style.setAttribute(&#34;media&#34;, &#34;screen&#34;)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// style.setAttribute(&#34;media&#34;, &#34;@media only screen and (max-width : 1024px)&#34;)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// WebKit hack :(
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>style</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>createTextNode</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Add the &lt;style&gt; element to the page
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nb>document</span><span class=p>.</span><span class=nx>head</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>style</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>style</span><span class=p>.</span><span class=nx>sheet</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* Adding Rules
</span></span></span><span class=line><span class=cl><span class=cm>CSSStyleSheet objects have an addRule method which allows you to register CSS rules within the stylesheet.  The addRule method accepts three arguments:  the selector, the second the CSS code for the rule, and the third is the zero-based integer index representing the style position (in relation to styles of the same selector): */</span>
</span></span><span class=line><span class=cl><span class=nx>sheet</span><span class=p>.</span><span class=nx>addRule</span><span class=p>(</span><span class=s2>&#34;#myList li&#34;</span><span class=p>,</span> <span class=s2>&#34;float: left; background: red !important;&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* Inserting Rules
</span></span></span><span class=line><span class=cl><span class=cm>Stylesheets also have an insertRule method which isn&#39;t available in earlier IE&#39;s.  The insertRule combines the first two arguments of addRule: */</span>
</span></span><span class=line><span class=cl><span class=nx>sheet</span><span class=p>.</span><span class=nx>insertRule</span><span class=p>(</span><span class=s2>&#34;header { float: left; opacity: 0.8; }&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* Safely Applying Rules
</span></span></span><span class=line><span class=cl><span class=cm>Since browser support for insertRule isn&#39;t as global, it&#39;s best to create a wrapping function to do the rule application.  Here&#39;s a quick and dirty method: */</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>addCSSRule</span><span class=p>(</span><span class=nx>sheet</span><span class=p>,</span> <span class=nx>selector</span><span class=p>,</span> <span class=nx>rules</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>sheet</span><span class=p>.</span><span class=nx>insertRule</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sheet</span><span class=p>.</span><span class=nx>insertRule</span><span class=p>(</span><span class=nx>selector</span> <span class=o>+</span> <span class=s2>&#34;{&#34;</span> <span class=o>+</span> <span class=nx>rules</span> <span class=o>+</span> <span class=s2>&#34;}&#34;</span><span class=p>,</span> <span class=nx>index</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sheet</span><span class=p>.</span><span class=nx>addRule</span><span class=p>(</span><span class=nx>selector</span><span class=p>,</span> <span class=nx>rules</span><span class=p>,</span> <span class=nx>index</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Use it!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>addCSSRule</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>styleSheets</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=s2>&#34;header&#34;</span><span class=p>,</span> <span class=s2>&#34;float: left&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* Inserting Rules for Media Queries
</span></span></span><span class=line><span class=cl><span class=cm>Media query-specific rules can be added in one of two ways. The first way is through the standard insertRule method: */</span>
</span></span><span class=line><span class=cl><span class=nx>sheet</span><span class=p>.</span><span class=nx>insertRule</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;@media only screen and (max-width : 1140px) { header { display: none; } }&#34;</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/dom/%E9%80%89%E6%8B%A9%E4%B8%8E%E6%93%8D%E4%BD%9C/%E5%85%83%E7%B4%A0%E9%80%89%E6%8B%A9/ rel=prev>元素选择</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>