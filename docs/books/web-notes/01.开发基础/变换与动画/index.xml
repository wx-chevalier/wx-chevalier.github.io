<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>变换与动画 | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/</link><atom:link href="https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/index.xml" rel="self" type="application/rss+xml"/><description>变换与动画</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>变换与动画</title><link>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/</link></image><item><title>CSS 变换与动画</title><link>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/css-%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/css-%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/</guid><description>&lt;h1 id="gpu-animation">GPU Animation&lt;/h1>
&lt;h2 id="动画">动画&lt;/h2>
&lt;ul>
&lt;li>基本 style 可动画参数&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>参数名称&lt;/th>
&lt;th>说明&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>width&lt;/td>
&lt;td>&lt;code>{ width: 100 }&lt;/code> 元素当前宽度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>maxWidth&lt;/td>
&lt;td>&lt;code>{ maxWidth: 100 }&lt;/code> 元素当前最大宽度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>minWidth&lt;/td>
&lt;td>&lt;code>{ minWidth: 100 }&lt;/code> 元素当前最小宽度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>height&lt;/td>
&lt;td>&lt;code>{ height: 100 }&lt;/code> 元素当前高度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>maxHeight&lt;/td>
&lt;td>&lt;code>{ maxHeight: 100 }&lt;/code> 元素当前最大高度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>minHeight&lt;/td>
&lt;td>&lt;code>{ minHeight: 100 }&lt;/code> 元素当前最小高度到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lineHeight&lt;/td>
&lt;td>&lt;code>{ lineHeight: 100 }&lt;/code> 区块行高到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>opacity&lt;/td>
&lt;td>&lt;code>{ opacity: 0 }&lt;/code> 元素当前透明度到 0&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>top&lt;/td>
&lt;td>&lt;code>{ top: 100 }&lt;/code> 元素当前顶部距离到 100px, 需配合 `position: relative&lt;/td>
&lt;td>absolute`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>right&lt;/td>
&lt;td>&lt;code>{ right: 100 }&lt;/code> 元素当前右部距离到 100px, 需配合 `position: relative&lt;/td>
&lt;td>absolute`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>bottom&lt;/td>
&lt;td>&lt;code>{ bottom: 100 }&lt;/code> 元素当前下部距离到 100px, 需配合 `position: relative&lt;/td>
&lt;td>absolute`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left&lt;/td>
&lt;td>&lt;code>{ left: 100 }&lt;/code> 元素当前左部距离到 100px, 需配合 `position: relative&lt;/td>
&lt;td>absolute`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>marginTop&lt;/td>
&lt;td>&lt;code>{ marginTop: 100 }&lt;/code> 元素当前顶部外边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>marginRight&lt;/td>
&lt;td>&lt;code>{ marginRight: 100 }&lt;/code> 元素当前右部外边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>marginBottom&lt;/td>
&lt;td>&lt;code>{ marginBottom: 100 }&lt;/code> 元素当前下部外边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>marginLeft&lt;/td>
&lt;td>&lt;code>{ marginLeft: 100 }&lt;/code> 元素当前左部外边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>paddingTop&lt;/td>
&lt;td>&lt;code>{ paddingTop: 100 }&lt;/code> 元素当前顶部内边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>paddingRight&lt;/td>
&lt;td>&lt;code>{ paddingRight: 100 }&lt;/code> 元素当前右部内边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>paddingBottom&lt;/td>
&lt;td>&lt;code>{ paddingBottom: 100 }&lt;/code> 元素当前下部内边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>paddingLeft&lt;/td>
&lt;td>&lt;code>{ paddingLeft: 100 }&lt;/code> 元素当前左部内边距离到 100px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>color&lt;/td>
&lt;td>&lt;code>{ color: '#FFFFFF' }&lt;/code> 元素当前文字颜色到白色&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>backgroundColor&lt;/td>
&lt;td>&lt;code>{ backgroundColor: '#FFFFFF' }&lt;/code> 元素当前背景颜色到白色&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>borderWidth&lt;/td>
&lt;td>&lt;code>{ borderWidth: 2 }&lt;/code> 元素当前边框宽度到 2px，同样可用 &lt;code>borderTopWidth&lt;/code> &lt;code>borderRightWidth``borderBottomWidth&lt;/code> &lt;code>borderLeftWidth&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>borderRadius&lt;/td>
&lt;td>&lt;code>{ borderRadius: 5 }&lt;/code> 元素当前圆角到 5px, 同上, 同样可用 &lt;code>上 左 下 右&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>borderColor&lt;/td>
&lt;td>&lt;code>{ borderColor: '#FFFFFF' }&lt;/code> 元素当前边框颜色到白色&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>boxShadow&lt;/td>
&lt;td>&lt;code>{ boxShadow: '0 0 10px #000' }&lt;/code> 元素当前阴影模糊到 10px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>textShadow&lt;/td>
&lt;td>&lt;code>{ textShadow: '0 0 10px #000' }&lt;/code> 元素当前文字内容阴影模糊到 10px&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>transform 参数&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>参数名称&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>translateX / x&lt;/td>
&lt;td>&lt;code>{ translateX: 10 } or { x: 10 } =&amp;gt; transform: translateX(10px)&lt;/code>, x 方向的位置移动 10px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>translateY / y&lt;/td>
&lt;td>&lt;code>{ translateY: 10 } or { y: 10 } =&amp;gt; transform: translateY(10px)&lt;/code>, y 方向的位置移动 10px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>translateZ / z&lt;/td>
&lt;td>&lt;code>{ translateZ: 10 } or { z: 10 } =&amp;gt; transform: translateZ(10px)&lt;/code>, z 方向的位置移动 10px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rotate&lt;/td>
&lt;td>&lt;code>{ rotate: 10 } =&amp;gt; transform: rotate(10deg)&lt;/code> 元素以 transformOrigin 的中心点旋转 10deg&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rotateX&lt;/td>
&lt;td>&lt;code>{ rotateX: 10 } =&amp;gt; transform: rotateX(10deg)&lt;/code> 元素以 transformOrigin 的中心点向 X 旋转 10deg&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rotateY&lt;/td>
&lt;td>&lt;code>{ rotateY: 10 } =&amp;gt; transform: rotateY(10deg)&lt;/code> 元素以 transformOrigin 的中心点向 Y 旋转 10deg&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scale&lt;/td>
&lt;td>&lt;code>{ scale: 0 } =&amp;gt; transform: scale(0)&lt;/code> 元素以 transformOrigin 的中心点缩放到 0, 不改变元素的宽高&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scaleX&lt;/td>
&lt;td>&lt;code>{ scaleX: 0 } =&amp;gt; transform: scaleX(0)&lt;/code> 元素以 transformOrigin 的中心点 X 缩放到 0, 不改变元素的宽高&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scaleY&lt;/td>
&lt;td>&lt;code>{ scaleY: 0 } =&amp;gt; transform: scaleY(0)&lt;/code> 元素以 transformOrigin 的中心点 Y 缩放到 0, 不改变元素的宽高&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>transformOrigin&lt;/td>
&lt;td>&lt;code>{ transformOrigin: '50px 50px'}&lt;/code> 元素当前中心点到 x: 50px y: 50px;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>filter 参数&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>参数名称&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>grayScale&lt;/td>
&lt;td>&lt;code>{ grayScale: 1 }&lt;/code> 元素 filter 灰度到 100%;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sepia&lt;/td>
&lt;td>&lt;code>{ sepia: 1 }&lt;/code> 元素 filter 颜色到 100%;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hueRotate&lt;/td>
&lt;td>&lt;code>{ hueRotate: '90deg' }&lt;/code> 元素 filter 色相盘旋转 90 度;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>invert&lt;/td>
&lt;td>&lt;code>{ invert: 1 }&lt;/code> 元素 filter 色值反相到 100%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>brightness&lt;/td>
&lt;td>&lt;code>{ brightness: 2 }&lt;/code> 元素 filter 亮度到 200%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>contrast&lt;/td>
&lt;td>&lt;code>{ contrast: 2 }&lt;/code> 对比度到 200%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>saturate&lt;/td>
&lt;td>&lt;code>{ saturate: 2 }&lt;/code> 饱和度到 200%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>blur&lt;/td>
&lt;td>&lt;code>{ blur: '20px' }&lt;/code> 模糊到 20px&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="css-animationtransition">CSS-Animation&amp;amp;Transition&lt;/h1>
&lt;p>CSS3 提供了 &lt;code>transition&lt;/code> 过渡、&lt;code>transform 变换&lt;/code>和 &lt;code>animation 动画&lt;/code>来实现页面中的一些样式转化&lt;/p>
&lt;h2 id="transition变换">Transition(变换)&lt;/h2>
&lt;p>W3C 对 css transition 的定义是允许 css 属性值在指定的持续时间内发生平滑地变化。而 mozilla 上介绍它是 transition-property, transition-duration, transition-timing-function 和 transition-delay 的简写属性，它允许定义一个元素两个状态之间的过渡过程。不同的状态可以通过像:hover 或:active 这样的伪类来定义，还可以使用 JavaScript 来动态地设置。Transition 的基本语法如下所示：&lt;/p>
&lt;pre tabindex="0">&lt;code>transition : transition-property transition-duration transition-timing-function transition-delay [, ...]
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>transition-property&lt;/li>
&lt;/ul>
&lt;p>用来指定执行 transition 效果的属性，可以为 none, all 或者特定的属性。&lt;/p>
&lt;ul>
&lt;li>transition-duration&lt;/li>
&lt;/ul>
&lt;p>动画执行的持续时间，单位为 s(秒) 或者 ms(毫秒)。&lt;/p>
&lt;ul>
&lt;li>transition-timing-function&lt;/li>
&lt;/ul>
&lt;p>变换速率效果，可选值为 ease|linear|ease-in|ease-out|ease-in-out|cubic-bezier(自定义时间曲线)。&lt;/p>
&lt;ul>
&lt;li>transition-delay&lt;/li>
&lt;/ul>
&lt;p>用来指定动画开始执行的时间，取值同 transition-duration，但是可以为负数。&lt;/p>
&lt;p>一个最简单的例子如下所示：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;height:150px;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>热门网站&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://info.3g.qq.com/g/s?aid=index&amp;amp;g_f=2543&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>腾讯&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://m.sohu.com/?_trans_=000012_qq_dh&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>搜狐&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://3g.163.com/links/3810&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>网易&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>相对应的 CSS 代码为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">main&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">overflow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-webkit-&lt;/span>&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease-in&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-moz-&lt;/span>&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease-in&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-o-&lt;/span>&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease-in&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease-in&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#fff&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">main&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">close&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>上面代码会使得类名为 main 的 div 元素的所有属性值中任何一个发生改变时，如 height 属性由 150px 变为 0 时(可通过将”main”类名修改为”main close”实现)执行 transition 动画效果，动画持续时间为 0.5s，属性值的改变速率为加速，延迟时间为 0s，即立即执行。当然，div 元素的 height 属性由 0 变为 150px 时同样会自动执行该动画。考虑到该属性的标准还没有稳定下来，不同的浏览器对它的支持都需要加上对应的前缀，比如像 chrome 和 safari 这样的基于 webkit 内核的浏览器需要添加-webkit 作为前缀。&lt;/p>
&lt;h2 id="transform">Transform&lt;/h2>
&lt;p>transform 分为 2D 和 3D。&lt;/p>
&lt;h3 id="2d">2D&lt;/h3>
&lt;p>其主要包含以下几种变换: 旋转 rotate、扭曲 skew、缩放 scale 和移动 translate 以及矩阵变形 matrix，语法如下:&lt;/p>
&lt;pre tabindex="0">&lt;code>transform: rotate | scale | skew | translate |matrix;
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>
&lt;p>rotate 旋转&lt;/p>
&lt;p>rotate 的单位是 &lt;code>deg 度&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>，正数表示顺时针旋转，负数表示逆时针旋转。&lt;/p>
&lt;p>DEMO: &lt;a href="http://codepen.io/CodingMonkeyzh/pen/XbNYOa" target="_blank" rel="noopener">http://codepen.io/CodingMonkeyzh/pen/XbNYOa&lt;/a>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>scale 缩放&lt;/p>
&lt;p>scale 的取值范围是 &lt;code>0~n&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>，小于 &lt;code>1&lt;/code>&lt;/p>
&lt;p>时表示缩小，反之表示放大。例如 &lt;code>scale(0.5, 2)&lt;/code>&lt;/p>
&lt;p>表示水平方向缩小 1 倍，垂直方向放大 1 倍，另外，也可以通过 &lt;code>scaleX&lt;/code>&lt;/p>
&lt;p>或者 &lt;code>scaleY&lt;/code>&lt;/p>
&lt;p>对一个方向进行设置。&lt;/p>
&lt;p>DEMO: &lt;a href="http://codepen.io/CodingMonkeyzh/pen/doOKrg" target="_blank" rel="noopener">http://codepen.io/CodingMonkeyzh/pen/doOKrg&lt;/a>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>skew 扭曲&lt;/p>
&lt;p>skew 的单位跟 &lt;code>rotate&lt;/code>&lt;/p>
&lt;p>一样都是 &lt;code>deg 度&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>。例如 &lt;code>skew(30deg, 10deg)&lt;/code>&lt;/p>
&lt;p>表示水平方向倾斜 30 度，垂直方向倾斜 10 度。&lt;/p>
&lt;p>DEMO: &lt;a href="http://codepen.io/CodingMonkeyzh/pen/KpNeYg" target="_blank" rel="noopener">http://codepen.io/CodingMonkeyzh/pen/KpNeYg&lt;/a>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>translate 偏移&lt;/p>
&lt;p>偏移同样包括水平偏移和垂直偏移。&lt;code>translate(x,y)&lt;/code>&lt;/p>
&lt;p>水平方向和垂直方向同时移动(也就是 X 轴和 Y 轴同时移动)；&lt;code>translateX(x)&lt;/code>&lt;/p>
&lt;p>仅水平方向移动(X 轴移动)；&lt;code>translateY(Y)&lt;/code>&lt;/p>
&lt;p>仅垂直方向移动(Y 轴移动)。&lt;/p>
&lt;p>DEMO: &lt;a href="http://codepen.io/CodingMonkeyzh/pen/waoXbB" target="_blank" rel="noopener">http://codepen.io/CodingMonkeyzh/pen/waoXbB&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="animation">Animation&lt;/h2>
&lt;h3 id="keyframes">Keyframes&lt;/h3>
&lt;p>CSS3 中的 animation 是通过一个叫 &lt;code>Keyframes 关键帧&lt;/code>的玩意来控制的，他的命名是由&amp;quot;@keyframes&amp;quot;开头，后面紧接着是这个“动画的名称”加上一对花括号“{}”，括号中就是一些不同时间段样式规则，有点像我们 css 的样式写法一样。对于一个&amp;quot;@keyframes&amp;quot;中的样式规则是由多个百分比构成的，如“0%”到&amp;quot;100%&amp;ldquo;之间，语法如下:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">keyframes&lt;/span> &lt;span class="nt">IDENT&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">from&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">Percentage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">keyframes&lt;/span> &lt;span class="nt">IDENT&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">0&lt;/span>&lt;span class="o">%&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">Percentage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">100&lt;/span>&lt;span class="o">%&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">properties&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Properties&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="animation-1">animation&lt;/h3>
&lt;p>animation 属性是一个简写属性，用于设置动画属性：&lt;/p>
&lt;ol>
&lt;li>animation-name&amp;mdash;-规定需要绑定到选择器的 keyframe 名称。&lt;/li>
&lt;/ol>
&lt;p>语法：animation-name: keyframename|none；&lt;/p>
&lt;p>Keyframename：规定需要绑定到选择器的 keyframe 的名称。&lt;/p>
&lt;p>None: 规定无动画效果(可用于覆盖来自级联的动画)。&lt;/p>
&lt;p>例如：&lt;/p>
&lt;p>{&lt;/p>
&lt;p>-webkit-animation-name: my_animation;&lt;/p>
&lt;p>-moz-animation-name : my_animation;&lt;/p>
&lt;p>-ms-animation-name : my_animation;&lt;/p>
&lt;p>-o-animation-name: my_animation;&lt;/p>
&lt;p>animation-name: my_animation;&lt;/p>
&lt;p>}&lt;/p>
&lt;p>@-webkit-keyframes my_animation{}&lt;/p>
&lt;p>@-moz-keyframes my_animation{}&lt;/p>
&lt;p>@-ms-keyframes my_animation{}&lt;/p>
&lt;p>@-o-keyframes my_animation{}&lt;/p>
&lt;p>@keyframes my_animation{}&lt;/p>
&lt;ol start="2">
&lt;li>animation-duration&amp;mdash;-规定完成动画所花费的时间，以秒或毫秒计。&lt;/li>
&lt;/ol>
&lt;p>语法：animation-duration: time;&lt;/p>
&lt;p>time : 规定完成动画所花费的时间。默认值是 0，意味着没有动画效果。&lt;/p>
&lt;p>例如：&lt;/p>
&lt;p>{&lt;/p>
&lt;p>-webkit-animation-duration: 2s;&lt;/p>
&lt;p>-moz-animation-duration : 2s;&lt;/p>
&lt;p>-ms-animation-duration : 2s;&lt;/p>
&lt;p>-o-animation-duration: 2s;&lt;/p>
&lt;p>animation&amp;ndash;duration: 2s;&lt;/p>
&lt;p>}&lt;/p>
&lt;ol start="3">
&lt;li>animation-timing-function&amp;mdash;-规定动画的速度曲线&lt;/li>
&lt;/ol>
&lt;p>语法: animation-timing-function: value;&lt;/p>
&lt;p>Value 值&lt;/p>
&lt;p>linear：动画从头到尾的速度是相同的。&lt;/p>
&lt;p>ease：默认。动画以低速开始，然后加快，在结束前变慢。&lt;/p>
&lt;p>ease-in：动画以低速开始。&lt;/p>
&lt;p>ease-out：动画以低速结束。&lt;/p>
&lt;p>ease-in-out：动画以低速开始和结束。&lt;/p>
&lt;p>cubic-bezier(n,n,n,n)：在 cubic-bezier 函数中自己的值。可能的值是从 0 到 1 的数值。&lt;/p>
&lt;p>例如：&lt;/p>
&lt;p>{animation-timing-function:linear;}&lt;/p>
&lt;p>{animation-timing-function:ease;}&lt;/p>
&lt;p>{animation-timing-function:ease-in;}&lt;/p>
&lt;p>{animation-timing-function:ease-out;}&lt;/p>
&lt;p>{animation-timing-function:ease-in-out;}&lt;/p>
&lt;ol start="4">
&lt;li>animation-delay&amp;mdash;-规定在动画开始之前的延迟&lt;/li>
&lt;/ol>
&lt;p>语法: animation-delay: time;&lt;/p>
&lt;p>Time 值：可选。定义动画开始前等待的时间，以秒或毫秒计。默认值是 0。允许负值，-2s 使动画马上开始，但跳过 2 秒进入动画。&lt;/p>
&lt;p>{&lt;/p>
&lt;p>animation-delay:2s;&lt;/p>
&lt;p>-webkit-animation-delay:2s;&lt;/p>
&lt;p>}&lt;/p>
&lt;ol start="5">
&lt;li>animation-iteration-count&amp;mdash;-规定动画应该播放的次数&lt;/li>
&lt;/ol>
&lt;p>语法: animation-iteration-count: n|infinite;&lt;/p>
&lt;p>n：定义动画播放次数的数值。&lt;/p>
&lt;p>infinite：规定动画应该无限次播放。默认值为：1。&lt;/p>
&lt;p>示例：&lt;/p>
&lt;p>{&lt;/p>
&lt;p>animation-iteration-count:infinite;&lt;/p>
&lt;p>-webkit-animation-iteration-count:infinite;&lt;/p>
&lt;p>}&lt;/p>
&lt;ol start="6">
&lt;li>animation-direction&amp;mdash;-规定是否应该轮流反向播放动画&lt;/li>
&lt;/ol>
&lt;p>语法: animation-direction: normal|alternate;&lt;/p>
&lt;p>normal：默认值。动画应该正常播放。&lt;/p>
&lt;p>alternate：动画应该轮流反向播放。&lt;/p>
&lt;p>注释：如果把动画设置为只播放一次，则该属性没有效果。&lt;/p>
&lt;p>示例：&lt;/p>
&lt;p>{&lt;/p>
&lt;p>animation-direction:alternate;&lt;/p>
&lt;p>-webkit-animation-direction:alternate;&lt;/p>
&lt;p>}&lt;/p>
&lt;ol start="7">
&lt;li>animation-play-state 属性规定动画正在运行还是暂停&lt;/li>
&lt;/ol>
&lt;p>语法: animation-play-state: paused|running;&lt;/p>
&lt;p>paused：规定动画已暂停。&lt;/p>
&lt;p>running：规定动画正在播放。&lt;/p>
&lt;p>注释：可以在 JavaScript 中使用该属性，这样就能在播放过程中暂停动画。&lt;/p>
&lt;p>示例：&lt;/p>
&lt;p>{&lt;/p>
&lt;p>animation-play-state:running;&lt;/p>
&lt;p>-webkit-animation-play-state:running;&lt;/p>
&lt;p>}&lt;/p>
&lt;ol start="8">
&lt;li>animation-fill-mode 属性规定动画在播放之前或之后，其动画效果是否可见&lt;/li>
&lt;/ol>
&lt;p>语法: animation-fill-mode : none | forwards | backwards | both;&lt;/p>
&lt;p>none：不改变默认行为。&lt;/p>
&lt;p>forwards：当动画完成后，保持最后一个属性值(在最后一个关键帧中定义)。&lt;/p>
&lt;p>backwards：在 animation-delay 所指定的一段时间内，在动画显示之前，应用开始属性值(在第一个关键帧中定义)。&lt;/p>
&lt;p>both：向前和向后填充模式都被应用。&lt;/p>
&lt;h1 id="javascript-animation">JavaScript-Animation&lt;/h1>
&lt;h2 id="requestanimationframe">requestAnimationFrame&lt;/h2>
&lt;h2 id="tick">tick&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* tick https://github.com/AlloyTeam/AlloyTouch/blob/master/transformjs/asset/tick.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * By dntzhang|当耐特
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">vendors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;webkit&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;moz&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">vendors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">vp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vendors&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">vp&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;RequestAnimationFrame&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cancelAnimationFrame&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">vp&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;CancelAnimationFrame&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">vp&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;CancelRequestAnimationFrame&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="sr">/iP(ad|hone|od).*OS 6/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userAgent&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="c1">// iOS6 is buggy
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">!&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cancelAnimationFrame&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">lastTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">callback&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">nextTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">lastTime&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">now&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">callback&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">lastTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">nextTime&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">nextTime&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">now&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cancelAnimationFrame&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">tickArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">tick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tickArr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">execTick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">tickArr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">len&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tickArr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">requestAnimationFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">execTick&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">execTick&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">tick&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>JavaScript 动画</title><link>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/javascript-%E5%8A%A8%E7%94%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-notes/01.%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/javascript-%E5%8A%A8%E7%94%BB/</guid><description>&lt;h1 id="javascript-动画">JavaScript 动画&lt;/h1></description></item></channel></rss>