<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="1、多元函数定义 设 D 为一个非空的 n 元有序数组的集合， $f(x)$​ 为某一确定的对应规则，也称为函数关系。 $(x_1,x_2,……,x_n) \in D$​ 如果对于每一个有序数组，通过对应规则 $f(x)$​ 都有"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%E5%BE%AE%E5%88%86%E5%AD%A6/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.fab3cd1900ae35687457073b2d518207.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%E5%BE%AE%E5%88%86%E5%AD%A6/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%E5%BE%AE%E5%88%86%E5%AD%A6/"><meta property="og:title" content="多元函数微分学 | Next-gen Tech Edu"><meta property="og:description" content="1、多元函数定义 设 D 为一个非空的 n 元有序数组的集合， $f(x)$​ 为某一确定的对应规则，也称为函数关系。 $(x_1,x_2,……,x_n) \in D$​ 如果对于每一个有序数组，通过对应规则 $f(x)$​ 都有"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>多元函数微分学 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=64b5fc469c42f3aa8478498de4af6ed5><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">程序员数学</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id05249c0425e60e8a412851155ba1a42a")' href=#id05249c0425e60e8a412851155ba1a42a aria-expanded=false aria-controls=id05249c0425e60e8a412851155ba1a42a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id05249c0425e60e8a412851155ba1a42a aria-expanded=false aria-controls=id05249c0425e60e8a412851155ba1a42a><i class="fa-solid fa-angle-down" id=caret-id05249c0425e60e8a412851155ba1a42a></i></a></div><ul class="nav docs-sidenav collapse show" id=id05249c0425e60e8a412851155ba1a42a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfaba4a01b84a8497aa0bb2d57f6cef9b")' href=#idfaba4a01b84a8497aa0bb2d57f6cef9b aria-expanded=false aria-controls=idfaba4a01b84a8497aa0bb2d57f6cef9b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2022-%E6%95%B0%E5%AD%A6%E8%A6%81%E7%B4%A0/>2022-《数学要素》</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfaba4a01b84a8497aa0bb2d57f6cef9b aria-expanded=false aria-controls=idfaba4a01b84a8497aa0bb2d57f6cef9b><i class="fa-solid fa-angle-right" id=caret-idfaba4a01b84a8497aa0bb2d57f6cef9b></i></a></div><ul class="nav docs-sidenav collapse" id=idfaba4a01b84a8497aa0bb2d57f6cef9b><li class="child level"><a href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2022-%E6%95%B0%E5%AD%A6%E8%A6%81%E7%B4%A0/01.%E4%B8%87%E7%89%A9%E7%9A%86%E6%95%B0/>01.万物皆数</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idee6e88c50faf8b162a57581de1215c7e")' href=#idee6e88c50faf8b162a57581de1215c7e aria-expanded=false aria-controls=idee6e88c50faf8b162a57581de1215c7e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/>程序员数学</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idee6e88c50faf8b162a57581de1215c7e aria-expanded=false aria-controls=idee6e88c50faf8b162a57581de1215c7e><i class="fa-solid fa-angle-down" id=caret-idee6e88c50faf8b162a57581de1215c7e></i></a></div><ul class="nav docs-sidenav collapse show" id=idee6e88c50faf8b162a57581de1215c7e><li class="child level active"><a href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%E5%BE%AE%E5%88%86%E5%AD%A6/>多元函数微分学</a></li><li class="child level"><a href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86%E5%9F%BA%E7%A1%80/>微积分基础</a></li><li class="child level"><a href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E5%9F%BA%E7%A1%80/>线性代数基础</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3674202fd80601726de9ec6b62f92fed")' href=#id3674202fd80601726de9ec6b62f92fed aria-expanded=false aria-controls=id3674202fd80601726de9ec6b62f92fed aria-hidden=false data-toggle=collapse></div></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><ul><li><a href=#1多元函数定义>1、多元函数定义</a></li><li><a href=#2偏导数>2、偏导数</a></li><li><a href=#3高阶偏导数>3、高阶偏导数</a></li><li><a href=#4梯度>4、梯度</a></li><li><a href=#5雅可比矩阵>5、雅可比矩阵</a></li><li><a href=#6hessian-矩阵>6、Hessian 矩阵</a></li><li><a href=#7极值判别法则>7、极值判别法则</a></li><li><a href=#8二次型>8、二次型</a></li></ul></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>多元函数微分学</h1><div class=article-style><h3 id=1多元函数定义>1、多元函数定义</h3><p>设 D 为一个非空的 n 元有序数组的集合， $f(x)$​ 为某一确定的对应规则，也称为函数关系。</p><p>$(x_1,x_2,……,x_n) \in D$​ 如果对于每一个有序数组，通过对应规则 $f(x)$​ 都有唯一确定的实数 $y$​ 与之对应，则称对</p><p>应规则 $f(x)$​​ 为定义在 D 上的 n 元函数。记为：</p><p>$y = f(x_1,x_2,……,x_n)\ ,\ (x_1,x_2,……,x_n) \in D$ 。变量 $x_1,x_2,……,x_n$ 称为自变量；y 称为因变量。</p><ul><li><p>当 n=1 时，为一元函数，记为 $y = f(x)\ ,\ x \in D$ ；</p></li><li><p>当 n=2 时，为二元函数，记为 $z = f(x,y)\ , \ (x,y) \in D$​ ，如图所示：</p></li></ul><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/1-%e4%ba%8c%e5%85%83%e5%87%bd%e6%95%b0.png alt loading=lazy data-zoomable></div></div></figure></p><ul><li>二元及以上的函数统称为多元函数。</li></ul><h3 id=2偏导数>2、偏导数</h3><p><font size=5 color=red>$\frac{\partial f}{\partial x_i} = \lim\limits_{\Delta x_i \rightarrow 0}\frac{f(x_i,…,x_i + \Delta x_i,…,x_n) - f(x_i,…,x_i,…,x_n)}{\Delta x_i}$</font>​</p><p>偏导数，可以看作是导数的推广，对于多元函数来说，我们把其它的自变量固定不动，看成是<strong>常量</strong>，我们对其中的某一个变量求导数的话，那就是偏导数了，只对一个变量求导数！</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/2-%e5%81%8f%e5%af%bc%e6%95%b0.png alt loading=lazy data-zoomable></div></div></figure></p><p>几何意义上面来说就是在某个方向上对原函数来切一下，再去求导，就是偏导数。举例说明：</p><p><font size=5 color=red>$f(x,y) = x^2 + 3xy - 2y^2$</font></p><p>对变量 $x$ 求偏导数，其中 $y$ 是常量</p><p><font size=5 color=red>$f&rsquo;x = \frac{\partial f}{\partial x} = 2x + 3y$​​</font></p><p>对变量 $y$ 求偏导数，则 $x$ 是常量</p><p><font size=5 color=red>$f&rsquo;y = \frac{\partial f}{\partial y} = 3x - 4y$​​</font></p><h3 id=3高阶偏导数>3、高阶偏导数</h3><p>有高阶导数，同样也有高阶偏导数，它的情况比高阶导数要复杂一些，因为它的求导变量有多个，比如说：</p><p><font size=5 color=red>$\frac{\partial^2f}{\partial x\partial y}$​</font></p><p>它对 $x,y$ 求高阶偏导数的话，就是先对 $x$ 求偏导，再对 $y$ 求偏导，其实跟一元函数的高阶导数是一样的，依次对每个变量反复求导即可，我们还是以上面的公式为例：</p><p><font size=5 color=red>$f(x,y) = x^2 + 3xy - 2y^2$</font></p><p>二元函数的二阶偏导数有四个：</p><p><font size=5 color=red>$\frac{\partial^2 f}{\partial^2 x} = 2$​</font></p><p><font size=5 color=red>$\frac{\partial^2 f}{\partial x \partial y} = 3$​​</font></p><p><font size=5 color=red>$\frac{\partial^2 f}{\partial y \partial x} = 3$​</font></p><p><font size=5 color=red>$\frac{\partial^2 f}{\partial^2 y} = -4$</font></p><p>有个重要的结论，就是高阶导数和求导次序无关:</p><p><font size=5 color=red>$\frac{\partial^2f}{\partial x\partial y} = \frac{\partial^2f}{\partial y\partial x}$</font></p><h3 id=4梯度>4、梯度</h3><p>机器学习中的梯度下降法，和牛顿法很多地方都会用到<strong>梯度</strong>这个概念。</p><p><font size=5 color=red>$\nabla f(x) = \left [ \frac{\partial f}{\partial x_1},\frac{\partial f}{\partial x_2},…,\frac{\partial f}{\partial x_n} \right ]^T $​​</font>​​</p><p>梯度可以看成一元函数的导数，对于多元函数来说就是偏导数而已。</p><p>对于多元函数如果它的自变量有 N 个：$x_1,x_2,……,x_n$​​ 。它的梯度是个向量，是由对 $x_1,x_2,……,x_n$​ 变量</p><p>求偏导数构成的这样一个向量，称之为梯度。梯度我们用<strong>倒三角</strong>这个符号来表示，对 $f(x)$​ 求梯度得到上面所示的</p><p>向量 $\nabla f(x)$​ 。</p><h3 id=5雅可比矩阵>5、雅可比矩阵</h3><h4 id=51雅克比矩阵定义>5.1、雅克比矩阵定义</h4><p>这个可能很多同学学高等数学的时候可能没有学过，但是这个也比较好理解，就是由一阶偏导数构成的矩阵，发明它的目的主要是为了简化求导公式，对多元的复合函数求导，如果我们用雅可比矩阵来计算的话，它会写起来非常简洁，这在我们的人工神经网络反向推导的过程中往往会看到的。</p><p>$y = f(x)$ ，其中 $x$ 是 n 维向量表示有 n 个未知数即 n 个自变量，$y$ 是 k 维的向量表示函数对应关系计算返回 k 个因变量。</p><p>$y_i = f(x_i)$ ，其中每个 $x_i$ 和每个 $y_i$ 都是相关的，也就是每个 $y_i$ 是单独从 $x_i$ 映射过来的函数。</p><p>函数 $f(x)$ 的雅可比矩阵就是每个 $y_i$ 分别对每个 $x_i$ 求偏导，然后构成的矩阵叫做雅可比矩阵：</p><p><font size=5 color=red>$\left [\begin{aligned} &\frac{\partial y_1}{\partial x_1},\frac{\partial y_1}{\partial x_2},\cdots,\frac{\partial y_1}{\partial x_n}\&\frac{\partial y_2}{\partial x_1},\frac{\partial y_2}{\partial x_2},\cdots,\frac{\partial y_2}{\partial x_n}\&\ \cdots\ ,\ \cdots\ ,\cdots\ ,\ \cdots\&\frac{\partial y_k}{\partial x_1},\frac{\partial y_k}{\partial x_2},\cdots,\frac{\partial y_k}{\partial x_n}\end{aligned}\right]$​</font>​</p><p>第一行就是 $y_1$ 对 $x_1,x_2,…,x_n$ 求偏导；第二行就是 $y_2$ 对 $x_1,x_2,…,x_n$ 求偏导；第 k 行就是 $y_k$ 对$x_1,x_2,…,x_n$ 求偏导。如果 $x$ 是 n 维向量，$y$ 是 k 个值的因变量，那么雅可比矩阵就是 k*n 的矩阵。</p><h4 id=52雅克比矩阵示例>5.2、雅克比矩阵示例</h4><p><font size=5 color=red>$\left {\begin{aligned}y_1\y_2\end{aligned}\right} \quad\begin{aligned}&y_1 = x_1^2 + 3x_1x_2 + 2x_3\&y_2 = 2x_1 - 2x_1x_2 + x_3^2\end{aligned}\quad \left {\begin{aligned}x_1\x_2\x_3\end{aligned}\right}$</font></p><p>自变量 $x_1,x_2,x_3$ 根据函数 $f(x)$ 映射为因变量 $y_1,y_2$ ，那么 $y_1$ 是 $x_1,x_2,x_3$ 的函数，$y_2$ 也是 $x_1,x_2,x_3$ 的函数，那么函数 $f(x)$ 的雅可比矩阵如下：</p><p><font size=5 color=red>$\left[\begin{matrix}&2x_1 + 3x_2,&3x_1,&2 \&2- 2x_2,&-2x_1,&2x_3\end{matrix}\right]$</font></p><h3 id=6hessian-矩阵>6、Hessian 矩阵</h3><h4 id=61hessian-矩阵定义>6.1、Hessian 矩阵定义</h4><p>Hessian 矩阵是对于一个多元函数来说的，它就相当于一元函数的二阶导数。</p><p>有一个关于 $x$ 的 n 元函数 $f(x)$ ，自变量为 $x_1,x_2,…,x_n$​ ，那么 Hessian 矩阵为：</p><p><font size=5 color=red>$\left [\begin{matrix} &\frac{\partial^2 f}{\partial^2 x_1},&\frac{\partial^2 f}{\partial x_1 \partial x_2},&\cdots,&\frac{\partial^2 f}{\partial x_1 \partial x_n}\&\frac{\partial^2 f}{\partial x_2 \partial x_1},&\frac{\partial^2 f}{\partial^2 x_2},&\cdots,&\frac{\partial^2 f}{\partial x_2 \partial x_n}\&\cdots,&\cdots,&\cdots,&\cdots\&\frac{\partial^2 f}{\partial x_n \partial x_1},&\frac{\partial^2 f}{\partial x_n\partial x_2},&\cdots,&\frac{\partial^2 f}{\partial^2 x_n}\end{matrix}\right]$​​​​​​​​</font></p><p>Hessian 矩阵是一个 $n*n$​ 的矩阵，里面的元素是二阶偏导数构成的。第一个元素是对 $x_1$ 求二阶偏导数，第二个元素是对 $x_1x_2$ 求偏导数，因为咱们前面讲过，多元函数高阶偏导数和顺序无关，所以 Hessian 矩阵是对称矩阵。</p><h4 id=62实例演示-hessian-矩阵>6.2、实例演示 Hessian 矩阵</h4><p><font size=5 color=red>$f(x,y,z) = 3x^2 - 4xy + y^2 - 3z^2$​​​</font></p><p>首先求函数 $f(x,y,z)$ 的一阶偏导数：</p><ul><li>$f&rsquo;x = 6x -4y$​</li><li>$f&rsquo;y = -4x + 2y$​</li><li>$f&rsquo;z = -6z$​</li></ul><p>然后求解 Hessian 矩阵：</p><p><font size=5 color=red>$\left[\begin{matrix}&6,&-4,&0\&-4,&2,&0\&0,&0,&-6\end{matrix}\right]$</font>​​</p><p>Hessian 矩阵和函数的凹凸性是有密切关系的，如果 Hessian 矩阵<strong>正定</strong>，可以说函数 $f(x)$​​ 是<strong>凸函数</strong>，如果是<strong>负定</strong>，它就是<strong>凹函数</strong> 。矩阵正定是如何判定的呢？</p><h3 id=7极值判别法则>7、极值判别法则</h3><h4 id=71极值判定条件>7.1、极值判定条件</h4><p>对于一元函数，我们前面讲过， $f(x)$ 的一阶导数等于 0 处有极值，当 $f(x)$ 的二阶导数大于 0 时是<strong>极小值</strong>，当 $f(x)$ 的二阶导数小于 0 时是<strong>极大值</strong>，可以参考 $f(x) = x^2$ 的平方这个函数，其二阶导数是 $f&rsquo;&rsquo;(x) = 2 > 0 $​ ，那么该函数是凸函数。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/3-%e4%b8%80%e5%85%83%e5%87%bd%e6%95%b0.png alt loading=lazy data-zoomable></div></div></figure></p><p>多元函数的极值判别法则，首先 $f(x)$​ 的一阶导数等于 0，这点是<strong>驻点</strong>，那它就可能是<strong>极值点</strong>，它是极大值还是极小值或者不是极值怎么判定的？</p><p>看 Hessian 矩阵，在 $f(x)$​ 的一阶导数等于 0 处，就是驻点处。</p><ul><li><p>如果 Hessian 矩阵是<strong>正定</strong>的话，函数在该点有<strong>极小值</strong>；</p></li><li><p>如果 Hessian 矩阵是<strong>负定</strong>的话，函数在该点有<strong>极大值</strong>；</p></li><li><p>如果 Hessian 矩阵不定，函数在该点不是极值；</p></li></ul><h4 id=72实对称矩阵正定负定判定>7.2、实对称矩阵正定负定判定</h4><p>实对称矩阵 A 正定负定判定条件：</p><ul><li>对于任意向量 $\vec{v} \not= 0$，都有 $\vec{v}^TA\vec{v} > 0$​ ，那么 A 就是正定矩阵；</li><li>对于任意向量 $\vec{v} \not= 0$​​，都有 $\vec{v}^TA\vec{v} &lt; 0$​​ ，那么 A 就是负定矩阵；</li></ul><p>实对称矩阵 A 负定，代码演示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>6</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span><span class=o>-</span><span class=mi>5</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;给定向量任意向量v：&#39;</span><span class=p>,</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;求解矩阵A正定判定条件结果是：&#39;</span><span class=p>,</span><span class=n>v</span><span class=o>.</span><span class=n>dot</span><span class=p>(</span><span class=n>A</span><span class=p>)</span><span class=o>.</span><span class=n>dot</span><span class=p>(</span><span class=n>v</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>给定向量任意向量v： [3 5 6]
</span></span></span><span class=line><span class=cl><span class=s1>求解矩阵A正定判定条件结果是： -714
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>实对称矩阵 A 正定，代码演示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=o>-</span><span class=mi>5</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=o>-</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;给定向量任意向量v：&#39;</span><span class=p>,</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;求解矩阵A正定判定条件结果是：&#39;</span><span class=p>,</span><span class=n>v</span><span class=o>.</span><span class=n>dot</span><span class=p>(</span><span class=n>A</span><span class=p>)</span><span class=o>.</span><span class=n>dot</span><span class=p>(</span><span class=n>v</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>给定向量任意向量v： [ 2 -3 -5]
</span></span></span><span class=line><span class=cl><span class=s1>求解矩阵A正定判定条件结果是： 128
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>但是这样不太容易判断，我们还可以根据<strong>特征值</strong>正负去判断矩阵正定与否：</p><ul><li>矩阵 A 的特征值全部大于 0，那么矩阵 A 为正定矩阵；</li><li>矩阵 A 的特征值全部小于 0，那么矩阵 A 为负定矩阵；</li></ul><p>实对称矩阵 A 负定，特征值代码演示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>6</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span><span class=o>-</span><span class=mi>5</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=n>w</span><span class=p>,</span><span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>eig</span><span class=p>(</span><span class=n>A</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;矩阵A的特征值特征向量是：&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>display</span><span class=p>(</span><span class=n>w</span><span class=p>,</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>矩阵A的特征值特征向量是：
</span></span></span><span class=line><span class=cl><span class=s1>array([-10.54287655,  -0.03922866,  -2.41789479])
</span></span></span><span class=line><span class=cl><span class=s1>array([[ 0.32798528,  0.73697623, -0.59100905],
</span></span></span><span class=line><span class=cl><span class=s1>       [ 0.73697623, -0.59100905, -0.32798528],
</span></span></span><span class=line><span class=cl><span class=s1>       [ 0.59100905,  0.32798528,  0.73697623]])
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>实对称矩阵 A 正定，特征值代码演示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>5</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=o>-</span><span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=o>-</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>7</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=n>w</span><span class=p>,</span><span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>eig</span><span class=p>(</span><span class=n>A</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;矩阵A的特征值特征向量是：&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>display</span><span class=p>(</span><span class=n>w</span><span class=p>,</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>矩阵A的特征值特征向量是：
</span></span></span><span class=line><span class=cl><span class=s1>array([10.74515039,  1.63251546,  2.62233415])
</span></span></span><span class=line><span class=cl><span class=s1>array([[-0.58123713, -0.60851363, -0.54025416],
</span></span></span><span class=line><span class=cl><span class=s1>       [-0.27299496, -0.4796241 ,  0.83392714],
</span></span></span><span class=line><span class=cl><span class=s1>       [ 0.76657495, -0.63219608, -0.11265418]])
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h3 id=8二次型>8、二次型</h3><h4 id=81二次型定义>8.1、二次型定义</h4><p>二次型就是纯二次项构成的一个函数 。</p><p>因为二次函数（方程）的二次部分最重要，为了方便研究，我们把含有 n 个变量的二次齐次函数：</p><p>$f(x_1,x_2,\cdots,x_n) = a_{11}x_1^2 + a_{22}x_2^2 + \cdots + a_{nn}x_n^2 + 2a_{12}x_1x_2 + 2a_{13}x_1x_3+\cdots + 2a_{n-1,n}x_{n-1}x_n$</p><p>称为二次型。</p><h4 id=82二次型表示>8.2、二次型表示</h4><p>我们可以通过矩阵来进行表示</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/4-%e4%ba%8c%e6%ac%a1%e5%9e%8b%e7%9f%a9%e9%98%b5.png alt loading=lazy data-zoomable></div></div></figure></p><p>二次型<strong>通俗</strong>表现形式：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/5-%e4%ba%8c%e6%ac%a1%e5%9e%8b%e9%80%9a%e4%bf%97%e8%a1%a8%e7%8e%b0%e5%bd%a2%e5%bc%8f.png alt loading=lazy data-zoomable></div></div></figure></p><p>二次型<strong>矩阵</strong>表示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/6-%e4%ba%8c%e6%ac%a1%e5%9e%8b%e7%9f%a9%e9%98%b5%e8%a1%a8%e7%a4%ba.png alt loading=lazy data-zoomable></div></div></figure></p><p>n 个变量的二次齐次函数矩阵表示：</p><p>$f(x_1,x_2,\cdots,x_n) = a_{11}x_1^2 + a_{22}x_2^2 + \cdots + a_{nn}x_n^2 + 2a_{12}x_1x_2 + 2a_{13}x_1x_3+\cdots + 2a_{n-1,n}x_{n-1}x_n$</p><p><font size=5 color=red>$x^TAx$​</font></p><p><font size=5 color=red>$[x_1,x_2,\cdots,x_n]\left[\begin{matrix}&a_{11}\quad a_{12}\quad \cdots \quad a_{1n}\&a_{21}\quad a_{22}\quad\cdots\quad a_{2n}\&\cdots\quad\cdots\quad\cdots\quad\cdots\&a_{n1}\quad a_{n2}\cdots\quad a_{nn}\end{matrix}\right]\left[\begin{matrix}x_1\x_2\\cdots\x_n\end{matrix}\right]$​</font>​​</p><h4 id=83二次型应用>8.3、二次型应用</h4><p>在机器学习中，我们可以根据数据分布进行模型选择：</p><ul><li>如果数据分布是一次型的，那我们就可以选择 Logistic Regression、SVM 等分界面为一次型的模型；</li><li>如果数据分布是二次型的，我们可以选择 naive bayes；</li><li>如果数据分布既不是一次型也不是二次型，那我们可以选择基于决策树的模型，例如 GBDT、随机森林等，或者 DNN（深度神经网络），这些模型都高度非线性，表达能力极强理论上可以拟合任意曲线。</li></ul><h4 id=84hessian-矩阵与二次型>8.4、Hessian 矩阵与二次型</h4><p><font size=5 color=red>$A = \left [\begin{matrix} &\frac{\partial^2 f}{\partial^2 x_1},&\frac{\partial^2 f}{\partial x_1 \partial x_2},&\cdots,&\frac{\partial^2 f}{\partial x_1 \partial x_n}\&\frac{\partial^2 f}{\partial x_2 \partial x_1},&\frac{\partial^2 f}{\partial^2 x_2},&\cdots,&\frac{\partial^2 f}{\partial x_2 \partial x_n}\&\cdots,&\cdots,&\cdots,&\cdots\&\frac{\partial^2 f}{\partial x_n \partial x_1},&\frac{\partial^2 f}{\partial x_n\partial x_2},&\cdots,&\frac{\partial^2 f}{\partial^2 x_n}\end{matrix}\right]$​</font></p><p>将 Hessian 矩阵 A 转换为二次型：</p><p>$f(x) = \vec{x}^TA\vec{x}$​​ ，其中 $\vec{x}$​​​ 表示非零任意向量</p><ul><li>$f(x) > 0,\quad \vec{x} \not=0,\quad x \in R$ ，则 $f(x)$ 为正定二次型，A 为正定矩阵</li><li>$f(x) \ge 0,\quad \vec{x} \not=0,\quad x \in R$​ ，则 $f(x)$​ 为半正定二次型，A 为半正定矩阵</li><li>$f(x) &lt; 0,\quad \vec{x} \not=0,\quad x \in R$​ ，则 $f(x)$​ 为负定二次型，A 为负定矩阵</li><li>$f(x) \le 0,\quad \vec{x} \not=0,\quad x \in R$​ ，则 $f(x)$​ 为半负定二次型，A 为半负定矩阵</li><li>以上皆不是，就叫做不定</li></ul><p>正定效果图，如下所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/7-%e6%ad%a3%e5%ae%9a.png alt loading=lazy data-zoomable></div></div></figure></p><p>半正定效果图，如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/8-%e5%8d%8a%e6%ad%a3%e5%ae%9a.png alt loading=lazy data-zoomable></div></div></figure></p><p>不定效果图，如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/book/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/9-%e4%b8%8d%e5%ae%9a.png alt loading=lazy data-zoomable></div></div></figure></p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/mathematics-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86%E5%9F%BA%E7%A1%80/ rel=prev>微积分基础</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>