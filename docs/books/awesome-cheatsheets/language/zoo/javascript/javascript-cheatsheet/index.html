<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="🔆 中文版本 | ☀️ English Version JavaScript CheatSheet | 现代 JavaScript 语法速览与实战清单 JavaScript CheatSheet 是对于 JavaScript 学习/实践过程中的语法与技巧进行盘点，其属于 Awesome CheatSheet 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet/"><meta property="og:title" content="JavaScript-CheatSheet | Next-gen Tech Edu"><meta property="og:description" content="🔆 中文版本 | ☀️ English Version JavaScript CheatSheet | 现代 JavaScript 语法速览与实战清单 JavaScript CheatSheet 是对于 JavaScript 学习/实践过程中的语法与技巧进行盘点，其属于 Awesome CheatSheet 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><meta property="article:modified_time" content="2023-03-05T15:38:23+08:00"><title>JavaScript-CheatSheet | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=e6b37a6805b96f6f7ebd75f5de4a26d8><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">JavaScript</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idff7d7aca72ea4a09a65a4f97f3813816")' href=#idff7d7aca72ea4a09a65a4f97f3813816 aria-expanded=false aria-controls=idff7d7aca72ea4a09a65a4f97f3813816 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/>Zoo</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idff7d7aca72ea4a09a65a4f97f3813816 aria-expanded=false aria-controls=idff7d7aca72ea4a09a65a4f97f3813816><i class="fa-solid fa-angle-down" id=caret-idff7d7aca72ea4a09a65a4f97f3813816></i></a></div><ul class="nav docs-sidenav collapse show" id=idff7d7aca72ea4a09a65a4f97f3813816><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id146ad16b1ca7a2a10910e3ebdfe17938")' href=#id146ad16b1ca7a2a10910e3ebdfe17938 aria-expanded=false aria-controls=id146ad16b1ca7a2a10910e3ebdfe17938 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/c/>C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id146ad16b1ca7a2a10910e3ebdfe17938 aria-expanded=false aria-controls=id146ad16b1ca7a2a10910e3ebdfe17938><i class="fa-solid fa-angle-right" id=caret-id146ad16b1ca7a2a10910e3ebdfe17938></i></a></div><ul class="nav docs-sidenav collapse" id=id146ad16b1ca7a2a10910e3ebdfe17938><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/c/cpp-cheatsheet/>CPP-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/c/morten-cpp-cheatsheet/>Morten-CPP-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbb491fd92ce43c9bb4f44a8fd3289f94")' href=#idbb491fd92ce43c9bb4f44a8fd3289f94 aria-expanded=false aria-controls=idbb491fd92ce43c9bb4f44a8fd3289f94 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/go/>Go</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbb491fd92ce43c9bb4f44a8fd3289f94 aria-expanded=false aria-controls=idbb491fd92ce43c9bb4f44a8fd3289f94><i class="fa-solid fa-angle-right" id=caret-idbb491fd92ce43c9bb4f44a8fd3289f94></i></a></div><ul class="nav docs-sidenav collapse" id=idbb491fd92ce43c9bb4f44a8fd3289f94><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/go/go-cheatsheet/>Go-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/go/go-concurrentprogramming-cheatsheet/>Go-ConcurrentProgramming-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id726be5e823a78c8c7cf54077d88dea93")' href=#id726be5e823a78c8c7cf54077d88dea93 aria-expanded=false aria-controls=id726be5e823a78c8c7cf54077d88dea93 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/java/>Java</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id726be5e823a78c8c7cf54077d88dea93 aria-expanded=false aria-controls=id726be5e823a78c8c7cf54077d88dea93><i class="fa-solid fa-angle-right" id=caret-id726be5e823a78c8c7cf54077d88dea93></i></a></div><ul class="nav docs-sidenav collapse" id=id726be5e823a78c8c7cf54077d88dea93><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/gradle-cheatsheet/>Gradle-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-cheatsheet/>Java-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-concurrentprogramming-cheatsheet/>Java-ConcurrentProgramming-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-styleguide-cheatsheet/>Java-StyleGuide-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/jvm-tuning-cheatsheet/>JVM-Tuning-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb1111a54c2fccd66ef7284ceb9cf85a4")' href=#idb1111a54c2fccd66ef7284ceb9cf85a4 aria-expanded=false aria-controls=idb1111a54c2fccd66ef7284ceb9cf85a4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/javascript/>JavaScript</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb1111a54c2fccd66ef7284ceb9cf85a4 aria-expanded=false aria-controls=idb1111a54c2fccd66ef7284ceb9cf85a4><i class="fa-solid fa-angle-down" id=caret-idb1111a54c2fccd66ef7284ceb9cf85a4></i></a></div><ul class="nav docs-sidenav collapse show" id=idb1111a54c2fccd66ef7284ceb9cf85a4><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/dart-cheatsheet/>Dart-CheatSheet</a></li><li class="child level active"><a href=/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet/>JavaScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet-en/>JavaScript-CheatSheet-en</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/typescript-cheatsheet/>TypeScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/v8-cheatsheet/>V8-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide845c45237049459862112286be20750")' href=#ide845c45237049459862112286be20750 aria-expanded=false aria-controls=ide845c45237049459862112286be20750 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/python/>Python</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide845c45237049459862112286be20750 aria-expanded=false aria-controls=ide845c45237049459862112286be20750><i class="fa-solid fa-angle-right" id=caret-ide845c45237049459862112286be20750></i></a></div><ul class="nav docs-sidenav collapse" id=ide845c45237049459862112286be20750><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/python/python-cheatsheet/>Python-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8f16262a9e5aae6fa58b2410a606ee5f")' href=#id8f16262a9e5aae6fa58b2410a606ee5f aria-expanded=false aria-controls=id8f16262a9e5aae6fa58b2410a606ee5f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/ruby/>Ruby</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8f16262a9e5aae6fa58b2410a606ee5f aria-expanded=false aria-controls=id8f16262a9e5aae6fa58b2410a606ee5f><i class="fa-solid fa-angle-right" id=caret-id8f16262a9e5aae6fa58b2410a606ee5f></i></a></div><ul class="nav docs-sidenav collapse" id=id8f16262a9e5aae6fa58b2410a606ee5f><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/ruby/ruby-cheatsheet/>Ruby-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1ff356fda035dd1a0f899a872e6d4758")' href=#id1ff356fda035dd1a0f899a872e6d4758 aria-expanded=false aria-controls=id1ff356fda035dd1a0f899a872e6d4758 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/rust/>Rust</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1ff356fda035dd1a0f899a872e6d4758 aria-expanded=false aria-controls=id1ff356fda035dd1a0f899a872e6d4758><i class="fa-solid fa-angle-right" id=caret-id1ff356fda035dd1a0f899a872e6d4758></i></a></div><ul class="nav docs-sidenav collapse" id=id1ff356fda035dd1a0f899a872e6d4758><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/rust/rust-cheatsheet/>Rust-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id19617781a15c41a12aead38291689824")' href=#id19617781a15c41a12aead38291689824 aria-expanded=false aria-controls=id19617781a15c41a12aead38291689824 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id19617781a15c41a12aead38291689824 aria-expanded=false aria-controls=id19617781a15c41a12aead38291689824><i class="fa-solid fa-angle-right" id=caret-id19617781a15c41a12aead38291689824></i></a></div><ul class="nav docs-sidenav collapse" id=id19617781a15c41a12aead38291689824><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/swift/swift-cheatsheet/>Swift-CheatSheet</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#操作符>操作符</a><ul><li><a href=#解构操作符>解构操作符</a></li><li><a href=#扩展操作符>扩展操作符</a></li></ul></li><li><a href=#循环>循环</a></li></ul><ul><li><a href=#类型判断与变量比较>类型判断与变量比较</a><ul><li><a href=#隐式转换>隐式转换</a></li></ul></li><li><a href=#number--数值类型>Number | 数值类型</a></li><li><a href=#string--字符串类型>String | 字符串类型</a></li><li><a href=#regex--正则表达式>Regex | 正则表达式</a><ul><li><a href=#匹配提取>匹配提取</a></li><li><a href=#匹配模式>匹配模式</a></li></ul></li><li><a href=#datetime--时间与日期>DateTime | 时间与日期</a></li></ul><ul><li><a href=#array--数组>Array | 数组</a><ul><li><a href=#创建>创建</a></li><li><a href=#索引与遍历>索引与遍历</a></li><li><a href=#增删复制>增删复制</a></li><li><a href=#transform--变换>Transform | 变换</a></li></ul></li><li><a href=#set>Set</a></li><li><a href=#map>Map</a></li><li><a href=#typed-arrays--buffer>Typed Arrays & Buffer</a></li></ul><ul><li><a href=#definition--定义>Definition | 定义</a></li><li><a href=#参数>参数</a></li><li><a href=#execution--执行>Execution | 执行</a></li><li><a href=#generator--iterator--生成器与迭代器>Generator & Iterator | 生成器与迭代器</a></li></ul><ul><li><a href=#object>Object</a><ul><li><a href=#对象创建>对象创建</a></li><li><a href=#对象拷贝>对象拷贝</a></li></ul></li></ul><ul><li><a href=#callback--回调>Callback | 回调</a></li><li><a href=#promise>Promise</a></li><li><a href=#生成器>生成器</a></li><li><a href=#asyncawait>async/await</a></li></ul><ul><li><a href=#es6-module--模块>ES6 Module | 模块</a></li><li><a href=#error-handling--异常处理>Error Handling | 异常处理</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>JavaScript-CheatSheet</h1><div class=article-style><p><a href=./JavaScript-CheatSheet.md>🔆 中文版本</a> | <a href=./JavaScript-CheatSheet.en.md>☀️ English Version</a></p><h1 id=javascript-cheatsheet--现代-javascript-语法速览与实战清单>JavaScript CheatSheet | 现代 JavaScript 语法速览与实战清单</h1><p>JavaScript CheatSheet 是对于 JavaScript 学习/实践过程中的语法与技巧进行盘点，其属于 <a href=https://github.com/wx-chevalier/Awesome-CheatSheets/ target=_blank rel=noopener>Awesome CheatSheet</a> 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料。本文参考了许多优秀的文章与代码示范，统一声明在了 <a href=https://github.com/wx-chevalier/Awesome-Lists/blob/master/ProgrammingLanguage/JavaScript/JavaScript-List.md target=_blank rel=noopener>JavaScript Links</a>；如果希望深入了解某方面的内容，可以继续阅读<a href></a>，或者前往 <a href>coding-snippets/javascript</a> 查看使用 JavaScript 解决常见的数据结构与算法、设计模式、业务功能方面的代码实现。</p><p>Javascript 于 1995 年由网景公司的 Brendan Eich 发明。最初它作为一种简单的，用于开发网站的脚本语言而被发明出来，是用于开发复杂网站的 Java 的补充。但由于它与网页结合度很高并且在浏览器中得到内置的支持，所以在网页前端领域 Javascript 变得比 Java 更流行了。</p><p>对于 JavaScript 的语法速览可以参考本目录下的 <a href=https://parg.co/QNv target=_blank rel=noopener>js-snippets</a>。</p><h1 id=基础语法>基础语法</h1><h1 id=表达式与控制流>表达式与控制流</h1><h2 id=操作符>操作符</h2><h3 id=解构操作符>解构操作符</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=nx>a</span><span class=p>}</span> <span class=o>=</span> <span class=p>{</span><span class=nx>a</span><span class=o>:</span><span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// a = 1
</span></span></span></code></pre></div><p>某些场景下我们需要进行深层解构，同时保存某个浅层属性值：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=o>:</span> <span class=p>{</span> <span class=nx>b</span> <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>a</span><span class=o>:</span> <span class=p>{</span> <span class=nx>b</span><span class=o>:</span> <span class=mi>1</span> <span class=p>}</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// a = {b:1}, b = 1
</span></span></span></code></pre></div><h3 id=扩展操作符>扩展操作符</h3><p>扩展操作符(Spread Syntax)，即 &mldr;，其允许某个将某个 Iterable 对象扩展到当前位置：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>mid</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=p>...</span><span class=nx>mid</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>];</span> <span class=c1>// [1, 2, 3, 4, 5, 6]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>max</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>max</span><span class=p>(...</span><span class=nx>arr</span><span class=p>);</span> <span class=c1>// 8
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>str</span> <span class=o>=</span> <span class=s2>&#34;hello&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>chars</span> <span class=o>=</span> <span class=p>[...</span><span class=nx>str</span><span class=p>];</span> <span class=c1>// [&#34;h&#34;, &#34;e&#34;, &#34;l&#34;, &#34;l&#34;, &#34;o&#34;]
</span></span></span></code></pre></div><h2 id=循环>循环</h2><p>for-of 循环，可作用在可迭代对象上，正是利用了可迭代对象上的默认迭代器。大致过程是：for-of 循环每执行一次都会调用可迭代对象的 next()方法，并将迭代器返回的结果对象的 value 属性存储在变量中，循环将继续执行这一过程直到返回对象的 done 属性的值为 true。</p><h1 id=基本数据类型>基本数据类型</h1><p>JavaScript 内置了 6 种基础数据类型：Number, String, Boolean, null, undefined, Symbol:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>typeof</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>// number
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typeof</span> <span class=kc>true</span><span class=p>;</span> <span class=c1>// boolean
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typeof</span> <span class=s2>&#34;Hello&#34;</span><span class=p>;</span> <span class=c1>// string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typeof</span> <span class=nb>Math</span><span class=p>;</span> <span class=c1>// object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typeof</span> <span class=kc>null</span><span class=p>;</span> <span class=c1>// object  !!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typeof</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s2>&#34;Hi&#34;</span><span class=p>);</span> <span class=c1>// symbol (New ES6)
</span></span></span></code></pre></div><h2 id=类型判断与变量比较>类型判断与变量比较</h2><h3 id=隐式转换>隐式转换</h3><pre tabindex=0><code>// 0[object Object]1
{} + [] + {} + [1]

// NaN[object Object]
{} + [1,2] + {} + []
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// false，等式两侧存在 NaN，则为 false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kc>NaN</span> <span class=o>==</span> <span class=kc>NaN</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// true, 先进行 Bool 操作转化为 false，然后两侧都变为数字 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[]</span> <span class=o>==</span> <span class=o>!</span><span class=p>[]</span>
</span></span></code></pre></div><h2 id=number--数值类型>Number | 数值类型</h2><p>JavaScript 中并没有区分整型或者浮点类型，而是统一使用 Number 表示。</p><p>JavaScript 内置的 Math 对象提供了极大极小的整型值以及多个数值类型的工具函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>value</span> <span class=o>=</span> <span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>/</span> <span class=mi>10</span><span class=p>;</span> <span class=c1>// 900719925474099.1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>value</span> <span class=o>=</span> <span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>/</span> <span class=mi>10</span><span class=p>)</span> <span class=o>*</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span> <span class=c1>// -900719925474099.1
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 向下取整
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>intvalue</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>floatvalue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>intvalue</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>floatvalue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>intvalue</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>floatvalue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// `Math.trunc` was added in ECMAScript 6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>intvalue</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>trunc</span><span class=p>(</span><span class=nx>floatvalue</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=string--字符串类型>String | 字符串类型</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>substr</span><span class=p>(</span><span class=nx>start</span><span class=p>[,</span> <span class=nx>length</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;abc&#34;</span><span class=p>.</span><span class=nx>substr</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span> <span class=c1>// bc
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>substring</span><span class=p>(</span><span class=nx>indexStart</span><span class=p>[,</span> <span class=nx>indexEnd</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;abc&#34;</span><span class=p>.</span><span class=nx>substring</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span> <span class=c1>// b
</span></span></span></code></pre></div><h2 id=regex--正则表达式>Regex | 正则表达式</h2><p>对于常量正则表达式，可以使用正则字符串方式；而对于动态的正则表达式，可以使用正则表达式构造函数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Regular Expression Literal
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>regexLiteral</span> <span class=o>=</span> <span class=sr>/cat/</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Regular Expression Constructor
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>regexConstructor</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=s2>&#34;cat&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 也可以将两个正则表达式合并为一个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>lower</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=sr>/--RegexCode--/</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>upper</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=sr>/--RegexCode--/</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>finalRe</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=nx>lower</span><span class=p>.</span><span class=nx>source</span> <span class=o>+</span> <span class=s2>&#34;|&#34;</span> <span class=o>+</span> <span class=nx>upper</span><span class=p>.</span><span class=nx>source</span><span class=p>);</span>
</span></span></code></pre></div><ul><li><p>Symbols</p><ul><li><code>.</code> —  匹配除了换行之外的任意字符</li><li><code>^</code> —  匹配字符串的首部</li><li><code>$</code> —  匹配字符串的末尾</li></ul></li><li><p>Number</p><ul><li><code>*</code> —  匹配前述的表达式零或多次</li><li><code>+</code> —  匹配前述的表达式一或多次</li><li><code>?</code> —  匹配前述的表达式零或一次</li><li><code>a{3}</code> - 匹配指定数目的 a</li><li><code>a{3,}</code> - 匹配不少于 3 个的 a</li><li><code>a{3,6}</code> - 匹配 3 到 6 个 a</li></ul></li><li><p>Character groups</p><ul><li><code>\d</code> —  匹配任意的数值</li><li><code>\w</code> —  匹配任意的字符</li><li><code>[XYZ]</code> —  数组中任一值匹配，多范围混搭的话，可以使用 <code>[A-Z][xyz]+</code> 来匹配集合中的任一字符</li><li><code>[^a-z]</code> — <code>^</code> 用于进行反选，这里即表示匹配非 a-z 字符的其他值；<code>([^B]*)</code> 表示该位置是除了 B 之外的任意值。</li></ul></li><li><p>Advanced</p><ul><li><code>(x)</code> —  捕获圆括号，匹配 x 并且记录捕获项</li><li><code>(x|y)</code> - 匹配 x 或者 y</li><li><code>(?:x)</code> —  非匹配圆括号，仅匹配而不记录</li><li><code>x(?=y)</code> —  预测匹配，仅匹配那些 y 之前的 x</li></ul></li><li><p>Flags</p><ul><li><code>g</code> —  全局搜索</li><li><code>i</code> —  大小写敏感搜索</li></ul></li></ul><h3 id=匹配提取>匹配提取</h3><p>正则表达式可以用来判断元素存在性，用于字符串替换等：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>str1</span> <span class=o>=</span> <span class=s2>&#34;the cat says meow&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>hasCat</span> <span class=o>=</span> <span class=sr>/cat/</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>hasCat</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=nx>str1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>removeCc</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/([A-Z])/g</span><span class=p>,</span> <span class=s2>&#34; $1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>removeCc</span><span class=p>(</span><span class=s2>&#34;camelCase&#34;</span><span class=p>);</span> <span class=c1>// &#39;camel Case&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>removeCc</span><span class=p>(</span><span class=s2>&#34;helloWorldItIsMe&#34;</span><span class=p>);</span> <span class=c1>// &#39;hello World It Is Me&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// replace 支持回调函数，譬如用来将下划线转 camelCase
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>key</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\_./g</span><span class=p>,</span> <span class=p>(</span><span class=nx>str</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>str</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=nx>toUpperCase</span><span class=p>());</span>
</span></span></code></pre></div><p>较为常用的是 match 与 exec 方法，对于预设的捕获组，其会按序排列在 <code>match</code> 数组中。如果执行 exec 方法的正则表达式没有分组（没有括号括起来的内容），那么如果有匹配，他将返回一个只有一个元素的数组，这个数组唯一的元素就是该正则表达式匹配的第一个串; 如果没有匹配则返回 null。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>someText</span> <span class=o>=</span> <span class=s2>&#34;web2.0 .net2.0&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>pattern</span> <span class=o>=</span> <span class=sr>/(\w+)(\d)\.(\d)/g</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>outCome_exec</span> <span class=o>=</span> <span class=nx>pattern</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>someText</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// [ &#39;net2.0&#39;, &#39;net&#39;, &#39;2&#39;, &#39;0&#39;, index: 8, input: &#39;web2.0 .net2.0&#39;, groups: undefined ]
</span></span></span><span class=line><span class=cl><span class=c1>// 当 match 全局匹配时，会直接返回匹配列表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>outCome_match</span> <span class=o>=</span> <span class=nx>someText</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=nx>pattern</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// [ &#39;web2.0&#39;, &#39;net2.0&#39; ]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 提取匹配项
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>s</span> <span class=o>=</span> <span class=s1>&#39;[description:&#34;aoeu&#34; uuid:&#34;123sth&#34;]&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>re</span> <span class=o>=</span> <span class=sr>/\s*([^[:]+):\&#34;([^&#34;]+)&#34;/g</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>((</span><span class=nx>m</span> <span class=o>=</span> <span class=nx>re</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>s</span><span class=p>)))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>m</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=nx>m</span><span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 将字符串分割
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=s2>&#34;1234567890&#34;</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/.{1,2}/g</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// [&#39;12&#39;, &#39;34&#39;, &#39;56&#39;, &#39;78&#39;, &#39;90&#39;];
</span></span></span></code></pre></div><p>exec 与 match 的区别在于，在全局匹配模式下，match 仅会返回匹配项数组，而忽略提取项；exec 会需要迭代调用才会返回全部结果:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>re_once</span> <span class=o>=</span> <span class=sr>/([a-z])([A-Z])/</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>re_glob</span> <span class=o>=</span> <span class=sr>/([a-z])([A-Z])/g</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>st</span> <span class=o>=</span> <span class=s2>&#34;aAbBcC&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;match once=&#34;</span> <span class=o>+</span> <span class=nx>st</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=nx>re_once</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;  match glob=&#34;</span> <span class=o>+</span> <span class=nx>st</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=nx>re_glob</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;exec once=&#34;</span> <span class=o>+</span> <span class=nx>re_once</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;   exec glob=&#34;</span> <span class=o>+</span> <span class=nx>re_glob</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;exec once=&#34;</span> <span class=o>+</span> <span class=nx>re_once</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;   exec glob=&#34;</span> <span class=o>+</span> <span class=nx>re_glob</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;exec once=&#34;</span> <span class=o>+</span> <span class=nx>re_once</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;   exec glob=&#34;</span> <span class=o>+</span> <span class=nx>re_glob</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>st</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>match once=aA,a,A  match glob=aA,bB,cC
</span></span></span><span class=line><span class=cl><span class=cm>exec once=aA,a,A   exec glob=aA,a,A
</span></span></span><span class=line><span class=cl><span class=cm>exec once=aA,a,A   exec glob=bB,b,B
</span></span></span><span class=line><span class=cl><span class=cm>exec once=aA,a,A   exec glob=cC,c,C
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><h3 id=匹配模式>匹配模式</h3><p><code>/g</code> 标识标识全局匹配。<code>/y</code> 标识(Sticky 模式)表示匹配必须从 <code>re.lastIndex</code>，即上一次匹配的末尾处开始，该行为类似于 <code>^</code> 标识，不过不强制从首部开始。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>str</span> <span class=o>=</span> <span class=s2>&#34;#foo#&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>regex</span> <span class=o>=</span> <span class=sr>/foo/y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>regex</span><span class=p>.</span><span class=nx>lastIndex</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>regex</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>regex</span><span class=p>.</span><span class=nx>lastIndex</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>regex</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span> <span class=c1>// false (lastIndex is taken into account with sticky flag)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>regex</span><span class=p>.</span><span class=nx>lastIndex</span><span class=p>;</span> <span class=c1>// 0 (reset after match failure)
</span></span></span></code></pre></div><p>如下实例较好地对比了全局模式与严格模式的区别，严格模式并不会自动忽略中间的非匹配对象：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>matcher</span><span class=p>(</span><span class=nx>regex</span><span class=p>,</span> <span class=nx>input</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>match</span> <span class=o>=</span> <span class=nx>regex</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>input</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>lastIndex</span> <span class=o>=</span> <span class=nx>regex</span><span class=p>.</span><span class=nx>lastIndex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span> <span class=nx>lastIndex</span><span class=p>,</span> <span class=nx>match</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>input</span> <span class=o>=</span> <span class=s2>&#34;haha haha haha&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>nextGlobal</span> <span class=o>=</span> <span class=nx>matcher</span><span class=p>(</span><span class=sr>/ha/g</span><span class=p>,</span> <span class=nx>input</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextGlobal</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 2, match: [&#39;ha&#39;] }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextGlobal</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 4, match: [&#39;ha&#39;] }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextGlobal</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 7, match: [&#39;ha&#39;] }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>nextSticky</span> <span class=o>=</span> <span class=nx>matcher</span><span class=p>(</span><span class=sr>/ha/y</span><span class=p>,</span> <span class=nx>input</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextSticky</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 2, match: [&#39;ha&#39;] }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextSticky</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 4, match: [&#39;ha&#39;] }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>nextSticky</span><span class=p>());</span> <span class=c1>// &lt;- { lastIndex: 0, match: null }
</span></span></span></code></pre></div><h2 id=datetime--时间与日期>DateTime | 时间与日期</h2><p>基础的时间与日期知识参考 <a href>Programming Language CheatSheet/时间与日期</a>。</p><p>如果是轻量级的时间与日期操作，推荐使用 <a href=https://github.com/date-fns/date-fns target=_blank rel=noopener>date-fns</a>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// Fri Aug 21 2015 15:51:55 GMT+0800 (中国标准时间)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=mi>1293879600000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2011-01-01T11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2011/01/01 11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;jan 01 2011,11 11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;Sat Jan 01 2011 11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// Sat Jan 01 2011 11:00:00 GMT+0800 (中国标准时间)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;sss&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2011/01/01T11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2011-01-01-11:00:00&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;1293879600000&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// Invalid Date
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2011-01-01T11:00:00&#34;</span><span class=p>)</span> <span class=o>-</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;1992/02/11 12:00:12&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 596069988000
</span></span></span></code></pre></div><h1 id=集合类型>集合类型</h1><h2 id=array--数组>Array | 数组</h2><h3 id=创建>创建</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 创建一个数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>arrayObj</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建一个数组并指定长度，注意不是上限，是长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>arrayObj</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>([</span><span class=nx>size</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建一个数组并赋值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>arrayObj</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>([</span><span class=nx>element0</span><span class=p>[,</span> <span class=nx>element1</span><span class=p>[,</span> <span class=p>...[,</span> <span class=nx>elementN</span><span class=p>]]]]);</span>
</span></span></code></pre></div><p>也可以从类数组结构中创建出新的数组对象：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>arrayLike</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>0</span><span class=o>:</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span><span class=o>:</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>length</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=o>*</span><span class=p>[</span><span class=nx>Symbol</span><span class=p>.</span><span class=nx>iterator</span><span class=p>]()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>yield</span> <span class=k>this</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>yield</span> <span class=k>this</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>arrayLike</span><span class=p>));</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 使用 Array.from 创建序列数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>length</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=nx>map</span><span class=p>((</span><span class=nx>_</span><span class=p>,</span> <span class=nx>i</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>i</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>uniqueArray</span> <span class=o>=</span> <span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>[...</span><span class=k>new</span> <span class=nx>Set</span><span class=p>(</span><span class=nx>arr</span><span class=p>)];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>uniqueArray</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=c1>// [1,2,3,4,5]
</span></span></span></code></pre></div><h3 id=索引与遍历>索引与遍历</h3><h3 id=增删复制>增删复制</h3><p>数组元素的添加：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 将一个或多个新元素添加到数组结尾，并返回数组新长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>push</span><span class=p>([</span><span class=nx>item1</span> <span class=p>[</span><span class=nx>item2</span> <span class=p>[.</span> <span class=p>.</span> <span class=p>.</span> <span class=p>[</span><span class=nx>itemN</span> <span class=p>]]]]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 将一个或多个新元素添加到数组开始，数组中的元素自动后移，返回数组新长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>unshift</span><span class=p>([</span><span class=nx>item1</span> <span class=p>[</span><span class=nx>item2</span> <span class=p>[.</span> <span class=p>.</span> <span class=p>.</span> <span class=p>[</span><span class=nx>itemN</span> <span class=p>]]]]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//将一个或多个新元素插入到数组的指定位置，插入位置的元素自动后移，返回&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=nx>insertPos</span><span class=p>,</span><span class=mi>0</span><span class=p>,[</span><span class=nx>item1</span><span class=p>[,</span> <span class=nx>item2</span><span class=p>[,</span> <span class=p>.</span> <span class=p>.</span> <span class=p>.</span> <span class=p>[,</span><span class=nx>itemN</span><span class=p>]]]]);</span>
</span></span></code></pre></div><p>数组元素的删除：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 移除最后一个元素并返回该元素值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>pop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 移除最前一个元素并返回该元素值，数组中元素自动前移
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>shift</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 删除从指定位置deletePos开始的指定数量deleteCount的元素，数组形式返回所移除的元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=nx>deletePos</span><span class=p>,</span> <span class=nx>deleteCount</span><span class=p>);</span>
</span></span></code></pre></div><p>数组的截取与合并：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 以数组的形式返回数组的一部分，注意不包括 end 对应的元素，如果省略 end 将复制 start 之后的所有元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=nx>start</span><span class=p>,</span> <span class=p>[</span><span class=nx>end</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 将多个数组（也可以是字符串，或者是数组和字符串的混合）连接为一个数组，返回连接好的新的数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>concat</span><span class=p>([</span><span class=nx>item1</span><span class=p>[,</span> <span class=nx>item2</span><span class=p>[,</span> <span class=p>.</span> <span class=p>.</span> <span class=p>.</span> <span class=p>[,</span><span class=nx>itemN</span><span class=p>]]]]);</span>
</span></span></code></pre></div><h3 id=transform--变换>Transform | 变换</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 异步 map 操作
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>await</span> <span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>arr</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kr>await</span> <span class=nx>item</span><span class=p>.</span><span class=nx>run</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><p><code>reduce()</code> 函数能够将某个函数作用于数组中的每个元素，从而将多个值转换为单个值；其典型的用法为计算数组和值，或者进行数组扁平化：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 指定初始值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>(</span><span class=nx>callback</span><span class=p>,</span> <span class=nx>initValue</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 计算数组和值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>val</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用 reduce 进行数组扁平化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>flatten</span> <span class=o>=</span> <span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span><span class=p>.</span><span class=nx>concat</span><span class=p>(</span><span class=nx>v</span><span class=p>),</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl><span class=c1>// flatten([1,[2],3,4]) -&gt; [1,2,3,4]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 深度扁平化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>flattenDepth</span> <span class=o>=</span> <span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>depth</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>=&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>depth</span> <span class=o>!=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=o>?</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span><span class=p>.</span><span class=nx>concat</span><span class=p>(</span><span class=nb>Array</span><span class=p>.</span><span class=nx>isArray</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span> <span class=o>?</span> <span class=nx>flattenDepth</span><span class=p>(</span><span class=nx>v</span><span class=p>,</span> <span class=nx>depth</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>:</span> <span class=nx>v</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>[]</span>
</span></span><span class=line><span class=cl>      <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>:</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span><span class=p>.</span><span class=nx>concat</span><span class=p>(</span><span class=nx>v</span><span class=p>),</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl><span class=c1>// flattenDepth([1,[2],[[[3],4],5]], 2) -&gt; [1,2,[3],4,5]
</span></span></span></code></pre></div><p>数组元素的排序：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 反转元素（最前的排到最后、最后的排到最前），返回数组地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>reverse</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 对数组元素排序，返回数组地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>sort</span><span class=p>();</span>
</span></span></code></pre></div><p>数组元素的字符串化：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 返回字符串，这个字符串将数组的每一个元素值连接在一起，中间用 separator 隔开。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arrayObj</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>separator</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=set>Set</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// it contains
</span></span></span><span class=line><span class=cl><span class=c1>// [&#34;sumit&#34;,&#34;amit&#34;,&#34;anil&#34;,&#34;anish&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>set1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>([</span><span class=s2>&#34;sumit&#34;</span><span class=p>,</span> <span class=s2>&#34;sumit&#34;</span><span class=p>,</span> <span class=s2>&#34;amit&#34;</span><span class=p>,</span> <span class=s2>&#34;anil&#34;</span><span class=p>,</span> <span class=s2>&#34;anish&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// it contains &#39;f&#39;, &#39;o&#39;, &#39;d&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>set2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>(</span><span class=s2>&#34;fooooooood&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// it contains [10, 20, 30, 40]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>set3</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>40</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>30</span><span class=p>).</span><span class=nx>add</span><span class=p>(</span><span class=mi>40</span><span class=p>).</span><span class=nx>add</span><span class=p>(</span><span class=mi>50</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>set1</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=mi>50</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s2>&#34;e&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// clearing set2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>set2</span><span class=p>.</span><span class=nx>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Using Set.prototype.entries()
</span></span></span><span class=line><span class=cl><span class=c1>// creating set
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>set1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// adding element to the set
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>50</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>40</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>set1</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// using entries to get iterator
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>getEntriesArry</span> <span class=o>=</span> <span class=nx>set1</span><span class=p>.</span><span class=nx>entries</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// each iterator is array of [value, value]
</span></span></span><span class=line><span class=cl><span class=c1>// prints [50, 50]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>getEntriesArry</span><span class=p>.</span><span class=nx>next</span><span class=p>().</span><span class=nx>value</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=map>Map</h2><p>Map 对象和 Object 对象的区别如下：</p><ul><li>一个对象通常都有自己的原型，所以一个对象总有一个"prototype"键</li><li>一个对象的键只能是字符串或者 Symbols，但一个 Map 的键可以是任意值</li><li>可以通过 size 属性很容易地得到一个 Map 的键值对个数，而对象的键值对个数只能手动确认</li></ul><h2 id=typed-arrays--buffer>Typed Arrays & Buffer</h2><p>Typed Arrays 允许我们在 JavaScript 中处理二进制数据与结构，最早是用于 WebGL API 中，以缓解标准 JavaScript 数组转换与类型推测过慢的问题。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Floating point arrays.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>f64</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Float64Array</span><span class=p>(</span><span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>f32</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Float32Array</span><span class=p>(</span><span class=mi>16</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Signed integer arrays.
</span></span></span><span class=line><span class=cl><span class=c1>// size in bytes: 4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>i32</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Int32Array</span><span class=p>(</span><span class=mi>16</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// size in bytes: 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>i16</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Int16Array</span><span class=p>(</span><span class=mi>32</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// size in bytes: 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>i8</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Int8Array</span><span class=p>(</span><span class=mi>64</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Unsigned integer arrays.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>u32</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Uint32Array</span><span class=p>(</span><span class=mi>16</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>u16</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Uint16Array</span><span class=p>(</span><span class=mi>32</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>u8</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Uint8Array</span><span class=p>(</span><span class=mi>64</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>pixels</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Uint8ClampedArray</span><span class=p>(</span><span class=mi>64</span><span class=p>);</span>
</span></span></code></pre></div><p>其典型的场景譬如 WebGL 中获取数据：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>gl</span><span class=p>.</span><span class=nx>bufferData</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>gl</span><span class=p>.</span><span class=nx>ARRAY_BUFFER</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=k>new</span> <span class=nx>Float32Array</span><span class=p>(</span><span class=nx>textureCoordinates</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>gl</span><span class=p>.</span><span class=nx>STATIC_DRAW</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><p>或者获取 Canvas 中的图像数据：</p><pre tabindex=0><code class=language-ks data-lang=ks>const uint8ClampedArray = ctx.getImageData(...).data;
</code></pre><p>ArrayBuffer 用于表示通用的、固定长度的二进制数据缓冲，我们并不能直接操作 ArrayBuffer 的内容；而是需要创建新的 Type Arrays 或者 DataView 对象，来获取固定格式的 ArrayBuffer 的值。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 字节长度为 8
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>buffer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ArrayBuffer</span><span class=p>(</span><span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Int32Array(2) [0, 0]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>view</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Int32Array</span><span class=p>(</span><span class=nx>buffer</span><span class=p>);</span>
</span></span></code></pre></div><p>SharedArrayBuffer 类似于 ArrayBuffer，不过其是基于共享内存，因此可以用于进程间通信的场景，譬如 UI 线程与 WebWorker 之间传递数据：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sab</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>SharedArrayBuffer</span><span class=p>(</span><span class=mi>1024</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>worker</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>sab</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=函数>函数</h1><h2 id=definition--定义>Definition | 定义</h2><p>基础的函数定义分为了函数表达式(Function Expression)与函数声明(Function Declaration)，函数表达式并不会被提升到作用域首部，而函数声明则会被提升：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Function Expression
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Function Declaration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>sum</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>JavaScript 默认不支持函数重载，但是就像 Redux 这样的库可以通过默认参数等方式实现重载的需求：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>createStore</span><span class=p>(</span><span class=nx>reducer</span><span class=p>,</span> <span class=nx>preloadedState</span><span class=p>,</span> <span class=nx>enhancer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>preloadedState</span> <span class=o>===</span> <span class=s2>&#34;function&#34;</span> <span class=o>&amp;&amp;</span> <span class=k>typeof</span> <span class=nx>enhancer</span> <span class=o>===</span> <span class=s2>&#34;undefined&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>enhancer</span> <span class=o>=</span> <span class=nx>preloadedState</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>preloadedState</span> <span class=o>=</span> <span class=kc>undefined</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=参数>参数</h2><p>ES6 中引入了所谓的默认参数:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 传统的默认参数编写方式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>filterEvil</span><span class=p>(</span><span class=nx>array</span><span class=p>,</span> <span class=nx>evil</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>evil</span> <span class=o>=</span> <span class=nx>evil</span> <span class=o>||</span> <span class=s2>&#34;darth vader&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>array</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>item</span> <span class=o>!==</span> <span class=nx>evil</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ES6 默认参数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>filterEvil</span><span class=p>(</span><span class=nx>array</span><span class=p>,</span> <span class=nx>evil</span> <span class=o>=</span> <span class=s2>&#34;darth vader&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>array</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>item</span> <span class=o>!==</span> <span class=nx>evil</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 默认参数可以用来进行必要参数检测
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>isRequired</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;param is required&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>filterEvil</span><span class=p>(</span><span class=nx>array</span><span class=p>,</span> <span class=nx>evil</span> <span class=o>=</span> <span class=nx>isRequired</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>array</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>item</span> <span class=o>!==</span> <span class=nx>evil</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=execution--执行>Execution | 执行</h2><p>可以使用 apply 来连接两个数组：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>countries</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;Moldova&#34;</span><span class=p>,</span> <span class=s2>&#34;Ukraine&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>otherCountries</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;USA&#34;</span><span class=p>,</span> <span class=s2>&#34;Japan&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>countries</span><span class=p>.</span><span class=nx>push</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>countries</span><span class=p>,</span> <span class=nx>otherCountries</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>countries</span><span class=p>);</span> <span class=c1>// =&gt; [&#39;Moldova&#39;, &#39;Ukraine&#39;, &#39;USA&#39;, &#39;Japan&#39;]
</span></span></span></code></pre></div><p>较为全面的 JavaScript 中函数调用方式列举如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nx>_</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>))();</span>
</span></span><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=s1>&#39;console.log(3);&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=p>[</span><span class=mi>5</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nb>Function</span><span class=p>(</span><span class=s1>&#39;console.log(6)&#39;</span><span class=p>)();</span>
</span></span><span class=line><span class=cl><span class=nx>Reflect</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=p>[</span><span class=mi>7</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nx>Reflect</span><span class=p>.</span><span class=nx>construct</span><span class=p>(</span><span class=kd>function</span><span class=p>(){</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>8</span><span class=p>)},</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl><span class=nb>Function</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>apply</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=p>[</span><span class=mi>9</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=nb>Function</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>call</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=p>(</span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;vm&#39;</span><span class=p>).</span><span class=nx>Script</span><span class=p>)(</span><span class=err>&#39;</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>11</span><span class=p>)</span><span class=err>‘</span><span class=p>).</span><span class=nx>runInThisContext</span><span class=p>();</span>
</span></span></code></pre></div><p>Throttling will delay executing a function. It will reduce the notifications of an event that fires multiple times.</p><p>Debouncing will bunch a series of sequential calls to a function into a single call to that function. It ensures that one notification is made for an event that fires multiple times.</p><h2 id=generator--iterator--生成器与迭代器>Generator & Iterator | 生成器与迭代器</h2><p>生成器是一种返回迭代器的函数，通过 function 关键字后的星号（*）来表示，函数中会用到新的关键字 yield。在 ES6 中，所有的集合对象（数组、Set 集合及 Map 集合）和字符串都是可迭代对象，可迭代对象都绑定了默认的迭代器。</p><p><code>yield</code> 与 <code>next</code> 在生成器中扮演者非常重要的角色，前者是操作符，后者则是生成器上的属性函数，二者满足如下特性：</p><ul><li>生成器的语句会在外部调用 <code>next</code> 函数时执行，即我们可以在生成器之外控制其内部操作的执行过程。</li><li>当生成器执行到 <code>yield</code> 操作符时会立即执行 <code>yield</code> 之后的语句并且暂停，语句的值作为上一步 <code>next</code> 函数的返回值，其是形如 <code>{done:false, value:x}</code> 的对象。</li><li>继续调用 <code>next</code> 函数会使生成器继续执行，此处 <code>next</code> 函数的参数值会作为整个 <code>yield</code> 语句的值；生成器继续执行直到再次遇到 <code>yield</code>，或是遇到 <code>return</code>/<code>throw</code> 生成器就退出。</li><li><code>next</code> 函数的返回值具有三种情况：<ul><li>如果再次遇到 <code>yield</code>，<code>next</code> 返回值中的 <code>value</code> 属性是紧接在这条 <code>yield</code> 之后的语句执行之后的返回值；</li><li>如果遇到的是 <code>return</code>，那么返回对象 <code>{done:true, value}</code> 则是 <code>return</code> 的返回值；</li><li>其他情况下，返回对象 <code>{done:false, value:undefined}</code> ;</li></ul></li></ul><p>我们可以通过简单的例子来验证上述流程描述：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>iter</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=o>*</span> <span class=nx>gen</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`yield </span><span class=si>${</span><span class=k>yield</span> <span class=s2>&#34;a&#34;</span> <span class=o>+</span> <span class=mi>0</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`yield </span><span class=si>${</span><span class=k>yield</span> <span class=s2>&#34;b&#34;</span> <span class=o>+</span> <span class=mi>1</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;c&#34;</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`next:</span><span class=si>${</span><span class=nx>iter</span><span class=p>.</span><span class=nx>next</span><span class=p>(</span><span class=mi>0</span><span class=p>).</span><span class=nx>value</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span> <span class=c1>//输出 next:a0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`next:</span><span class=si>${</span><span class=nx>iter</span><span class=p>.</span><span class=nx>next</span><span class=p>(</span><span class=mi>1</span><span class=p>).</span><span class=nx>value</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span> <span class=c1>//输出 yield 1 next:b1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`next:</span><span class=si>${</span><span class=nx>iter</span><span class=p>.</span><span class=nx>next</span><span class=p>(</span><span class=mi>2</span><span class=p>).</span><span class=nx>value</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span> <span class=c1>//输出 yield 2 next:c2
</span></span></span></code></pre></div><p>可迭代对象，都有一个 Symbol.iterator 方法，for-of 循环时，通过调用 colors 数组的 Symbol.iterator 方法来获取默认迭代器的，这一过程是在 JavaScript 引擎背后完成的。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>values</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>iterator</span> <span class=o>=</span> <span class=nx>values</span><span class=p>[</span><span class=nx>Symbol</span><span class=p>.</span><span class=nx>iterator</span><span class=p>]();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>iterator</span><span class=p>.</span><span class=nx>next</span><span class=p>());</span> <span class=c1>// &#34;{ value: 1, done: false}&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>iterator</span><span class=p>.</span><span class=nx>next</span><span class=p>());</span> <span class=c1>// &#34;{ value: 2, done: false}&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>iterator</span><span class=p>.</span><span class=nx>next</span><span class=p>());</span> <span class=c1>// &#34;{ value: 3, done: false}&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>iterator</span><span class=p>.</span><span class=nx>next</span><span class=p>());</span> <span class=c1>// &#34;{ value: undefined, done: true}&#34;
</span></span></span></code></pre></div><h1 id=类与对象>类与对象</h1><h2 id=object>Object</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>object</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `abc` is a valid identifier; no quotes are needed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>abc</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `123` is a numeric literal; no quotes are needed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=mi>123</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `012` is an octal literal with value `10` and thus isn’t allowed in strict mode; but if you insist on using it, quotes aren’t needed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=mi>012</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `π` is a valid identifier; no quotes are needed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>π</span><span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `let` is a valid identifier name (although it’s a reserved word); no quotes are needed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `foo bar` is not a valid identifier name; quotes are required
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;foo bar&#34;</span><span class=o>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// `foo-bar` is not a valid identifier name; quotes are required
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;foo-bar&#34;</span><span class=o>:</span> <span class=mi>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// the empty string is not a valid identifier name; quotes are required
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;&#34;</span><span class=o>:</span> <span class=mi>7</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><h3 id=对象创建>对象创建</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>o</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>prototype</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// foo 会成为所创建对象的数据属性
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>foo</span><span class=o>:</span> <span class=p>{</span> <span class=nx>writable</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nx>configurable</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nx>value</span><span class=o>:</span> <span class=s2>&#34;hello&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// bar 会成为所创建对象的访问器属性
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>bar</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>configurable</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>get</span><span class=o>:</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>set</span><span class=o>:</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Setting `o.bar` to&#34;</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h3 id=对象拷贝>对象拷贝</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>o1</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>a</span><span class=o>:</span> <span class=mi>1</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>o2</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>b</span><span class=o>:</span> <span class=mi>2</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>o3</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>c</span><span class=o>:</span> <span class=mi>3</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>obj</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>assign</span><span class=p>(</span><span class=nx>o1</span><span class=p>,</span> <span class=nx>o2</span><span class=p>,</span> <span class=nx>o3</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>obj</span><span class=p>);</span> <span class=c1>// { a: 1, b: 2, c: 3 }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>o1</span><span class=p>);</span> <span class=c1>// { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。
</span></span></span></code></pre></div><blockquote><p>📖 <a href>JavaScript 异步编程综述</a>节选自 <a href>JavaScript CheatSheet | 现代 JavaScript 语法速览与实战清单</a>，依次介绍了 JavaScript 异步编程相关的回调、Promise、生成器、async/await 等相关内容。</p></blockquote><h1 id=异步编程>异步编程</h1><p>异步函数语法在其他语言中存在已久，就像 C# 中的 async/await、Kotlin 中的 coroutines、Go 中的 goroutines；而随着 Node.js 8 的发布，async/await 语法也得到了原生支持而不再需要依赖于 Babel 等转化工具。</p><h2 id=callback--回调>Callback | 回调</h2><h2 id=promise>Promise</h2><h2 id=生成器>生成器</h2><p><a href=https://github.com/tj/co target=_blank rel=noopener>tj/co</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>co</span><span class=p>(</span><span class=kd>function</span><span class=o>*</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>result</span> <span class=o>=</span> <span class=k>yield</span> <span class=nb>Promise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=nx>then</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nx>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><h2 id=asyncawait>async/await</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Sleep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>timeout</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>=</span> <span class=nx>timeout</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>then</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>startTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>resolve</span><span class=p>(</span><span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=o>-</span> <span class=nx>startTime</span><span class=p>),</span> <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>actualTime</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>new</span> <span class=nx>Sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>actualTime</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>http</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;http&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>http</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>createServer</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>body</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>req</span><span class=p>.</span><span class=nx>setEncoding</span><span class=p>(</span><span class=s2>&#34;utf8&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=kr>await</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>chunk</span> <span class=k>of</span> <span class=nx>req</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>body</span> <span class=o>+=</span> <span class=nx>chunk</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=nx>body</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>statusCode</span> <span class=o>=</span> <span class=mi>500</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>1337</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=其他>其他</h1><h2 id=es6-module--模块>ES6 Module | 模块</h2><p>ES2015 Modules 中主要的关键字就是 <code>import</code> 与 <code>export</code>，前者负责导入模块而后者负责导出模块。完整的导出语法如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// default exports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=mi>42</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>foo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kr>class</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kr>class</span> <span class=nx>foo</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// letiables exports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>let</span> <span class=nx>foo</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>let</span> <span class=nx>foo</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>let</span> <span class=nx>bar</span><span class=p>;</span> <span class=c1>// lazy initialization
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>let</span> <span class=nx>foo</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>let</span> <span class=nx>bar</span><span class=p>;</span> <span class=c1>// lazy initialization
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>const</span> <span class=nx>foo</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>foo</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// named exports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span><span class=p>,</span> <span class=nx>bar</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=nx>bar</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=k>default</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=k>default</span><span class=p>,</span> <span class=nx>bar</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// exports from
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=o>*</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span><span class=p>,</span> <span class=nx>bar</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=nx>bar</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=k>default</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>foo</span> <span class=nx>as</span> <span class=k>default</span><span class=p>,</span> <span class=nx>bar</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=k>default</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=k>default</span> <span class=nx>as</span> <span class=nx>foo</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span></code></pre></div><p>相对应的完整的支持的导入方式如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// default imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>foo</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=k>default</span> <span class=nx>as</span> <span class=nx>foo</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// named imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span><span class=nx>bar</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>bar</span><span class=p>,</span> <span class=nx>baz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>bar</span> <span class=nx>as</span> <span class=nx>baz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>bar</span> <span class=nx>as</span> <span class=nx>baz</span><span class=p>,</span> <span class=nx>xyz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// glob imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=o>*</span> <span class=nx>as</span> <span class=nx>foo</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// mixing imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>foo</span><span class=p>,</span> <span class=p>{</span><span class=nx>baz</span> <span class=nx>as</span> <span class=nx>xyz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=o>*</span> <span class=nx>as</span> <span class=nx>bar</span><span class=p>,</span> <span class=p>{</span><span class=nx>baz</span> <span class=nx>as</span> <span class=nx>xyz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>foo</span><span class=p>,</span> <span class=o>*</span> <span class=nx>as</span> <span class=nx>bar</span><span class=p>,</span> <span class=p>{</span><span class=nx>baz</span> <span class=nx>as</span> <span class=nx>xyz</span><span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>
</span></span></code></pre></div><h2 id=error-handling--异常处理>Error Handling | 异常处理</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>hello</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;Type hello&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>hello</span> <span class=o>!==</span> <span class=s2>&#34;hello&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Oops, you didn&#39;t type hello&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>finally</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;thanks for playing!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=wtf>WTF</h1><pre tabindex=0><code>// 0[object Object]1
{} + [] + {} + [1]

// NaN[object Object]
{} + [1,2] + {} + []
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// false，等式两侧存在 NaN，则为 false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kc>NaN</span> <span class=o>==</span> <span class=kc>NaN</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 先进行 Bool 操作转化为 false，然后两侧都变为数字 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[]</span> <span class=o>==</span> <span class=o>!</span><span class=p>[]</span>
</span></span></code></pre></div></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/awesome-cheatsheets/language/zoo/javascript/dart-cheatsheet/ rel=next>Dart-CheatSheet</a></div><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet-en/ rel=prev>JavaScript-CheatSheet-en</a></div></div></div><div class=body-footer><p>最近更新于 2023-03-05</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte-website.oss-accelerate.aliyuncs.com/disqus/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte-website.oss-accelerate.aliyuncs.com/disqus/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>