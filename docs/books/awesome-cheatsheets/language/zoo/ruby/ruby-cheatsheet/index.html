<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Ruby CheatSheet 数据结构 变量 类型判断 >> s = &#34;something&#34; => &#34;something&#34; >> s.kind_of?(Array) => false >> s = [&#34;something&#34;, &#34;else&#34;] => [&#34;something&#34;, &#34;else&#34;] >> s.kind_of?(Array) => true 类与对象 成员变量(Variable) Class Variable Instance Variable 常用操作(Common APIs) IO File Read def read_from_file(file_name) # read file and get content as list file_list = [] file = File.open(file_name) file.each { |line| if (line != &#34;\n&#34;) file_list << line.chomp end } return"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/ruby/ruby-cheatsheet/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/ruby/ruby-cheatsheet/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/awesome-cheatsheets/language/zoo/ruby/ruby-cheatsheet/"><meta property="og:title" content="Ruby-CheatSheet | Next-gen Tech Edu"><meta property="og:description" content="Ruby CheatSheet 数据结构 变量 类型判断 >> s = &#34;something&#34; => &#34;something&#34; >> s.kind_of?(Array) => false >> s = [&#34;something&#34;, &#34;else&#34;] => [&#34;something&#34;, &#34;else&#34;] >> s.kind_of?(Array) => true 类与对象 成员变量(Variable) Class Variable Instance Variable 常用操作(Common APIs) IO File Read def read_from_file(file_name) # read file and get content as list file_list = [] file = File.open(file_name) file.each { |line| if (line != &#34;\n&#34;) file_list << line.chomp end } return"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><meta property="article:modified_time" content="2023-03-05T15:38:23+08:00"><title>Ruby-CheatSheet | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=80df22f5e62a8c356e9064b8a4f0561d><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Ruby</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idff7d7aca72ea4a09a65a4f97f3813816")' href=#idff7d7aca72ea4a09a65a4f97f3813816 aria-expanded=false aria-controls=idff7d7aca72ea4a09a65a4f97f3813816 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/>Zoo</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idff7d7aca72ea4a09a65a4f97f3813816 aria-expanded=false aria-controls=idff7d7aca72ea4a09a65a4f97f3813816><i class="fa-solid fa-angle-down" id=caret-idff7d7aca72ea4a09a65a4f97f3813816></i></a></div><ul class="nav docs-sidenav collapse show" id=idff7d7aca72ea4a09a65a4f97f3813816><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id146ad16b1ca7a2a10910e3ebdfe17938")' href=#id146ad16b1ca7a2a10910e3ebdfe17938 aria-expanded=false aria-controls=id146ad16b1ca7a2a10910e3ebdfe17938 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/c/>C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id146ad16b1ca7a2a10910e3ebdfe17938 aria-expanded=false aria-controls=id146ad16b1ca7a2a10910e3ebdfe17938><i class="fa-solid fa-angle-right" id=caret-id146ad16b1ca7a2a10910e3ebdfe17938></i></a></div><ul class="nav docs-sidenav collapse" id=id146ad16b1ca7a2a10910e3ebdfe17938><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/c/cpp-cheatsheet/>CPP-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/c/morten-cpp-cheatsheet/>Morten-CPP-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbb491fd92ce43c9bb4f44a8fd3289f94")' href=#idbb491fd92ce43c9bb4f44a8fd3289f94 aria-expanded=false aria-controls=idbb491fd92ce43c9bb4f44a8fd3289f94 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/go/>Go</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbb491fd92ce43c9bb4f44a8fd3289f94 aria-expanded=false aria-controls=idbb491fd92ce43c9bb4f44a8fd3289f94><i class="fa-solid fa-angle-right" id=caret-idbb491fd92ce43c9bb4f44a8fd3289f94></i></a></div><ul class="nav docs-sidenav collapse" id=idbb491fd92ce43c9bb4f44a8fd3289f94><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/go/go-cheatsheet/>Go-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/go/go-concurrentprogramming-cheatsheet/>Go-ConcurrentProgramming-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id726be5e823a78c8c7cf54077d88dea93")' href=#id726be5e823a78c8c7cf54077d88dea93 aria-expanded=false aria-controls=id726be5e823a78c8c7cf54077d88dea93 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/java/>Java</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id726be5e823a78c8c7cf54077d88dea93 aria-expanded=false aria-controls=id726be5e823a78c8c7cf54077d88dea93><i class="fa-solid fa-angle-right" id=caret-id726be5e823a78c8c7cf54077d88dea93></i></a></div><ul class="nav docs-sidenav collapse" id=id726be5e823a78c8c7cf54077d88dea93><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/gradle-cheatsheet/>Gradle-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-cheatsheet/>Java-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-concurrentprogramming-cheatsheet/>Java-ConcurrentProgramming-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/java-styleguide-cheatsheet/>Java-StyleGuide-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/java/jvm-tuning-cheatsheet/>JVM-Tuning-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb1111a54c2fccd66ef7284ceb9cf85a4")' href=#idb1111a54c2fccd66ef7284ceb9cf85a4 aria-expanded=false aria-controls=idb1111a54c2fccd66ef7284ceb9cf85a4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/javascript/>JavaScript</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb1111a54c2fccd66ef7284ceb9cf85a4 aria-expanded=false aria-controls=idb1111a54c2fccd66ef7284ceb9cf85a4><i class="fa-solid fa-angle-right" id=caret-idb1111a54c2fccd66ef7284ceb9cf85a4></i></a></div><ul class="nav docs-sidenav collapse" id=idb1111a54c2fccd66ef7284ceb9cf85a4><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/dart-cheatsheet/>Dart-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet/>JavaScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/javascript-cheatsheet-en/>JavaScript-CheatSheet-en</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/typescript-cheatsheet/>TypeScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/javascript/v8-cheatsheet/>V8-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide845c45237049459862112286be20750")' href=#ide845c45237049459862112286be20750 aria-expanded=false aria-controls=ide845c45237049459862112286be20750 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/python/>Python</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide845c45237049459862112286be20750 aria-expanded=false aria-controls=ide845c45237049459862112286be20750><i class="fa-solid fa-angle-right" id=caret-ide845c45237049459862112286be20750></i></a></div><ul class="nav docs-sidenav collapse" id=ide845c45237049459862112286be20750><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/python/python-cheatsheet/>Python-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8f16262a9e5aae6fa58b2410a606ee5f")' href=#id8f16262a9e5aae6fa58b2410a606ee5f aria-expanded=false aria-controls=id8f16262a9e5aae6fa58b2410a606ee5f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/ruby/>Ruby</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8f16262a9e5aae6fa58b2410a606ee5f aria-expanded=false aria-controls=id8f16262a9e5aae6fa58b2410a606ee5f><i class="fa-solid fa-angle-down" id=caret-id8f16262a9e5aae6fa58b2410a606ee5f></i></a></div><ul class="nav docs-sidenav collapse show" id=id8f16262a9e5aae6fa58b2410a606ee5f><li class="child level active"><a href=/books/awesome-cheatsheets/language/zoo/ruby/ruby-cheatsheet/>Ruby-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1ff356fda035dd1a0f899a872e6d4758")' href=#id1ff356fda035dd1a0f899a872e6d4758 aria-expanded=false aria-controls=id1ff356fda035dd1a0f899a872e6d4758 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/rust/>Rust</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1ff356fda035dd1a0f899a872e6d4758 aria-expanded=false aria-controls=id1ff356fda035dd1a0f899a872e6d4758><i class="fa-solid fa-angle-right" id=caret-id1ff356fda035dd1a0f899a872e6d4758></i></a></div><ul class="nav docs-sidenav collapse" id=id1ff356fda035dd1a0f899a872e6d4758><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/rust/rust-cheatsheet/>Rust-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id19617781a15c41a12aead38291689824")' href=#id19617781a15c41a12aead38291689824 aria-expanded=false aria-controls=id19617781a15c41a12aead38291689824 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/language/zoo/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id19617781a15c41a12aead38291689824 aria-expanded=false aria-controls=id19617781a15c41a12aead38291689824><i class="fa-solid fa-angle-right" id=caret-id19617781a15c41a12aead38291689824></i></a></div><ul class="nav docs-sidenav collapse" id=id19617781a15c41a12aead38291689824><li class="child level"><a href=/books/awesome-cheatsheets/language/zoo/swift/swift-cheatsheet/>Swift-CheatSheet</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#变量>变量</a><ul><li><a href=#类型判断>类型判断</a></li></ul></li></ul><ul><li><a href=#成员变量variable>成员变量(Variable)</a><ul><li><a href=#class-variable>Class Variable</a></li><li><a href=#instance-variable>Instance Variable</a></li></ul></li></ul><ul><li><a href=#io>IO</a><ul><li><a href=#file>File</a></li></ul></li></ul><ul><li><a href=#unittest>UnitTest</a></li><li><a href=#specs>Specs</a></li><li><a href=#benchmarks>Benchmarks</a></li></ul><ul><li><a href=#quick-start>Quick Start</a></li><li><a href=#synatx>Synatx</a><ul><li><a href=#定义器>定义器</a></li><li><a href=#修饰器>修饰器</a></li></ul></li><li><a href=#mocks>Mocks</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Ruby-CheatSheet</h1><div class=article-style><h1 id=ruby-cheatsheet>Ruby CheatSheet</h1><h1 id=数据结构>数据结构</h1><h2 id=变量>变量</h2><h3 id=类型判断>类型判断</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;something&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;something&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>s</span><span class=o>.</span><span class=n>kind_of?</span><span class=p>(</span><span class=nb>Array</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>s</span> <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;something&#34;</span><span class=p>,</span> <span class=s2>&#34;else&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=o>[</span><span class=s2>&#34;something&#34;</span><span class=p>,</span> <span class=s2>&#34;else&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>s</span><span class=o>.</span><span class=n>kind_of?</span><span class=p>(</span><span class=nb>Array</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>true</span>
</span></span></code></pre></div><h1 id=类与对象>类与对象</h1><h2 id=成员变量variable>成员变量(Variable)</h2><h3 id=class-variable>Class Variable</h3><h3 id=instance-variable>Instance Variable</h3><h1 id=常用操作common-apis>常用操作(Common APIs)</h1><h2 id=io>IO</h2><h3 id=file>File</h3><h4 id=read>Read</h4><pre tabindex=0><code>def read_from_file(file_name)
  # read file and get content as list
  file_list = []
  file = File.open(file_name)
  file.each {
      |line|
    if (line != &#34;\n&#34;)
      file_list &lt;&lt; line.chomp
    end
  }
  return file_list
end
</code></pre><p>Introduce
程序块代码文件编码</p><h1 id=encoding-utf-8>encoding: UTF-8</h1><p>QuickStart
Installer
Ubuntu</p><ol><li>首先在使用 apt-get 之前，必须先 update 一下，否则有些库是安装不上的。
[plain] view plaincopyprint?</li><li>$ sudo apt-get update
$ sudo apt-get update
[plain] view plaincopyprint?</li><li>$ sudo apt-get install -y build-essential openssl curl libcurl3-dev libreadline6 libreadline6-dev git zlib1g zlib1g-dev libssl-dev libyaml-dev libxml2-dev libxslt-dev autoconf automake libtool imagemagick libmagickwand-dev libpcre3-dev libsqlite3-dev libmysql-ruby libmysqlclient-dev
$ sudo apt-get install -y build-essential openssl curl libcurl3-dev libreadline6 libreadline6-dev git zlib1g zlib1g-dev libssl-dev libyaml-dev libxml2-dev libxslt-dev autoconf automake libtool imagemagick libmagickwand-dev libpcre3-dev libsqlite3-dev libmysql-ruby libmysqlclient-dev
 2. 安装 RVM
[html] view plaincopyprint?</li><li>$ curl -L <a href=https://get.rvm.io target=_blank rel=noopener>https://get.rvm.io</a> | bash -s stable
$ curl -L <a href=https://get.rvm.io target=_blank rel=noopener>https://get.rvm.io</a> | bash -s stable
  下面这步是不行的，要 logout 再次登录
[plain] view plaincopyprint?</li><li>$ source ~/.rvm/scripts/rvm
$ source ~/.rvm/scripts/rvm
然后就安装好 rvm 了
[plain] view plaincopyprint?</li><li>$ rvm -v</li><li>rvm install 2.2.1</li><li>$ gem source -r <a href=https://rubygems.org/ target=_blank rel=noopener>https://rubygems.org/</a></li><li>$ gem source -a <a href=http://ruby.taobao.org target=_blank rel=noopener>http://ruby.taobao.org</a></li></ol><p>数据结构变量
Ruby 中常用的内置的变量对象种类有：对象类
数值
Numeric
字符串
String
数组
Array
哈希
Hash
正则表达式
Regex
文件
File
符号
Symbol</p><p>命名
Ruby 中常用的变量类型有：局部变量：以英文字母或者_开头全局变量：以$开头实例变量：以@开头类变量：以@@开头赋值常量保留字类型判断基本数据类型空值
String
长度
array.size
names = [1,2,3,4,5]
p names.size
空判断</p><p>创建增删
.连接
.删除</p><p>指定字符删除
str.delete([other_str]+) => new_str
&ldquo;hello&rdquo;.delete &ldquo;l&rdquo;,&ldquo;lo&rdquo; #=> &ldquo;heo&rdquo;
&ldquo;hello&rdquo;.delete &ldquo;lo&rdquo; #=> &ldquo;he&rdquo;
&ldquo;hello&rdquo;.delete &ldquo;aeiou&rdquo;, &ldquo;^e&rdquo; #=> &ldquo;hell&rdquo;
&ldquo;hello&rdquo;.delete &ldquo;ej-m&rdquo; #=> &ldquo;ho&rdquo;
指定下标删除
str(1..2) = ""
空白字符删除
str.lstrip => new_str
" hello &ldquo;.lstrip #=> &ldquo;hello &ldquo;、
&ldquo;hello&rdquo;.lstrip #=> &ldquo;hello&rdquo;
&ldquo;hello&rdquo;.chomp #=> &ldquo;hello&rdquo;
&ldquo;hello\n&rdquo;.chomp #=> &ldquo;hello&rdquo;
&ldquo;hello\r\n&rdquo;.chomp #=> &ldquo;hello&rdquo;
&ldquo;hello\n\r&rdquo;.chomp #=> &ldquo;hello\n&rdquo;
&ldquo;hello\r&rdquo;.chomp #=> &ldquo;hello&rdquo;
&ldquo;hello&rdquo;.chomp(&ldquo;llo&rdquo;) #=> &ldquo;he&rdquo;
&ldquo;string\r\n&rdquo;.chop #=> &ldquo;string&rdquo;
&ldquo;string\n\r&rdquo;.chop #=> &ldquo;string\n&rdquo;
&ldquo;string\n&rdquo;.chop #=> &ldquo;string&rdquo;
&ldquo;string&rdquo;.chop #=> &ldquo;strin&rdquo;</p><p>索引遍历
.匹配匹配判断
/模式/ =~ 希望匹配的字符串存在则返回匹配部分的位置，否则返回 nil。匹配查找
.截取下标截取
s = &ldquo;hello"s[2..3] # &ldquo;ll&rdquo;: 位于索引 2 到 3 的字符 s[-3..-1] # &ldquo;llo&rdquo;: 负数索引页可以使用 s[0..0] # &ldquo;h&rdquo;: Range 只包含一个字符 s[0&mldr;0] # &ldquo;&rdquo;: 空的 Range 对象 s[2..1] # &ldquo;&rdquo;: 这也是空的 Ranges[7..10] # nil: 这个 Range 超出了索引范围，所以返回 nils[-2..-1] = &ldquo;p!&rdquo; # 替换值，现在 s==&ldquo;help!&ldquo;s[0&mldr;0] = &ldquo;Please " # 在起始位置插入新值，现在 s== &ldquo;Please help!&ldquo;s[6..10] = "&rdquo; # 删除值，现在 s== &ldquo;Please!&rdquo;</p><p>统计操作其他操作字符串反转
str.reverse => new_str"stressed&rdquo;.reverse<br>#=> &ldquo;desserts&rdquo;</p><p>Array
长度
array.size
names = [1,2,3,4,5]
p names.size
空判断</p><p>创建增删
.1 创建数组的创建方式可以有：(1)赋值创建
names = [] 或者 names = [“I”,”Love”,”Ruby”]
类初始化拷贝创建</p><p>.2 添加
a = [1,2,3,4]
a &#171; 5 # [1,2,3,4,5]
a &#171; <a href=C:%5cwamp%5cwww%5cmd-repo%5c1429896390839.jpg title=1429896390839.jpg>5</a> #[1,2,3,4,<a href=C:%5cwamp%5cwww%5cmd-repo%5c1429896390839.jpg title=1429896390839.jpg>5</a>]
a.concat(<a href=C:%5cwamp%5cwww%5cmd-repo%5c1429896390839.jpg title=1429896390839.jpg>5</a>) #[1,2,3,4,5]
.3 删除
Array.compact!
删除 nil 元素</p><p>delete 删除元素，如果元素重复，全部删除 a = [ &ldquo;a&rdquo;, &ldquo;b&rdquo;, &ldquo;b&rdquo;, &ldquo;b&rdquo;, &ldquo;c&rdquo; ]
a.delete(&ldquo;b&rdquo;)
puts a => [&ldquo;a&rdquo;,&ldquo;c&rdquo;]
delete_at</p><p>删除 pos 所指位置的元素并返回它。若 pos 超出数</p><p>组范围则返回 nil a = %w( ant bat cat dog )
a.delete_at(2) ? &ldquo;cat&rdquo;
a=> [&ldquo;ant&rdquo;, &ldquo;bat&rdquo;, &ldquo;dog&rdquo;]</p><p>a.delete_at(99) => nil
delete_if 根据条件删除 a = [ &ldquo;a&rdquo;, &ldquo;b&rdquo;, &ldquo;c&rdquo; ]
a.delete_if {|x| x >= &ldquo;b&rdquo; } => [&ldquo;a&rdquo;]</p><p>栈列操作
索引遍历
.1 索引下标索引存在性判断索引反查
.2 遍历变量遍历索引遍历迭代器遍历数组.each do |变量|
希望循环的处理
end
Or
数组.each {
|变量|
希望循环的处理
}
.3 匹配
.4 截取统计操作
.1 排序
.2 筛选
.3 去重</p><ol><li>arr = [1,1,2,3]
b = arr & arr
b => [1,2,3]</li><li>arr = [1,1,2,3]
b = arr.uniq
b => [1,2,3]</li></ol><p>Hash
Hash 即是其他语言中常见的字典类型。长度
h.size
h.length</p><p>空判断
h.empty?</p><p>创建增删</p><p>索引遍历
.1 索引判断键值是否存在。
h.key?(key)</p><p>h.has_key?(key)</p><p>h.include?(key)</p><p>h.member?(key)</p><p>.2 遍历变量遍历索引遍历迭代器遍历
hash.each{|key,value| doSomething}
Others
TimeDate
流程控制运算符条件判断循环
for
下标索引遍历：
for i in from..to do #do 可以省略
doSomething
end
迭代器
class TrafficLight<br>include Enumerable
end
each
select</p><blockquote><blockquote><p>[1,2,3,4,5].select { |i| i > 3 }
=> [4,5]
reject
函数</p></blockquote></blockquote><p>序列操作
map/reduce
(1..5).reduce { |sum,num| sum = sum * num }
Modules
Ruby 中要引用一个第三方文件作为库，可以使用 require 关键字，即：
require 希望使用的库名注意，在 require 的引用中可以省略.rb 这个后缀名</p><p>Class&Object
方法类别
Ruby 在调用方法时可以省略()。类方法(Instance Method)实例方法(Instance Method)异常处理
Common APIs
IO
Console
Output
print
print “Hello, Ruby!”
puts
末尾一定会带有换行。
p
对于字符串或者数值类型会有不同的输出表示。
Math
Regexp</p><h1 id=minitest>MiniTest</h1><ul><li><a href=https://github.com/seattlerb/minitest target=_blank rel=noopener>Github 上 MiniTest 的主页</a></li></ul><h2 id=unittest>UnitTest</h2><ul><li>待测试类</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=k>class</span> <span class=nc>Meme</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>i_can_has_cheezburger?</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;OHAI!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>will_it_blend?</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;YES!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>测试类</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=nb>require</span> <span class=s2>&#34;minitest/autorun&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TestMeme</span> <span class=o>&lt;</span> <span class=no>Minitest</span><span class=o>::</span><span class=no>Test</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>setup</span>
</span></span><span class=line><span class=cl>    <span class=vi>@meme</span> <span class=o>=</span> <span class=no>Meme</span><span class=o>.</span><span class=n>new</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>test_that_kitty_can_eat</span>
</span></span><span class=line><span class=cl>    <span class=n>assert_equal</span> <span class=s2>&#34;OHAI!&#34;</span><span class=p>,</span> <span class=vi>@meme</span><span class=o>.</span><span class=n>i_can_has_cheezburger?</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>test_that_it_will_not_blend</span>
</span></span><span class=line><span class=cl>    <span class=n>refute_match</span> <span class=sr>/^no/i</span><span class=p>,</span> <span class=vi>@meme</span><span class=o>.</span><span class=n>will_it_blend?</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>test_that_will_be_skipped</span>
</span></span><span class=line><span class=cl>    <span class=n>skip</span> <span class=s2>&#34;test this later&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>运行测试直接运行 <code>ruby people_test.rb</code>即可得到结果</li></ul><pre tabindex=0><code>Run options: --seed 10922
# Running:
.
Finished in 0.001302s, 768.0492 runs/s, 768.0492 assertions/s.

1 runs, 1 assertions, 0 failures, 0 errors, 0 skips
</code></pre><h2 id=specs>Specs</h2><pre tabindex=0><code>require &#34;minitest/autorun&#34;

describe Meme do
  before do
    @meme = Meme.new
  end

  describe &#34;when asked about cheeseburgers&#34; do
    it &#34;must respond positively&#34; do
      @meme.i_can_has_cheezburger?.must_equal &#34;OHAI!&#34;
    end
  end

  describe &#34;when asked about blending possibilities&#34; do
    it &#34;won&#39;t say no&#34; do
      @meme.will_it_blend?.wont_match /^no/i
    end
  end
end
</code></pre><h2 id=benchmarks>Benchmarks</h2><ul><li>添加到 UnitTest 中</li></ul><pre tabindex=0><code># optionally run benchmarks, good for CI-only work!
require &#34;minitest/benchmark&#34; if ENV[&#34;BENCH&#34;]

class TestMeme &lt; Minitest::Benchmark
  # Override self.bench_range or default range is [1, 10, 100, 1_000, 10_000]
  def bench_my_algorithm
    assert_performance_linear 0.9999 do |n| # n is a range value
      @obj.my_algorithm(n)
    end
  end
end
</code></pre><ul><li>添加到 Specs 中</li></ul><pre tabindex=0><code>describe &#34;Meme Benchmark&#34; do
  if ENV[&#34;BENCH&#34;] then
    bench_performance_linear &#34;my_algorithm&#34;, 0.9999 do |n|
      100.times do
        @obj.my_algorithm(n)
      end
    end
  end
end
</code></pre><h1 id=rspec>RSpec</h1><ul><li><a href=http://www.jianshu.com/p/1db9ee327357 target=_blank rel=noopener>rspec 入门教程</a></li></ul><h2 id=quick-start>Quick Start</h2><p>In the project directory of the Ruby project that we have just created, create a Gemfile with the following content:</p><pre tabindex=0><code>source &#39;https://rubygems.org&#39;
gem &#39;rspec&#39;, :require =&gt; false, :group =&gt; :test
</code></pre><p>Next, create a folder named spec and a new file named <code>spec_helper.rb</code>. Add the following into <code>spec_helper.rb</code>:</p><pre tabindex=0><code>require_relative &#39;../string_ops&#39;
</code></pre><p>Ideally, we will have one spec file per Ruby class, all of the spec files will reside in this spec folder, and each of them will have require &lsquo;spec_helper&rsquo; in their first line.In our case, we want to write some tests for the StringOps Ruby class, we do this by first creating the file string_ops_spec.rb in the spec folder and add the following into the file:</p><pre tabindex=0><code>require &#39;spec_helper&#39;

describe StringOps do
  string_ops = StringOps.new
  input_string = &#34;To see a World in a Grain of Sand, And a Heaven in a Wild Flower, Hold Infinity in the palm of your hand, And Eternity in an hour.&#34;

  describe &#34;#to_upper&#34; do
    it &#34;returns upper case for input_string&#34; do
      expected_string = &#34;TO SEE A WORLD IN A GRAIN OF SAND, AND A HEAVEN IN A WILD FLOWER, HOLD INFINITY IN THE PALM OF YOUR HAND, AND ETERNITY IN AN HOUR.&#34;
      expect(string_ops.to_upper(input_string)).to eq(expected_string)
    end
  end

  describe &#34;#to_lower&#34; do
    it &#34;returns lower case for input_string&#34; do
      expected_string = &#34;to see a world in a grain of sand, and a heaven in a wild flower, hold infinity in the palm of your hand, and eternity in an hour.&#34;
      expect(string_ops.to_lower(input_string)).to eq(expected_string)
    end
  end
end
</code></pre><blockquote><p><code>expect(string_ops.to_upper(input_string)).to eq(expected_string)</code>这是 rspec 内置的匹配器。<a href=http://www.rubydoc.info/gems/rspec-expectations/frames target=_blank rel=noopener>这里是关于匹配器的列表</a></p></blockquote><p>在配置完 rspec 之后，回退到项目的根目录然后可以使用<code>rspec spec</code>命令来进行 rspec 的测试。</p><pre tabindex=0><code>$ rspec spec
..
Finished in 0.00109 seconds (files took 0.09191 seconds to load)
2 examples, 0 failures
</code></pre><p>上述命令会显示出总的测试数目与失败的测试的数目。也可以用&ndash;format 参数指定不同的输出格式，譬如：</p><pre tabindex=0><code>$ rspec spec --format documentation

StringOps
  #toUpper
    returns upper case of input string
  #toLower
    returns lower case of input string

Finished in 0.00111 seconds (files took 0.08931 seconds to load)
2 examples, 0 failures
</code></pre><h2 id=synatx>Synatx</h2><h3 id=定义器>定义器</h3><p>再 RSpec 中，用 describe、context 与 it 结合使用的方式来定义一个测试用例。</p><ul><li>describe
我们用 describe()方法定义一个测试用例组，describe()方法的参数可以是我们要测试的对象(如例中的 People)，可以是一个字符串，用来描述该组，describe 方法后的字符串所描述的内容可以对应一个用户故事。注意 describe()方法是可以嵌套的，两个 describe()方法衔接起来可以更细化一个用户故事，如上边的里面的 describe()方法内就表示：”People have enough money pay for house”。</li><li>context
context 与 describe 都可以用于描述一个用户的故事，但是 describe 往往用于描述只执行一次的情况，而 context 用于描述可能存在多种情况的故事。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>describe</span> <span class=s2>&#34;launch the rocket&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=n>before</span><span class=p>(</span><span class=ss>:each</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=c1>#prepare a rocket for all of the tests</span>
</span></span><span class=line><span class=cl>    <span class=vi>@rocket</span> <span class=o>=</span> <span class=no>Rocket</span><span class=o>.</span><span class=n>new</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>context</span> <span class=s2>&#34;all ready&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>before</span><span class=p>(</span><span class=ss>:each</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>      <span class=c1>#under the state of ready</span>
</span></span><span class=line><span class=cl>      <span class=vi>@rocket</span><span class=o>.</span><span class=n>ready</span> <span class=o>=</span> <span class=kp>true</span>
</span></span><span class=line><span class=cl>    <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>it</span> <span class=s2>&#34;launch the rocket&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>      <span class=vi>@rocket</span><span class=o>.</span><span class=n>launch</span><span class=p>()</span><span class=o>.</span><span class=n>should</span> <span class=n>be_true</span>
</span></span><span class=line><span class=cl>    <span class=k>end</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>context</span> <span class=s2>&#34;not ready&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>before</span><span class=p>(</span><span class=ss>:each</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>      <span class=c1>#under the state of NOT ready</span>
</span></span><span class=line><span class=cl>      <span class=vi>@rocket</span><span class=o>.</span><span class=n>ready</span> <span class=o>=</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl>    <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>it</span> <span class=s2>&#34;does not launch the rocket&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>      <span class=vi>@rocket</span><span class=o>.</span><span class=n>launch</span><span class=p>()</span><span class=o>.</span><span class=n>should</span> <span class=n>be_false</span>
</span></span><span class=line><span class=cl>    <span class=k>end</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>it
我们用 it()方法定义一个具体的测试用例(在 RSpec 中，称一个测试用例为一个 example)。其后的字符串为该方法的参数，用来描述一个具体的场景，it 方法体就是我们对系统在该场景下的行为的定义。It()方法和 describe()方法衔接起来，可以完整的描述一个系统行为，以上边的最后的一个测试用例为：”People have enough money pay for house should travel ”。</li></ul><h3 id=修饰器>修饰器</h3><p>这两个方法很多测试框架都支持，需要说明的是这两个方法的参数，例子中为符号’:each’，表明对于每一个测试用例，先执行 before()方法中的代码，用例完成后执行 after()方法中的代码，若参数为’:all’，则表示在所有的测试用例执行之前，先执行 before()方法中的代码，所有的用例完成后执行 after()方法中的代码。
RSpec 还提供 around()方法，暂不懂其用法，之后的报告中补上。帮助方法：所谓的帮助方法就是把多个测试用例中重复的操作抽出作为一个公用的方法，提高代码重用度。如例子中的 work_hard()方法。共享行为：系统的某一个行为是很多场景下都具有的，那么我们可以把它定义为一个共享行为，我们通过 share_examples_for()方法 定义共享行为，使用 it_behaves_like()方法共享定义过的系统行为，如例子中的 share_examples_for “any people”，it_behaves_like “any people”。</p><h2 id=mocks>Mocks</h2><p>rspec 中另一个比较好的特性即是内置的 mock 特性，<a href=https://github.com/rspec/rspec-mocks target=_blank rel=noopener>rspec-mocks 主页</a>可以通过添加如下代码到 string_ops_spec.rb 文件中实现：
Stub - fake implementation of a method
Mock - fake implementation of an object
Double - a newer term to represent an object that stands in for another object</p><pre tabindex=0><code>context &#34;mock response&#34; do
  it &#34;mocks the response from to_upper&#34; do
    mocked_response = &#34;This is a mocked to_upper response.&#34;
    mocked_string_ops = double(&#34;mocked_string_ops&#34;)
    allow(mocked_string_ops).to receive(:to_upper).and_return(mocked_response)
    expect(mocked_string_ops.to_upper(&#34;any string&#34;)).to eq(mocked_response)
  end
end
</code></pre><p>他会模拟调用，结果如下：</p><pre tabindex=0><code>$ rspec spec --format documentation

StringOps
  #toUpper
    returns upper case of input string
  #toLower
    returns lower case of input string
  mock response
    mocks the response from toUpper

Finished in 0.00559 seconds (files took 0.09207 seconds to load)
3 examples, 0 failures
</code></pre><h1 id=simplecov>SimpleCov</h1><p>Right, we have rspec as the testing tool in Ruby, so far so good, next, let’s look briefly into the code coverage analysis tool SimpleCov in Ruby.</p><p>To get started, include SimpleCov into the Gemfile.</p><pre tabindex=0><code>source &#39;https://rubygems.org&#39;

gem &#39;rspec&#39;, :require =&gt; false, :group =&gt; :test
gem &#39;simplecov&#39;, :require =&gt; false, :group =&gt; :test
</code></pre><p>Then, load and launch SimpleCov at the beginning of the spec/spec_helper.rb file:</p><pre tabindex=0><code>require &#39;simplecov&#39;
SimpleCov.start
require_relative &#39;../string_ops&#39;
</code></pre><p>Make sure that it’s added to the very beginning of the file before any of your application code is required, otherwise SimpleCov won’t be able to track the files and their coverage.</p><p>Next, run rspec like we normally would and that’s it, we have a coverage report generated,</p><pre tabindex=0><code>$ rspec spec
...

Finished in 0.00556 seconds (files took 0.11402 seconds to load)
3 examples, 0 failures
Coverage report generated for RSpec to /a/b/c/project_dir/coverage. 6 / 7 LOC (85.71%) covered.
</code></pre><p>Notice the last line of the output says that the coverage report is generated, we can now open coverage/index.html in a browser to view it.<figure id=figure-1429896390839jpg><div class="d-flex justify-content-center"><div class=w-100><img src=C:%5cwamp%5cwww%5cmd-repo%5c1429896390839.jpg alt="enter description here" loading=lazy data-zoomable></div></div><figcaption>1429896390839.jpg</figcaption></figure>We can see that there’s 85.71% of code coverage on string_ops.rb, if you click on the link, you will see the lines that were missed in the tests.<figure id=figure-1429896405807jpg><div class="d-flex justify-content-center"><div class=w-100><img src=C:%5cwamp%5cwww%5cmd-repo/1429896405807.jpg alt="enter description here" loading=lazy data-zoomable></div></div><figcaption>1429896405807.jpg</figcaption></figure></p></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 2023-03-05</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>