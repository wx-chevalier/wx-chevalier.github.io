<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Rust CheatSheet 是对于 Rust 学习/实践过程中的语法与技巧进行盘点，其属于 Awesome CheatSheet 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料。本文参考了许多优秀的文章与代码示范，统一声明在了"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/awesome-cheatsheets/01.cs/language/rust/rust-cheatsheet/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/awesome-cheatsheets/01.cs/language/rust/rust-cheatsheet/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/awesome-cheatsheets/01.cs/language/rust/rust-cheatsheet/"><meta property="og:title" content="Rust-CheatSheet | Next-gen Tech Edu"><meta property="og:description" content="Rust CheatSheet 是对于 Rust 学习/实践过程中的语法与技巧进行盘点，其属于 Awesome CheatSheet 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料。本文参考了许多优秀的文章与代码示范，统一声明在了"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>Rust-CheatSheet | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=b9b9005129202e5a6d2dde8e5a2f84bd><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Rust</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id23a56d94f24f6140899ecb177f197063")' href=#id23a56d94f24f6140899ecb177f197063 aria-expanded=false aria-controls=id23a56d94f24f6140899ecb177f197063 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/>Language</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id23a56d94f24f6140899ecb177f197063 aria-expanded=false aria-controls=id23a56d94f24f6140899ecb177f197063><i class="fa-solid fa-angle-down" id=caret-id23a56d94f24f6140899ecb177f197063></i></a></div><ul class="nav docs-sidenav collapse show" id=id23a56d94f24f6140899ecb177f197063><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/awesome-helloworlds/>Awesome-HelloWorlds</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id54edce392261b9c4a7ae0c6f86585e95")' href=#id54edce392261b9c4a7ae0c6f86585e95 aria-expanded=false aria-controls=id54edce392261b9c4a7ae0c6f86585e95 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/c/>C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id54edce392261b9c4a7ae0c6f86585e95 aria-expanded=false aria-controls=id54edce392261b9c4a7ae0c6f86585e95><i class="fa-solid fa-angle-right" id=caret-id54edce392261b9c4a7ae0c6f86585e95></i></a></div><ul class="nav docs-sidenav collapse" id=id54edce392261b9c4a7ae0c6f86585e95><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/c/learn-c-in-y-minutes/>Learn C in Y Minutes</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id26e2cb8dc3ace712bfc97a72fcf13a6d")' href=#id26e2cb8dc3ace712bfc97a72fcf13a6d aria-expanded=false aria-controls=id26e2cb8dc3ace712bfc97a72fcf13a6d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/c++/>C++</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id26e2cb8dc3ace712bfc97a72fcf13a6d aria-expanded=false aria-controls=id26e2cb8dc3ace712bfc97a72fcf13a6d><i class="fa-solid fa-angle-right" id=caret-id26e2cb8dc3ace712bfc97a72fcf13a6d></i></a></div><ul class="nav docs-sidenav collapse" id=id26e2cb8dc3ace712bfc97a72fcf13a6d><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/c++/c++-cheatsheet/>C++ CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/c++/learn-c++-in-y-minutes/>Learn C++ in Y Minutes</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/c++/modern-c++-cheatsheet/>Modern C++ CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id544964e0273c82fe85431d6126e74c3b")' href=#id544964e0273c82fe85431d6126e74c3b aria-expanded=false aria-controls=id544964e0273c82fe85431d6126e74c3b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/go/>Go</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id544964e0273c82fe85431d6126e74c3b aria-expanded=false aria-controls=id544964e0273c82fe85431d6126e74c3b><i class="fa-solid fa-angle-right" id=caret-id544964e0273c82fe85431d6126e74c3b></i></a></div><ul class="nav docs-sidenav collapse" id=id544964e0273c82fe85431d6126e74c3b><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/go/go-cheatsheet/>Go-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/go/go-concurrentprogramming-cheatsheet/>Go-ConcurrentProgramming-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/go/learn-go-in-y-minutes/>Learn Go in Y Minutes</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb06911809bf39fc01bde9f7a156f7602")' href=#idb06911809bf39fc01bde9f7a156f7602 aria-expanded=false aria-controls=idb06911809bf39fc01bde9f7a156f7602 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/java/>Java</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb06911809bf39fc01bde9f7a156f7602 aria-expanded=false aria-controls=idb06911809bf39fc01bde9f7a156f7602><i class="fa-solid fa-angle-right" id=caret-idb06911809bf39fc01bde9f7a156f7602></i></a></div><ul class="nav docs-sidenav collapse" id=idb06911809bf39fc01bde9f7a156f7602><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddb0cfe8b56768d2e4ddc304bfa377a47")' href=#iddb0cfe8b56768d2e4ddc304bfa377a47 aria-expanded=false aria-controls=iddb0cfe8b56768d2e4ddc304bfa377a47 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/java/clojure/>Clojure</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#iddb0cfe8b56768d2e4ddc304bfa377a47 aria-expanded=false aria-controls=iddb0cfe8b56768d2e4ddc304bfa377a47><i class="fa-solid fa-angle-right" id=caret-iddb0cfe8b56768d2e4ddc304bfa377a47></i></a></div><ul class="nav docs-sidenav collapse" id=iddb0cfe8b56768d2e4ddc304bfa377a47><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/clojure/learn-clojure-in-y-minutes/>Learn Clojure in Y Minutes</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcbd4d771939d5615fcb12f42aed24170")' href=#idcbd4d771939d5615fcb12f42aed24170 aria-expanded=false aria-controls=idcbd4d771939d5615fcb12f42aed24170 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/java/gradle/>Gradle</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcbd4d771939d5615fcb12f42aed24170 aria-expanded=false aria-controls=idcbd4d771939d5615fcb12f42aed24170><i class="fa-solid fa-angle-right" id=caret-idcbd4d771939d5615fcb12f42aed24170></i></a></div><ul class="nav docs-sidenav collapse" id=idcbd4d771939d5615fcb12f42aed24170><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/gradle/gradle-cheatsheet/>Gradle-CheatSheet</a></li></ul></div><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/java-cheatsheet/>Java-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/java-concurrentprogramming-cheatsheet/>Java-ConcurrentProgramming-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/java-styleguide-cheatsheet/>Java-StyleGuide-CheatSheet</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id089c8a5ede4dd42e442c7bca47f0b135")' href=#id089c8a5ede4dd42e442c7bca47f0b135 aria-expanded=false aria-controls=id089c8a5ede4dd42e442c7bca47f0b135 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/java/jvm/>JVM</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id089c8a5ede4dd42e442c7bca47f0b135 aria-expanded=false aria-controls=id089c8a5ede4dd42e442c7bca47f0b135><i class="fa-solid fa-angle-right" id=caret-id089c8a5ede4dd42e442c7bca47f0b135></i></a></div><ul class="nav docs-sidenav collapse" id=id089c8a5ede4dd42e442c7bca47f0b135><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/java/jvm/jvm-tuning-cheatsheet/>JVM-Tuning-CheatSheet</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7f1e0fdb4a320a234a3f5ea34663eb2b")' href=#id7f1e0fdb4a320a234a3f5ea34663eb2b aria-expanded=false aria-controls=id7f1e0fdb4a320a234a3f5ea34663eb2b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/javascript/>JavaScript</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7f1e0fdb4a320a234a3f5ea34663eb2b aria-expanded=false aria-controls=id7f1e0fdb4a320a234a3f5ea34663eb2b><i class="fa-solid fa-angle-right" id=caret-id7f1e0fdb4a320a234a3f5ea34663eb2b></i></a></div><ul class="nav docs-sidenav collapse" id=id7f1e0fdb4a320a234a3f5ea34663eb2b><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/dart-cheatsheet/>Dart-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/es6-cheatsheet/>ES6-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/javascript-cheatsheet/>JavaScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/javascript-cheatsheet-en/>JavaScript-CheatSheet-en</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8cf1f9a6e72fcdf5573f43d3fac36700")' href=#id8cf1f9a6e72fcdf5573f43d3fac36700 aria-expanded=false aria-controls=id8cf1f9a6e72fcdf5573f43d3fac36700 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/javascript/typescript/>TypeScript</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8cf1f9a6e72fcdf5573f43d3fac36700 aria-expanded=false aria-controls=id8cf1f9a6e72fcdf5573f43d3fac36700><i class="fa-solid fa-angle-right" id=caret-id8cf1f9a6e72fcdf5573f43d3fac36700></i></a></div><ul class="nav docs-sidenav collapse" id=id8cf1f9a6e72fcdf5573f43d3fac36700><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/typescript/learn-typescript-in-y-minutes/>Learn TypeScript in Y Minutes</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/typescript/typescript-cheatsheet/>TypeScript-CheatSheet</a></li></ul></div><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/javascript/v8-cheatsheet/>V8-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id99fa26ea18b0705a0d4c4f8926538ad8")' href=#id99fa26ea18b0705a0d4c4f8926538ad8 aria-expanded=false aria-controls=id99fa26ea18b0705a0d4c4f8926538ad8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/python/>Python</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id99fa26ea18b0705a0d4c4f8926538ad8 aria-expanded=false aria-controls=id99fa26ea18b0705a0d4c4f8926538ad8><i class="fa-solid fa-angle-right" id=caret-id99fa26ea18b0705a0d4c4f8926538ad8></i></a></div><ul class="nav docs-sidenav collapse" id=id99fa26ea18b0705a0d4c4f8926538ad8><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/python/learn-python-in-y-minutes/>Learn Python in Y Minutes</a></li><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/python/python-cheatsheet/>Python-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc75fc268bdda2f69d281701a0de2f381")' href=#idc75fc268bdda2f69d281701a0de2f381 aria-expanded=false aria-controls=idc75fc268bdda2f69d281701a0de2f381 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/ruby/>Ruby</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc75fc268bdda2f69d281701a0de2f381 aria-expanded=false aria-controls=idc75fc268bdda2f69d281701a0de2f381><i class="fa-solid fa-angle-right" id=caret-idc75fc268bdda2f69d281701a0de2f381></i></a></div><ul class="nav docs-sidenav collapse" id=idc75fc268bdda2f69d281701a0de2f381><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/ruby/ruby-cheatsheet/>Ruby-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id45ead71d1a6a7e2f6d88c286ce99691a")' href=#id45ead71d1a6a7e2f6d88c286ce99691a aria-expanded=false aria-controls=id45ead71d1a6a7e2f6d88c286ce99691a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/rust/>Rust</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id45ead71d1a6a7e2f6d88c286ce99691a aria-expanded=false aria-controls=id45ead71d1a6a7e2f6d88c286ce99691a><i class="fa-solid fa-angle-down" id=caret-id45ead71d1a6a7e2f6d88c286ce99691a></i></a></div><ul class="nav docs-sidenav collapse show" id=id45ead71d1a6a7e2f6d88c286ce99691a><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/rust/learn-rust-in-y-minutes/>Learn Rust in Y Minutes</a></li><li class="child level active"><a href=/books/awesome-cheatsheets/01.cs/language/rust/rust-cheatsheet/>Rust-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc7071aee9bff1a494ed76d2c3707b1e8")' href=#idc7071aee9bff1a494ed76d2c3707b1e8 aria-expanded=false aria-controls=idc7071aee9bff1a494ed76d2c3707b1e8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/01.cs/language/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc7071aee9bff1a494ed76d2c3707b1e8 aria-expanded=false aria-controls=idc7071aee9bff1a494ed76d2c3707b1e8><i class="fa-solid fa-angle-right" id=caret-idc7071aee9bff1a494ed76d2c3707b1e8></i></a></div><ul class="nav docs-sidenav collapse" id=idc7071aee9bff1a494ed76d2c3707b1e8><li class="child level"><a href=/books/awesome-cheatsheets/01.cs/language/swift/swift-cheatsheet/>Swift-CheatSheet</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#variables>Variables</a></li><li><a href=#references--pointers>References & Pointers</a></li><li><a href=#types>Types</a></li><li><a href=#functions--behavior>Functions & Behavior</a></li><li><a href=#control-flow>Control Flow</a></li><li><a href=#pattern-matching>Pattern Matching</a></li><li><a href=#macros--attributes>Macros & Attributes</a></li><li><a href=#generics--constraints>Generics & Constraints</a></li></ul><ul><li><a href=#basic-types>Basic Types</a></li><li><a href=#字符串>字符串</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Rust-CheatSheet</h1><div class=article-style><blockquote><p>Rust CheatSheet 是对于 Rust 学习/实践过程中的语法与技巧进行盘点，其属于 <a href=https://github.com/wx-chevalier/Awesome-CheatSheets/ target=_blank rel=noopener>Awesome CheatSheet</a> 系列，致力于提升学习速度与研发效能，即可以将其当做速查手册，也可以作为轻量级的入门学习资料。本文参考了许多优秀的文章与代码示范，统一声明在了 <a href=https://github.com/wx-chevalier/Awesome-Lists target=_blank rel=noopener>Awesome Rust List</a>；如果希望深入了解某方面的内容，可以继续阅读<a href=https://github.com/wx-chevalier/Rust-Notes target=_blank rel=noopener>Rust-Notes</a>，或者前往 <a href=https://github.com/wx-chevalier/rust-examples target=_blank rel=noopener>rust-examples</a> 查看使用 Rust 解决常见的数据结构与算法、设计模式、业务功能方面的代码实现。</p></blockquote><h1 id=rust-语法速览实践技巧与开源工具清单>Rust 语法速览、实践技巧与开源工具清单</h1><p>Rust 是为工业应用而生，并不拘泥于遵循某个范式（Paradigm），笔者认为其最核心的特性为 Ownership 与 Lifetime；能够在没有 GC 与 Runtime 的情况下，防止近乎所有的段错误，并且保证线程安全(prevents nearly all segfaults, and guarantees thread safety)。Rust 为每个引用与指针设置了 Lifetime，对象则不允许在同一时间有两个和两个以上的可变引用，并且在编译阶段即进行了内存分配(栈或者堆)；Rust 还提供了 Closure 等函数式编程语言的特性、编译时多态(Compile-time Polymorphism)、衍生的错误处理机制、灵活的模块系统等。</p><p>对于 Rust 的语法速览可以参考本目录下的 <a href=./rust-snippets.rs>rust-snippets</a>。</p><blockquote><p><a href=https://cheats.rs/ target=_blank rel=noopener>Cheats.rs</a></p></blockquote><h1 id=hello-world>Hello World</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-rs data-lang=rs><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Hello, world!&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>//</code></td><td>Line comment, use these to document code flow or <em>internals</em>.</td></tr><tr><td><code>///</code></td><td>Outer line <strong>doc comment</strong>, use these on types.</td></tr><tr><td><code>//!</code></td><td>Inner line doc comment, mostly used at start of file to document module.</td></tr><tr><td><code>/*...*/</code></td><td>Block comment.</td></tr><tr><td><code>/**...*/</code></td><td>Outer block doc comment.</td></tr><tr><td><code>/*!...*/</code></td><td>Inner block doc comment.</td></tr><tr><td><code>rust ...</code></td><td>In doc comments, include a <a href=https://doc.rust-lang.org/rustdoc/documentation-tests.html target=_blank rel=noopener>doc test</a> (doc code running on <code>cargo test</code>).</td></tr><tr><td><code>#</code></td><td>In doc tests, hide line from documentation (<code># use x::hidden;</code>).</td></tr></tbody></table><h2 id=variables>Variables</h2><p>通过关键字定义的数据类型和存储位置。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>struct S {}</code></td><td>Define a <strong>struct</strong> with named fields.</td></tr><tr><td><code>struct S { x: T }</code></td><td>Define struct with named field <code>x</code> of type <code>T</code>.</td></tr><tr><td><code>struct S</code> <code>(T);</code></td><td>Define &ldquo;tupled&rdquo; struct with numbered field <code>.0</code> of type <code>T</code>.</td></tr><tr><td><code>struct S;</code></td><td>Define <strong>zero sized</strong> unit struct. Occupies no space, optimized away.</td></tr><tr><td><code>enum E {}</code></td><td>Define an <strong>enum</strong>, <em>c</em>. <a href=https://en.wikipedia.org/wiki/Algebraic_data_type target=_blank rel=noopener>algebraic data types</a>, <a href=https://en.wikipedia.org/wiki/Tagged_union target=_blank rel=noopener>tagged unions</a>.</td></tr><tr><td><code>enum E { A, B``(), C {} }</code></td><td>Define variants of enum; can be unit- <code>A</code>, tuple- <code>B</code> <code>()</code> and struct-like <code>C{}</code>.</td></tr><tr><td><code>enum E { A = 1 }</code></td><td>If variants are only unit-like, allow discriminant values, e.g., for FFI.</td></tr><tr><td><code>union U {}</code></td><td>Unsafe C-like <strong>union</strong> for FFI compatibility.</td></tr><tr><td><code>static X: T = T();</code></td><td><strong>Global variable</strong> with <code>'static</code> lifetime, single memory location.</td></tr><tr><td><code>const X: T = T();</code></td><td>Defines <strong>constant</strong> . Copied into a temporary when used.</td></tr><tr><td><code>let x: T;</code></td><td>Allocate <code>T</code> bytes on stack bound as <code>x</code>. Assignable once, not mutable.</td></tr><tr><td><code>let mut x: T;</code></td><td>Like <code>let</code>, but allow for <strong>mutability</strong> and mutable borrow.</td></tr><tr><td><code>x = y;</code></td><td>Moves <code>y</code> to <code>x</code>, invalidating <code>y</code> if <code>T</code> is not <strong><code>Copy</code></strong>, and copying <code>y</code> otherwise.</td></tr></tbody></table><p>绑定变量（Bound Variables）存在于堆栈中，用于同步代码。在 <code>async {}</code> 代码中，它们成为异步状态机的一部分，可能驻留在堆上。从技术上讲，可变性和不变性是误称。不可变的绑定或共享引用可能仍包含 Cell，从而提供内部可变性。创建和访问数据结构；以及其他一些西语类型。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>S { x: y }</code></td><td>Create <code>struct S {}</code> or <code>use</code>&lsquo;ed <code>enum E::S {}</code> with field <code>x</code> set to <code>y</code>.</td></tr><tr><td><code>S { x }</code></td><td>Same, but use local variable <code>x</code> for field <code>x</code>.</td></tr><tr><td><code>S { ..s }</code></td><td>Fill remaining fields from <code>s</code>, esp. useful with <a href=https://doc.rust-lang.org/std/default/trait.Default.html target=_blank rel=noopener>Default</a>.</td></tr><tr><td><code>S { 0: x }</code></td><td>Like <code>S</code> <code>(x)</code> below, but set field <code>.0</code> with struct syntax.</td></tr><tr><td><code>S</code> <code>(x)</code></td><td>Create <code>struct S</code> <code>(T)</code> or <code>use</code>&lsquo;ed <code>enum E::S</code> <code>()</code> with field <code>.0</code> set to <code>x</code>.</td></tr><tr><td><code>S</code></td><td>If <code>S</code> is unit <code>struct S;</code> or <code>use</code>&lsquo;ed <code>enum E::S</code> create value of <code>S</code>.</td></tr><tr><td><code>E::C { x: y }</code></td><td>Create enum variant <code>C</code>. Other methods above also work.</td></tr><tr><td><code>()</code></td><td>Empty tuple, both literal and type, aka <strong>unit</strong>.</td></tr><tr><td><code>(x)</code></td><td>Parenthesized expression.</td></tr><tr><td><code>(x,)</code></td><td>Single-element <strong>tuple</strong> expression.</td></tr><tr><td><code>(S,)</code></td><td>Single-element tuple type.</td></tr><tr><td><code>[S]</code></td><td>Array type of unspecified length, i.e., <strong>slice</strong>. Can&rsquo;t live on stack.</td></tr><tr><td><code>[S; n]</code></td><td><strong>Array type</strong> of fixed length <code>n</code> holding elements of type <code>S</code>.</td></tr><tr><td><code>[x; n]</code></td><td>Array instance with <code>n</code> copies of <code>x</code>.</td></tr><tr><td><code>[x, y]</code></td><td>Array instance with given elements <code>x</code> and <code>y</code>.</td></tr><tr><td><code>x[0]</code></td><td>Collection indexing. Overloadable <a href=https://doc.rust-lang.org/std/ops/trait.Index.html target=_blank rel=noopener>Index</a>, <a href=https://doc.rust-lang.org/std/ops/trait.IndexMut.html target=_blank rel=noopener>IndexMut</a></td></tr><tr><td><code>x[..]</code></td><td>Collection slice-like indexing via <a href=https://doc.rust-lang.org/std/ops/struct.RangeFull.html target=_blank rel=noopener>RangeFull</a>, <em>c</em>. slices.</td></tr><tr><td><code>x[a..]</code></td><td>Collection slice-like indexing via <a href=https://doc.rust-lang.org/std/ops/struct.RangeFrom.html target=_blank rel=noopener>RangeFrom</a>.</td></tr><tr><td><code>x[..b]</code></td><td>Collection slice-like indexing <a href=https://doc.rust-lang.org/std/ops/struct.RangeTo.html target=_blank rel=noopener>RangeTo</a>.</td></tr><tr><td><code>x[a..b]</code></td><td>Collection slice-like indexing via <a href=https://doc.rust-lang.org/std/ops/struct.Range.html target=_blank rel=noopener>Range</a>.</td></tr><tr><td><code>a..b</code></td><td>Right-exclusive <strong>range</strong> creation, also seen as <code>..b</code>.</td></tr><tr><td><code>a..=b</code></td><td>Inclusive range creation, also seen as <code>..=b</code>.</td></tr><tr><td><code>s.x</code></td><td>Named <strong>field access</strong>, might try to <a href=https://doc.rust-lang.org/std/ops/trait.Deref.html target=_blank rel=noopener>Deref</a> if <code>x</code> not part of type <code>S</code>.</td></tr><tr><td><code>s.0</code></td><td>Numbered field access, used for tuple types <code>S</code> <code>(T)</code>.</td></tr></tbody></table><p>这些签名不适合任何其他类别，但是很高兴知道。</p><table><thead><tr><th>Example</th><th>Explanation</th><th></th><th></th></tr></thead><tbody><tr><td><code>!</code></td><td>Always empty <strong>never type</strong>.</td><td></td><td></td></tr><tr><td><code>_</code></td><td>Unnamed variable binding, e.g., `</td><td>x, _</td><td>{}`.</td></tr><tr><td><code>let _ = x;</code></td><td>Unnamed assignment is no-op, does <strong>not</strong> move out <code>x</code> or preserve scope!</td><td></td><td></td></tr><tr><td><code>_x</code></td><td>Variable binding explicitly marked as unused.</td><td></td><td></td></tr><tr><td><code>1_234_567</code></td><td>Numeric separator for visual clarity.</td><td></td><td></td></tr><tr><td><code>1_u8</code></td><td>Type specifier for <strong>numeric literals</strong> (also <code>i8</code>, <code>u16</code>, &mldr;).</td><td></td><td></td></tr><tr><td><code>0xBEEF</code>, <code>0o777</code>, <code>0b1001</code></td><td>Hexadecimal (<code>0x</code>), octal (<code>0o</code>) and binary (<code>0b</code>) integer literals.</td><td></td><td></td></tr><tr><td><code>r#foo</code></td><td>A <strong>raw identifier</strong> for edition compatibility.</td><td></td><td></td></tr><tr><td><code>x;</code></td><td><strong>Statement</strong> terminator, <em>c</em>. <strong>expressions</strong></td><td></td><td></td></tr></tbody></table><h2 id=references--pointers>References & Pointers</h2><p>授予对未拥有的内存的访问权限。另请参见“泛型和约束”部分。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>&S</code></td><td>Shared <strong>reference</strong> (space for holding <em>any</em> <code>&s</code>).</td></tr><tr><td><code>&[S]</code></td><td>Special slice reference that contains (<code>address</code>, <code>length</code>).</td></tr><tr><td><code>&str</code></td><td>Special string reference that contains (<code>address</code>, <code>length</code>).</td></tr><tr><td><code>&mut S</code></td><td>Exclusive reference to allow mutability (also <code>&mut [S]</code>, <code>&mut dyn S</code>, &mldr;)</td></tr><tr><td><code>&dyn T</code></td><td>Special <strong>trait object</strong> reference that contains (<code>address</code>, <code>vtable</code>).</td></tr><tr><td><code>*const S</code></td><td>Immutable <strong>raw pointer type</strong> w/o memory safety.</td></tr><tr><td><code>*mut S</code></td><td>Mutable raw pointer type w/o memory safety.</td></tr><tr><td><code>&s</code></td><td>Shared <strong>borrow</strong> (e.g., address, len, vtable, &mldr; of <em>this</em> <code>s</code>, like <code>0x1234</code>).</td></tr><tr><td><code>&mut s</code></td><td>Exclusive borrow that allows <strong>mutability</strong>.</td></tr><tr><td><code>ref s</code></td><td><strong>Bind by reference</strong>.</td></tr><tr><td><code>let ref r = s;</code></td><td>Equivalent to <code>let r = &s</code>.</td></tr><tr><td><code>let S { ref mut x } = s;</code></td><td>Mutable ref binding (<code>let x = &mut s.x</code>), shorthand destructuring version.</td></tr><tr><td><code>*r</code></td><td><strong>Dereference</strong> a reference <code>r</code> to access what it points to.</td></tr><tr><td><code>*r = s;</code></td><td>If <code>r</code> is a mutable reference, move or copy <code>s</code> to target memory.</td></tr><tr><td><code>s = *r;</code></td><td>Make <code>s</code> a copy of whatever <code>r</code> references, if that is <code>Copy</code>.</td></tr><tr><td><code>s = *my_box;</code></td><td><a href=https://www.reddit.com/r/rust/comments/b4so6i/what_is_exactly/ej8xwg8/ target=_blank rel=noopener>Special case</a> for <code>Box</code> that can also move out Box&rsquo;ed content if it isn&rsquo;t <code>Copy</code>.</td></tr><tr><td><code>'a</code></td><td>A <strong>lifetime parameter</strong>,, duration of a flow in static analysis.</td></tr><tr><td><code>&'a S</code></td><td>Only accepts a <code>s</code> with an address that lives <code>'a</code> or longer.</td></tr><tr><td><code>&'a mut S</code></td><td>Same, but allow content of address to be changed.</td></tr><tr><td><code>struct S&lt;'a> {}</code></td><td>Signals <code>S</code> will contain address with lifetime <code>'a</code>. Creator of <code>S</code> decides <code>'a</code>.</td></tr><tr><td><code>trait T&lt;'a> {}</code></td><td>Signals a <code>S</code> which <code>impl T for S</code> might contain address.</td></tr><tr><td><code>fn f&lt;'a>(t: &'a T)</code></td><td>Same, for function. Caller decides <code>'a</code>.</td></tr><tr><td><code>'static</code></td><td>Special lifetime lasting the entire program execution.</td></tr></tbody></table><h2 id=types>Types</h2><p>类型的简写名称，以及将一种类型转换为另一种类型的方法。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>type T = S;</code></td><td>Create a <strong>type alias</strong>, i.e., another name for <code>S</code>.</td></tr><tr><td><code>Self</code></td><td>Type alias for <strong>implementing type</strong>, e.g. <code>fn new() -> Self</code>.</td></tr><tr><td><code>self</code></td><td>Method subject in <code>fn f(self) {}</code>, same as <code>fn f(self: Self) {}</code>.</td></tr><tr><td><code>&self</code></td><td>Same, but refers to self as borrowed, same as <code>f(self: &Self)</code></td></tr><tr><td><code>&mut self</code></td><td>Same, but mutably borrowed, same as <code>f(self: &mut Self)</code></td></tr><tr><td><code>self: Box</code></td><td><a href=https://github.com/withoutboats/rfcs/blob/arbitray-receivers/text/0000-century-of-the-self-type.md target=_blank rel=noopener>Arbitrary self type</a>, add methods to smart pointers (<code>my_box.f_of_self()</code>).</td></tr><tr><td><code>S as T</code></td><td><strong>Disambiguate</strong> type <code>S</code> as trait <code>T</code>, e.g., <code>::f()</code>.</td></tr><tr><td><code>S as R</code></td><td>In <code>use</code> of symbol, import <code>S</code> as <code>R</code>, e.g., <code>use a::S as R</code>.</td></tr><tr><td><code>x as u32</code></td><td>Primitive <strong>cast</strong>, may truncate and be a bit surprising.</td></tr></tbody></table><h2 id=functions--behavior>Functions & Behavior</h2><p>定义代码单元及其抽象。</p><table><thead><tr><th>Example</th><th>Explanation</th><th></th><th></th></tr></thead><tbody><tr><td><code>trait T {}</code></td><td>Define a <strong>trait</strong>; common behavior others can implement.</td><td></td><td></td></tr><tr><td><code>trait T : R {}</code></td><td><code>T</code> is subtrait of <strong>supertrait</strong> <code>R</code>. Any <code>S</code> must <code>impl R</code> before it can <code>impl T</code>.</td><td></td><td></td></tr><tr><td><code>impl S {}</code></td><td><strong>Implementation</strong> of functionality for a type <code>S</code>, e.g., methods.</td><td></td><td></td></tr><tr><td><code>impl T for S {}</code></td><td>Implement trait <code>T</code> for type <code>S</code>.</td><td></td><td></td></tr><tr><td><code>impl !T for S {}</code></td><td>Disable an automatically derived <strong>auto trait</strong> .</td><td></td><td></td></tr><tr><td><code>fn f() {}</code></td><td>Definition of a <strong>function</strong>; or associated function if inside <code>impl</code>.</td><td></td><td></td></tr><tr><td><code>fn f() -> S {}</code></td><td>Same, returning a value of type S.</td><td></td><td></td></tr><tr><td><code>fn f(&self) {}</code></td><td>Define a <strong>method</strong>, e.g., within an <code>impl S {}</code>.</td><td></td><td></td></tr><tr><td><code>const fn f() {}</code></td><td>Constant <code>fn</code> usable at compile time, e.g., <code>const X: u32 = f(Y)</code>.</td><td></td><td></td></tr><tr><td><code>async fn f() {}</code></td><td><strong>Async</strong> function transformation, makes <code>f</code> return an <code>impl</code> <strong><code>Future</code></strong>.</td><td></td><td></td></tr><tr><td><code>async fn f() -> S {}</code></td><td>Same, but make <code>f</code> return an <code>impl Future</code>.</td><td></td><td></td></tr><tr><td><code>async { x }</code></td><td>Used within a function, make <code>{ x }</code> an <code>impl Future</code>.</td><td></td><td></td></tr><tr><td><code>fn() -> S</code></td><td><strong>Function pointers</strong>,, memory holding address of a callable.</td><td></td><td></td></tr><tr><td><code>Fn() -> S</code></td><td><strong>Callable Trait</strong>, (also <code>FnMut</code>, <code>FnOnce</code>), implemented by closures, fn&rsquo;s &mldr;</td><td></td><td></td></tr><tr><td>`</td><td></td><td>{}`</td><td>A <strong>closure</strong> that borrows its <strong>captures</strong>.</td></tr><tr><td>`</td><td>x</td><td>{}`</td><td>Closure with a bound parameter <code>x</code>.</td></tr><tr><td>`</td><td>x</td><td>x + x`</td><td>Closure without block expression; may only consist of single expression.</td></tr><tr><td>`move</td><td>x</td><td>x + y`</td><td>Closure taking ownership of its captures.</td></tr><tr><td>`return</td><td></td><td>true`</td><td>Closures sometimes look like logical ORs (here: return a closure).</td></tr><tr><td><code>unsafe</code></td><td>If you enjoy debugging segfaults Friday night; <strong>unsafe code</strong>.</td><td></td><td></td></tr><tr><td><code>unsafe f() {}</code></td><td>Sort-of means &ldquo;<em>can cause UB, <strong>YOU must check</strong> requirements</em>&rdquo;.</td><td></td><td></td></tr><tr><td><code>unsafe {}</code></td><td>Guarantees to compiler &ldquo;<strong>*I have checked</strong> requirements, trust me*&rdquo;.</td><td></td><td></td></tr></tbody></table><h2 id=control-flow>Control Flow</h2><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>while x {}</code></td><td><strong>Loop</strong>, run while expression <code>x</code> is true.</td></tr><tr><td><code>loop {}</code></td><td><strong>Loop infinitely</strong> until <code>break</code>. Can yield value with <code>break x</code>.</td></tr><tr><td><code>for x in iter {}</code></td><td>Syntactic sugar to loop over <strong>iterators</strong>.</td></tr><tr><td><code>if x {} else {}</code></td><td><strong>Conditional branch</strong> if expression is true.</td></tr><tr><td><code>'label: loop {}</code></td><td><strong>Loop label</strong>, useful for flow control in nested loops.</td></tr><tr><td><code>break</code></td><td><strong>Break expression</strong> to exit a loop.</td></tr><tr><td><code>break x</code></td><td>Same, but make <code>x</code> value of the loop expression (only in actual <code>loop</code>).</td></tr><tr><td><code>break 'label</code></td><td>Exit not only this loop, but the enclosing one marked with <code>'label</code>.</td></tr><tr><td><code>continue</code></td><td><strong>Continue expression</strong> to the next loop iteration of this loop.</td></tr><tr><td><code>continue 'label</code></td><td>Same, but instead of enclosing loop marked with <code>'label</code>.</td></tr><tr><td><code>x?</code></td><td>If <code>x</code> is <a href=https://doc.rust-lang.org/std/result/enum.Result.html#variant.Err target=_blank rel=noopener>Err</a> or <a href=https://doc.rust-lang.org/std/option/enum.Option.html#variant.None target=_blank rel=noopener>None</a>, <strong>return and propagate</strong>.</td></tr><tr><td><code>x.await</code></td><td>Only works inside <code>async</code>. Yield flow until <strong><code>Future</code></strong> or Stream <code>x</code> ready.</td></tr><tr><td><code>return x</code></td><td>Early return from function. More idiomatic way is to end with expression.</td></tr><tr><td><code>f()</code></td><td>Invoke callable <code>f</code> (e.g., a function, closure, function pointer, <code>Fn</code>, &mldr;).</td></tr><tr><td><code>x.f()</code></td><td>Call member function, requires <code>f</code> takes <code>self</code>, <code>&self</code>, &mldr; as first argument.</td></tr><tr><td><code>X::f(x)</code></td><td>Same as <code>x.f()</code>. Unless <code>impl Copy for X {}</code>, <code>f</code> can only be called once.</td></tr><tr><td><code>X::f(&x)</code></td><td>Same as <code>x.f()</code>.</td></tr><tr><td><code>X::f(&mut x)</code></td><td>Same as <code>x.f()</code>.</td></tr><tr><td><code>S::f(&x)</code></td><td>Same as <code>x.f()</code> if <code>X</code> <a href=https://doc.rust-lang.org/std/ops/trait.Deref.html target=_blank rel=noopener>derefs</a> to <code>S</code>, i.e., <code>x.f()</code> finds methods of <code>S</code>.</td></tr><tr><td><code>T::f(&x)</code></td><td>Same as <code>x.f()</code> if <code>X impl T</code>, i.e., <code>x.f()</code> finds methods of <code>T</code> if in scope.</td></tr><tr><td><code>X::f()</code></td><td>Call associated function, e.g., <code>X::new()</code>.</td></tr><tr><td><code>::f()</code></td><td>Call trait method <code>T::f()</code> implemented for <code>X</code>.</td></tr></tbody></table><h2 id=pattern-matching>Pattern Matching</h2><p>在 match 或 let 表达式或函数参数中找到的构造。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>match m {}</code></td><td>Initiate <strong>pattern matching</strong>, then use match arms, <em>c</em>. next table.</td></tr><tr><td><code>let S(x) = get();</code></td><td>Notably, <code>let</code> also <strong>destructures</strong> similar to the table below.</td></tr><tr><td><code>let S { x } = s;</code></td><td>Only <code>x</code> will be bound to value <code>s.x</code>.</td></tr><tr><td><code>let (_, b, _) = abc;</code></td><td>Only <code>b</code> will be bound to value <code>abc.1</code>.</td></tr><tr><td><code>let (a, ..) = abc;</code></td><td>Ignoring &rsquo;the rest&rsquo; also works.</td></tr><tr><td><code>let (.., a, b) = (1, 2);</code></td><td>Specific bindings take precedence over &rsquo;the rest&rsquo;, here <code>a</code> is <code>1</code>, <code>b</code> is <code>2</code>.</td></tr><tr><td><code>let Some(x) = get();</code></td><td><strong>Won&rsquo;t</strong> work if pattern can be <strong>refuted</strong>, use <code>if let</code> instead.</td></tr><tr><td><code>if let Some(x) = get() {}</code></td><td>Branch if pattern can be assigned (e.g., <code>enum</code> variant), syntactic sugar.</td></tr><tr><td><code>fn f(S { x }: S)</code></td><td>Function parameters also work like <code>let</code>, here <code>x</code> bound to <code>s.x</code> of <code>f(s)</code>.</td></tr></tbody></table><p>匹配表达式中的模式匹配臂。这些臂的左侧也可以在 let 表达式中找到。</p><table><thead><tr><th>Match Arm</th><th>Explanation</th><th></th></tr></thead><tbody><tr><td><code>E::A => {}</code></td><td>Match enum variant <code>A</code>, <em>c</em>. <strong>pattern matching</strong>.</td><td></td></tr><tr><td><code>E::B ( .. ) => {}</code></td><td>Match enum tuple variant <code>B</code>, wildcard any index.</td><td></td></tr><tr><td><code>E::C { .. } => {}</code></td><td>Match enum struct variant <code>C</code>, wildcard any field.</td><td></td></tr><tr><td><code>S { x: 0, y: 1 } => {}</code></td><td>Match struct with specific values (only accepts <code>s</code> with <code>s.x</code> of <code>0</code> and <code>s.y</code> of <code>1</code>).</td><td></td></tr><tr><td><code>S { x: a, y: b } => {}</code></td><td>Match struct with <em>any</em>(!) values and bind <code>s.x</code> to <code>a</code> and <code>s.y</code> to <code>b</code>.</td><td></td></tr><tr><td><code>S { x, y } => {}</code></td><td>Same, but shorthand with <code>s.x</code> and <code>s.y</code> bound as <code>x</code> and <code>y</code> respectively.</td><td></td></tr><tr><td><code>S { .. } => {}</code></td><td>Match struct with any values.</td><td></td></tr><tr><td><code>D => {}</code></td><td>Match enum variant <code>E::D</code> if <code>D</code> in <code>use</code>.</td><td></td></tr><tr><td><code>D => {}</code></td><td>Match anything, bind <code>D</code>; possibly false friend of <code>E::D</code> if <code>D</code> not in <code>use</code>.</td><td></td></tr><tr><td><code>_ => {}</code></td><td>Proper wildcard that matches anything / &ldquo;all the rest&rdquo;.</td><td></td></tr><tr><td><code>(a, 0) => {}</code></td><td>Match tuple with any value for <code>a</code> and <code>0</code> for second.</td><td></td></tr><tr><td><code>[a, 0] => {}</code></td><td><strong>Slice pattern</strong>, match array with any value for <code>a</code> and <code>0</code> for second.</td><td></td></tr><tr><td><code>[1, ..] => {}</code></td><td>Match array starting with <code>1</code>, any value for rest; <strong>subslice pattern</strong>.</td><td></td></tr><tr><td><code>[2, .., 5] => {}</code></td><td>Match array starting with <code>1</code>, ending with <code>5</code>.</td><td></td></tr><tr><td><code>[2, x @ .., 5] => {}</code></td><td>Same, but also bind <code>x</code> to slice representing middle (<em>c.</em> next entry).</td><td></td></tr><tr><td><code>x @ 1..=5 => {}</code></td><td>Bind matched to <code>x</code>; <strong>pattern binding</strong>, here <code>x</code> would be <code>1</code>, <code>2</code>, &mldr; or <code>5</code>.</td><td></td></tr><tr><td>`0</td><td>1 => {}`</td><td>Pattern alternatives (or-patterns).</td></tr><tr><td>`E::A</td><td>E::Z`</td><td>Same, but on enum variants.</td></tr><tr><td>`E::C {x}</td><td>E::D {x}`</td><td>Same, but bind <code>x</code> if all variants have it.</td></tr><tr><td><code>S { x } if x > 10 => {}</code></td><td>Pattern <strong>match guards</strong>, condition must be true as well to match.</td><td></td></tr></tbody></table><h2 id=macros--attributes>Macros & Attributes</h2><p>代码生成结构在实际编译发生之前就已扩展。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>m!()</code></td><td><strong>Macro</strong> invocation, also <code>m!{}</code>, <code>m![]</code> (depending on macro).</td></tr><tr><td><code>#[attr]</code></td><td>Outer <strong>attribute</strong>., annotating the following item.</td></tr><tr><td><code>#![attr]</code></td><td>Inner attribute, annotating the surrounding item.</td></tr></tbody></table><p>在声明性宏中的示例 macro_rules！实现这些工作：</p><table><thead><tr><th>Within Macros</th><th>Explanation</th></tr></thead><tbody><tr><td><code>$x:ty</code></td><td>Macro capture, with the <code>ty</code> part being:</td></tr><tr><td><code>$x:item</code></td><td>An item, like a function, struct, module, etc.</td></tr><tr><td><code>$x:block</code></td><td>A block <code>{}</code> of statements or expressions, e.g., <code>{ let x = 5; }</code></td></tr><tr><td><code>$x:stmt</code></td><td>A statement, e.g., <code>let x = 1 + 1;</code>, <code>String::new();</code> or <code>vec![];</code></td></tr><tr><td><code>$x:expr</code></td><td>An expression, e.g., <code>x</code>, <code>1 + 1</code>, <code>String::new()</code> or <code>vec![]</code></td></tr><tr><td><code>$x:pat</code></td><td>A pattern, e.g., <code>Some(t)</code>, <code>(17, 'a')</code> or <code>_</code>.</td></tr><tr><td><code>$x:ty</code></td><td>A type, e.g., <code>String</code>, <code>usize</code> or <code>Vec</code>.</td></tr><tr><td><code>$x:ident</code></td><td>An identifier, for example in <code>let x = 0;</code> the identifier is <code>x</code>.</td></tr><tr><td><code>$x:path</code></td><td>A path (e.g. <code>foo</code>, <code>::std::mem::replace</code>, <code>transmute::&lt;_, int></code>, …).</td></tr><tr><td><code>$x:literal</code></td><td>A literal (e.g. <code>3</code>, <code>"foo"</code>, <code>b"bar"</code>, etc.).</td></tr><tr><td><code>$x:lifetime</code></td><td>A lifetime (e.g. <code>'a</code>, <code>'static</code>, etc.).</td></tr><tr><td><code>$x:meta</code></td><td>A meta item; the things that go inside <code>#[...]</code> and <code>#![...]</code> attributes.</td></tr><tr><td><code>$x:vis</code></td><td>A visibility modifier; <code>pub</code>, <code>pub(crate)</code>, etc.</td></tr><tr><td><code>$x:tt</code></td><td>A single token tree, <a href=https://stackoverflow.com/a/40303308 target=_blank rel=noopener>see here</a> for more details.</td></tr><tr><td><code>$x</code></td><td>Macro substitution, e.g., use the captured <code>$x:ty</code> from above.</td></tr><tr><td><code>$(x),*</code></td><td>Macro repetition &ldquo;zero or more times&rdquo; in macros by example.</td></tr><tr><td><code>$(x),?</code></td><td>Same, but &ldquo;zero or one time&rdquo;.</td></tr><tr><td><code>$(x),+</code></td><td>Same, but &ldquo;one or more times&rdquo;.</td></tr><tr><td><code>$(x)&lt;&lt;+</code></td><td>In fact separators other than <code>,</code> are also accepted. Here: <code>&lt;&lt;</code>.</td></tr><tr><td><code>$crate</code></td><td>Special hygiene variable, crate where macros is defined.</td></tr></tbody></table><h2 id=generics--constraints>Generics & Constraints</h2><p>Generics combine with many other constructs such as struct S<t>, fn f<t>(), &mldr;</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>S</code></td><td>A <strong>generic</strong> type with a type parameter (<code>T</code> is placeholder name here).</td></tr><tr><td><code>S</code></td><td>Type short hand <strong>trait bound</strong> specification (<code>R</code> <em>must</em> be actual trait).</td></tr><tr><td><code>T: R, P: S</code></td><td><strong>Independent trait bounds</strong> (here one for <code>T</code> and one for <code>P</code>).</td></tr><tr><td><code>T: R, S</code></td><td>Compile error, you probably want compound bound <code>R + S</code> below.</td></tr><tr><td><code>T: R + S</code></td><td><strong>Compound trait bound</strong>, <code>T</code> must fulfill <code>R</code> and <code>S</code>.</td></tr><tr><td><code>T: R + 'a</code></td><td>Same, but w. lifetime. <code>T</code> must fulfill <code>R</code>, if <code>T</code> has lifetimes, must outlive <code>'a</code>.</td></tr><tr><td><code>T: ?Sized</code></td><td>Opt out of a pre-defined trait bound, here <code>Sized</code>.</td></tr><tr><td><code>T: 'a</code></td><td>Type <strong>lifetime bound</strong> ; if T has references, they must outlive <code>'a</code>.</td></tr><tr><td><code>T: 'static</code></td><td>Same; does esp. <em>not</em> mean value <code>t</code> <em>will</em> live <code>'static</code>, only that it could.</td></tr><tr><td><code>'b: 'a</code></td><td>Lifetime <code>'b</code> must live at least as long as (i.e., <em>outlive</em>) <code>'a</code> bound.</td></tr><tr><td><code>S where T: R</code></td><td>Same as <code>S</code> but more pleasant to read for longer bounds.</td></tr><tr><td><code>S</code></td><td><strong>Default type parameter</strong> for associated type.</td></tr><tr><td><code>S&lt;'_></code></td><td>Inferred <strong>anonymous lifetime</strong>; asks compiler to <em>&lsquo;figure it out&rsquo;</em> if obvious.</td></tr><tr><td><code>S&lt;_></code></td><td>Inferred <strong>anonymous type</strong>, e.g., as <code>let x: Vec&lt;_> = iter.collect()</code></td></tr><tr><td><code>S::</code></td><td><strong>Turbofish</strong> call site type disambiguation, e.g. <code>f::()</code>.</td></tr><tr><td><code>trait T {}</code></td><td>A trait generic over <code>X</code>. Can have multiple <code>impl T for S</code> (one per <code>X</code>).</td></tr><tr><td><code>trait T { type X; }</code></td><td>Defines <strong>associated type</strong> <code>X</code>. Only one <code>impl T for S</code> possible.</td></tr><tr><td><code>type X = R;</code></td><td>Set associated type within <code>impl T for S { type X = R; }</code>.</td></tr><tr><td><code>impl S {}</code></td><td>Implement functionality for any <code>T</code> in <code>S</code>.</td></tr><tr><td><code>impl S {}</code></td><td>Implement functionality for exactly <code>S</code> (e.g., <code>S</code>).</td></tr><tr><td><code>fn f() -> impl T</code></td><td><strong>Existential types</strong>, returns an unknown-to-caller <code>S</code> that <code>impl T</code>.</td></tr><tr><td><code>fn f(x: &impl T)</code></td><td>Trait bound,"<strong>impl traits</strong>", somewhat similar to <code>fn f(x: &S)</code>.</td></tr><tr><td><code>fn f(x: &dyn T)</code></td><td>Marker for <strong>dynamic dispatch</strong>, <code>f</code> will not be monomorphized.</td></tr><tr><td><code>fn f() where Self: R;</code></td><td>In <code>trait T {}</code>, make <code>f</code> accessible only on types known to also <code>impl R</code>.</td></tr><tr><td><code>fn f() where Self: R {}</code></td><td>Esp. useful w. default methods (non dflt. would need be impl&rsquo;ed anyway).</td></tr><tr><td><code>for&lt;'a></code></td><td><strong>Higher-ranked trait bounds.</strong></td></tr><tr><td><code>trait T: for&lt;'a> R&lt;'a> {}</code></td><td>Any <code>S</code> that <code>impl T</code> would also have to fulfill <code>R</code> for any lifetime.</td></tr></tbody></table><h1 id=data-structures>Data Structures</h1><h1 id=organizing-code>Organizing Code</h1><p>将项目分割成较小的单元，并最大程度地减少依赖性。</p><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>mod m {}</code></td><td>Define a <strong>module</strong>, get definition from inside <code>{}</code>.</td></tr><tr><td><code>mod m;</code></td><td>Define a module, get definition from <code>m.rs</code> or <code>m/mod.rs</code>.</td></tr><tr><td><code>a::b</code></td><td>Namespace <strong>path</strong> to element <code>b</code> within <code>a</code> (<code>mod</code>, <code>enum</code>, &mldr;).</td></tr><tr><td><code>::b</code></td><td>Search <code>b</code> relative to crate root.</td></tr><tr><td><code>crate::b</code></td><td>Search <code>b</code> relative to crate root.</td></tr><tr><td><code>self::b</code></td><td>Search <code>b</code> relative to current module.</td></tr><tr><td><code>super::b</code></td><td>Search <code>b</code> relative to parent module.</td></tr><tr><td><code>use a::b;</code></td><td><strong>Use</strong> <code>b</code> directly in this scope without requiring <code>a</code> anymore.</td></tr><tr><td><code>use a::{b, c};</code></td><td>Same, but bring <code>b</code> and <code>c</code> into scope.</td></tr><tr><td><code>use a::b as x;</code></td><td>Bring <code>b</code> into scope but name <code>x</code>, like <code>use std::error::Error as E</code>.</td></tr><tr><td><code>use a::b as _;</code></td><td>Bring <code>b</code> anonymously into scope, useful for traits with conflicting names.</td></tr><tr><td><code>use a::*;</code></td><td>Bring everything from <code>a</code> into scope.</td></tr><tr><td><code>pub use a::b;</code></td><td>Bring <code>a::b</code> into scope and reexport from here.</td></tr><tr><td><code>pub T</code></td><td>&ldquo;Public if parent path is public&rdquo; <strong>visibility</strong> for <code>T</code>.</td></tr><tr><td><code>pub(crate) T</code></td><td>Visible at most in current crate.</td></tr><tr><td><code>pub(self) T</code></td><td>Visible at most in current module.</td></tr><tr><td><code>pub(super) T</code></td><td>Visible at most in parent.</td></tr><tr><td><code>pub(in a::b) T</code></td><td>Visible at most in <code>a::b</code>.</td></tr><tr><td><code>extern crate a;</code></td><td>Declare dependency on external <strong>crate</strong> ; just <code>use a::b</code> in .</td></tr><tr><td><code>extern "C" {}</code></td><td><em>Declare</em> external dependencies and ABI (e.g., <code>"C"</code>) from <strong>FFI</strong>.</td></tr><tr><td><code>extern "C" fn f() {}</code></td><td><em>Define</em> function to be exported with ABI (e.g., <code>"C"</code>) to FFI.</td></tr></tbody></table><h1 id=内存结构>内存结构</h1><h2 id=basic-types>Basic Types</h2><h2 id=字符串>字符串</h2><table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td><code>"..."</code></td><td><strong>String literal</strong>, UTF-8, will interpret <code>\n</code> as <em>line break</em> <code>0xA</code>, &mldr;</td></tr><tr><td><code>r"..."</code></td><td><strong>Raw string literal</strong>. UTF-8, won&rsquo;t interpret <code>\n</code>, &mldr;</td></tr><tr><td><code>r#"..."#</code></td><td>Raw string literal, UTF-8, but can also contain <code>"</code>. Number of <code>#</code> can vary.</td></tr><tr><td><code>b"..."</code></td><td><strong>Byte string literal</strong>; constructs ASCII <code>[u8]</code>, not a string.</td></tr><tr><td><code>br"..."</code>, <code>br#"..."#</code></td><td>Raw byte string literal, ASCII <code>[u8]</code>, combination of the above.</td></tr><tr><td><code>'🦀'</code></td><td><strong>Character literal</strong>, fixed 4 byte unicode &lsquo;<strong>char</strong>&rsquo;.</td></tr><tr><td><code>b'x'</code></td><td>ASCII <strong>byte literal</strong>.</td></tr></tbody></table><h1 id=tbd>TBD</h1><ul><li><a href=https://mojotv.cn/rust/rust-cheatsheet-01-data-structures target=_blank rel=noopener>https://mojotv.cn/rust/rust-cheatsheet-01-data-structures</a> Rust-CheatSheet</li><li><a href="https://colobu.com/2020/03/05/A-half-hour-to-learn-Rust/?hmsr=toutiao.io&utm_medium=toutiao.io&utm_source=toutiao.io" target=_blank rel=noopener>https://colobu.com/2020/03/05/A-half-hour-to-learn-Rust/?hmsr=toutiao.io&utm_medium=toutiao.io&utm_source=toutiao.io</a></li></ul></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/awesome-cheatsheets/01.cs/language/rust/learn-rust-in-y-minutes/ rel=next>Learn Rust in Y Minutes</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>