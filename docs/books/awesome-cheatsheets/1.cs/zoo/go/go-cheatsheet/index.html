<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="ğŸ“– Go CheatSheet æ˜¯å¯¹äº Go å­¦ä¹ /å®è·µè¿‡ç¨‹ä¸­çš„è¯­æ³•ä¸æŠ€å·§è¿›è¡Œç›˜ç‚¹ï¼Œå…¶å±äº Awesome CheatSheet ç³»åˆ—ï¼Œè‡´åŠ›äºæå‡å­¦ä¹ é€Ÿåº¦ä¸ç ”å‘æ•ˆèƒ½ï¼Œå³å¯ä»¥å°†å…¶å½“åšé€ŸæŸ¥æ‰‹å†Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè½»é‡çº§çš„å…¥é—¨å­¦ä¹ èµ„æ–™ã€‚æœ¬æ–‡å‚è€ƒäº†è®¸å¤šä¼˜ç§€çš„æ–‡ç« ä¸ä»£ç ç¤ºèŒƒï¼Œç»Ÿä¸€å£°æ˜åœ¨"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/awesome-cheatsheets/1.cs/zoo/go/go-cheatsheet/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/awesome-cheatsheets/1.cs/zoo/go/go-cheatsheet/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/awesome-cheatsheets/1.cs/zoo/go/go-cheatsheet/"><meta property="og:title" content="Go-CheatSheet | Next-gen Tech Edu"><meta property="og:description" content="ğŸ“– Go CheatSheet æ˜¯å¯¹äº Go å­¦ä¹ /å®è·µè¿‡ç¨‹ä¸­çš„è¯­æ³•ä¸æŠ€å·§è¿›è¡Œç›˜ç‚¹ï¼Œå…¶å±äº Awesome CheatSheet ç³»åˆ—ï¼Œè‡´åŠ›äºæå‡å­¦ä¹ é€Ÿåº¦ä¸ç ”å‘æ•ˆèƒ½ï¼Œå³å¯ä»¥å°†å…¶å½“åšé€ŸæŸ¥æ‰‹å†Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè½»é‡çº§çš„å…¥é—¨å­¦ä¹ èµ„æ–™ã€‚æœ¬æ–‡å‚è€ƒäº†è®¸å¤šä¼˜ç§€çš„æ–‡ç« ä¸ä»£ç ç¤ºèŒƒï¼Œç»Ÿä¸€å£°æ˜åœ¨"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><meta property="article:modified_time" content="2023-03-05T15:38:23+08:00"><title>Go-CheatSheet | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=b083b0e1634c942f0e3673bbda3e0dfa><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>æœç´¢</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=å…³é—­><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=åˆ‡æ¢å¯¼èˆª>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>ç¬”è®°ï¼ˆä¸‡ç¯‡ï¼‰</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>çŸ¥è¯†å›¾è°±</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>å®éªŒå®¤</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft æ–¹å—ä¸–ç•Œ</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D çŸ¥è¯†å¡ç‰Œ</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>å…¶ä»–é˜…è¯»æ¸ é“</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>çŸ¥ä¹</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>æ˜é‡‘</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=æœç´¢><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Go</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>æœç´¢...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id960cc797d2c07fa738ce5ae692b9c884")' href=#id960cc797d2c07fa738ce5ae692b9c884 aria-expanded=false aria-controls=id960cc797d2c07fa738ce5ae692b9c884 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/>Zoo</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id960cc797d2c07fa738ce5ae692b9c884 aria-expanded=false aria-controls=id960cc797d2c07fa738ce5ae692b9c884><i class="fa-solid fa-angle-down" id=caret-id960cc797d2c07fa738ce5ae692b9c884></i></a></div><ul class="nav docs-sidenav collapse show" id=id960cc797d2c07fa738ce5ae692b9c884><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide0fcb107315f95a304118261bafb0270")' href=#ide0fcb107315f95a304118261bafb0270 aria-expanded=false aria-controls=ide0fcb107315f95a304118261bafb0270 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/c/>C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide0fcb107315f95a304118261bafb0270 aria-expanded=false aria-controls=ide0fcb107315f95a304118261bafb0270><i class="fa-solid fa-angle-right" id=caret-ide0fcb107315f95a304118261bafb0270></i></a></div><ul class="nav docs-sidenav collapse" id=ide0fcb107315f95a304118261bafb0270><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/c/cpp-cheatsheet/>CPP-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/c/morten-cpp-cheatsheet/>Morten-CPP-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb2edec274d6773aa2b745ae28d9c8e89")' href=#idb2edec274d6773aa2b745ae28d9c8e89 aria-expanded=false aria-controls=idb2edec274d6773aa2b745ae28d9c8e89 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/go/>Go</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb2edec274d6773aa2b745ae28d9c8e89 aria-expanded=false aria-controls=idb2edec274d6773aa2b745ae28d9c8e89><i class="fa-solid fa-angle-down" id=caret-idb2edec274d6773aa2b745ae28d9c8e89></i></a></div><ul class="nav docs-sidenav collapse show" id=idb2edec274d6773aa2b745ae28d9c8e89><li class="child level active"><a href=/books/awesome-cheatsheets/1.cs/zoo/go/go-cheatsheet/>Go-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/go/go-concurrentprogramming-cheatsheet/>Go-ConcurrentProgramming-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id097626e7138298cbf1117a47038e25b1")' href=#id097626e7138298cbf1117a47038e25b1 aria-expanded=false aria-controls=id097626e7138298cbf1117a47038e25b1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/java/>Java</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id097626e7138298cbf1117a47038e25b1 aria-expanded=false aria-controls=id097626e7138298cbf1117a47038e25b1><i class="fa-solid fa-angle-right" id=caret-id097626e7138298cbf1117a47038e25b1></i></a></div><ul class="nav docs-sidenav collapse" id=id097626e7138298cbf1117a47038e25b1><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/java/gradle-cheatsheet/>Gradle-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/java/java-cheatsheet/>Java-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/java/java-concurrentprogramming-cheatsheet/>Java-ConcurrentProgramming-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/java/java-styleguide-cheatsheet/>Java-StyleGuide-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/java/jvm-tuning-cheatsheet/>JVM-Tuning-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id93c46847b7800ad06ded8d50d401f062")' href=#id93c46847b7800ad06ded8d50d401f062 aria-expanded=false aria-controls=id93c46847b7800ad06ded8d50d401f062 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/javascript/>JavaScript</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id93c46847b7800ad06ded8d50d401f062 aria-expanded=false aria-controls=id93c46847b7800ad06ded8d50d401f062><i class="fa-solid fa-angle-right" id=caret-id93c46847b7800ad06ded8d50d401f062></i></a></div><ul class="nav docs-sidenav collapse" id=id93c46847b7800ad06ded8d50d401f062><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/javascript/dart-cheatsheet/>Dart-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/javascript/javascript-cheatsheet/>JavaScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/javascript/javascript-cheatsheet-en/>JavaScript-CheatSheet-en</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/javascript/typescript-cheatsheet/>TypeScript-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/javascript/v8-cheatsheet/>V8-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4fdb6a9c1c59dd283b33aaac86f9823e")' href=#id4fdb6a9c1c59dd283b33aaac86f9823e aria-expanded=false aria-controls=id4fdb6a9c1c59dd283b33aaac86f9823e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/python/>Python</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4fdb6a9c1c59dd283b33aaac86f9823e aria-expanded=false aria-controls=id4fdb6a9c1c59dd283b33aaac86f9823e><i class="fa-solid fa-angle-right" id=caret-id4fdb6a9c1c59dd283b33aaac86f9823e></i></a></div><ul class="nav docs-sidenav collapse" id=id4fdb6a9c1c59dd283b33aaac86f9823e><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/python/python-cheatsheet/>Python-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idca4491f13e9c41dd2694c1aaab8eb462")' href=#idca4491f13e9c41dd2694c1aaab8eb462 aria-expanded=false aria-controls=idca4491f13e9c41dd2694c1aaab8eb462 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/ruby/>Ruby</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idca4491f13e9c41dd2694c1aaab8eb462 aria-expanded=false aria-controls=idca4491f13e9c41dd2694c1aaab8eb462><i class="fa-solid fa-angle-right" id=caret-idca4491f13e9c41dd2694c1aaab8eb462></i></a></div><ul class="nav docs-sidenav collapse" id=idca4491f13e9c41dd2694c1aaab8eb462><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/ruby/ruby-cheatsheet/>Ruby-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id678b4e35fbe5b1cd15f6595bf4a17b45")' href=#id678b4e35fbe5b1cd15f6595bf4a17b45 aria-expanded=false aria-controls=id678b4e35fbe5b1cd15f6595bf4a17b45 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/rust/>Rust</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id678b4e35fbe5b1cd15f6595bf4a17b45 aria-expanded=false aria-controls=id678b4e35fbe5b1cd15f6595bf4a17b45><i class="fa-solid fa-angle-right" id=caret-id678b4e35fbe5b1cd15f6595bf4a17b45></i></a></div><ul class="nav docs-sidenav collapse" id=id678b4e35fbe5b1cd15f6595bf4a17b45><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/rust/rust-cheatsheet/>Rust-CheatSheet</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8df4b58de5c2496d1e3638c0ae21af1c")' href=#id8df4b58de5c2496d1e3638c0ae21af1c aria-expanded=false aria-controls=id8df4b58de5c2496d1e3638c0ae21af1c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/1.cs/zoo/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8df4b58de5c2496d1e3638c0ae21af1c aria-expanded=false aria-controls=id8df4b58de5c2496d1e3638c0ae21af1c><i class="fa-solid fa-angle-right" id=caret-id8df4b58de5c2496d1e3638c0ae21af1c></i></a></div><ul class="nav docs-sidenav collapse" id=id8df4b58de5c2496d1e3638c0ae21af1c><li class="child level"><a href=/books/awesome-cheatsheets/1.cs/zoo/swift/swift-cheatsheet/>Swift-CheatSheet</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>ç›®å½•</a></li></ul><nav id=TableOfContents><ul><li><a href=#package>Package</a></li><li><a href=#go-modules>Go Modules</a><ul><li><a href=#æ¨¡å—ç»“æ„>æ¨¡å—ç»“æ„</a></li><li><a href=#å¤–éƒ¨ä¾èµ–>å¤–éƒ¨ä¾èµ–</a></li></ul></li><li><a href=#åˆå§‹åŒ–å‡½æ•°>åˆå§‹åŒ–å‡½æ•°</a></li></ul><ul><li><a href=#å˜é‡å£°æ˜ä¸èµ‹å€¼>å˜é‡å£°æ˜ä¸èµ‹å€¼</a></li><li><a href=#æ¡ä»¶åˆ¤æ–­>æ¡ä»¶åˆ¤æ–­</a><ul><li><a href=#switch>Switch</a></li></ul></li><li><a href=#å¾ªç¯>å¾ªç¯</a></li></ul><ul><li><a href=#å®šä¹‰å‚æ•°ä¸è¿”å›å€¼>å®šä¹‰ï¼Œå‚æ•°ä¸è¿”å›å€¼</a></li><li><a href=#é—­åŒ…--closure>é—­åŒ… | Closure</a></li><li><a href=#å‡½æ•°æ‰§è¡Œ>å‡½æ•°æ‰§è¡Œ</a></li><li><a href=#å¼‚å¸¸å¤„ç†>å¼‚å¸¸å¤„ç†</a></li><li><a href=#panic-ä¸-recover>Panic ä¸ Recover</a></li></ul><ul><li><a href=#ç±»å‹ç»‘å®šä¸åˆå§‹åŒ–>ç±»å‹ç»‘å®šä¸åˆå§‹åŒ–</a></li><li><a href=#åŸºæœ¬æ•°æ®ç±»å‹>åŸºæœ¬æ•°æ®ç±»å‹</a><ul><li><a href=#å­—ç¬¦ä¸²>å­—ç¬¦ä¸²</a></li></ul></li><li><a href=#åºåˆ—ç±»å‹>åºåˆ—ç±»å‹</a><ul><li><a href=#array>Array</a></li><li><a href=#slice>Slice</a></li></ul></li><li><a href=#map--æ˜ å°„ç±»å‹>Map | æ˜ å°„ç±»å‹</a></li></ul><ul><li><a href=#struct--ç»“æ„ä½“>Struct | ç»“æ„ä½“</a><ul><li><a href=#new-ä¸-make>new ä¸ make</a></li></ul></li><li><a href=#pointer--æŒ‡é’ˆ>Pointer | æŒ‡é’ˆ</a></li><li><a href=#interface--æ¥å£>Interface | æ¥å£</a></li><li><a href=#embedding--åµŒå…¥>Embedding | åµŒå…¥</a></li><li><a href=#reflection--generics--åå°„ä¸æ³›å‹>Reflection & Generics | åå°„ä¸æ³›å‹</a></li></ul><ul><li><a href=#http-server>HTTP Server</a></li><li><a href=#beego>Beego</a></li></ul><ul><li><a href=#æ–‡ä»¶è¯»å†™>æ–‡ä»¶è¯»å†™</a></li><li><a href=#æµ‹è¯•>æµ‹è¯•</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=ç‹ä¸‹é‚€æœˆç†Šçš„å¾®ä¿¡å…¬ä¼—å·></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Go-CheatSheet</h1><div class=article-style><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://user-images.githubusercontent.com/5803001/38078769-e6b9ecea-336f-11e8-89c8-b40880b3428c.jpg alt=group loading=lazy data-zoomable></div></div></figure></p><blockquote><p>ğŸ“– <a href=https://github.com/wx-chevalier/Awesome-CheatSheets/blob/master/ProgrammingLanguage/Go/Go-CheatSheet.md target=_blank rel=noopener>Go CheatSheet</a> æ˜¯å¯¹äº Go å­¦ä¹ /å®è·µè¿‡ç¨‹ä¸­çš„è¯­æ³•ä¸æŠ€å·§è¿›è¡Œç›˜ç‚¹ï¼Œå…¶å±äº <a href=https://github.com/wx-chevalier/Awesome-CheatSheets/ target=_blank rel=noopener>Awesome CheatSheet</a> ç³»åˆ—ï¼Œè‡´åŠ›äºæå‡å­¦ä¹ é€Ÿåº¦ä¸ç ”å‘æ•ˆèƒ½ï¼Œå³å¯ä»¥å°†å…¶å½“åšé€ŸæŸ¥æ‰‹å†Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè½»é‡çº§çš„å…¥é—¨å­¦ä¹ èµ„æ–™ã€‚æœ¬æ–‡å‚è€ƒäº†è®¸å¤šä¼˜ç§€çš„æ–‡ç« ä¸ä»£ç ç¤ºèŒƒï¼Œç»Ÿä¸€å£°æ˜åœ¨äº† <a href=https://github.com/wx-chevalier/Awesome-Lists/blob/master/ProgrammingLanguage/Go/Go-List.md target=_blank rel=noopener>Go Links</a>ï¼›å¦‚æœå¸Œæœ›æ·±å…¥äº†è§£æŸæ–¹é¢çš„å†…å®¹ï¼Œå¯ä»¥ç»§ç»­é˜…è¯» <a href=https://github.com/wx-chevalier/ProgrammingLanguage-Series/blob/master/Go/README.md target=_blank rel=noopener>Go å¼€å‘ï¼šè¯­æ³•åŸºç¡€ä¸å·¥ç¨‹å®è·µ</a>ï¼Œæˆ–è€…å‰å¾€ <a href=https://github.com/wx-chevalier/coding-snippets/ target=_blank rel=noopener>coding-snippets/go</a> æŸ¥çœ‹ä½¿ç”¨ Go è§£å†³å¸¸è§çš„æ•°æ®ç»“æ„ä¸ç®—æ³•ã€è®¾è®¡æ¨¡å¼ã€ä¸šåŠ¡åŠŸèƒ½æ–¹é¢çš„ä»£ç å®ç°ã€‚</p></blockquote><h1 id=go-cheatsheet--go-è¯­æ³•é€Ÿè§ˆä¸å®è·µæ¸…å•>Go CheatSheet | Go è¯­æ³•é€Ÿè§ˆä¸å®è·µæ¸…å•</h1><p>Go (a.k.a. Golang) is a statically-typed programming language first developed at Google. It is derived from C with additional features such as garbage collection, type safety, dynamic-typing capabilities, additional built-in types, and a large standard library.</p><p>å¯ä»¥å‰å¾€<a href=https://golang.org/dl/ target=_blank rel=noopener>è¿™é‡Œ</a>ä¸‹è½½ Go SDK å®‰è£…åŒ…ï¼Œæˆ–è€…ä½¿ç”¨ brew ç­‰åŒ…ç®¡ç†å™¨å®‰è£…ã€‚ç°åœ¨æˆ‘ä»¬ä¹Ÿæ¨èä½¿ç”¨ <a href=https://github.com/moovweb/gvm target=_blank rel=noopener>gvm</a> è¿™æ ·çš„ä¸“ç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ¥æ–¹ä¾¿åœ°æ›´æ–°ä¸åˆ‡æ¢ç‰ˆæœ¬ã€‚ç¯å¢ƒé…ç½®å®Œæ¯•åï¼Œå¯ä»¥ä½¿ç”¨ go get è·å–ä¾èµ–ï¼Œgo run è¿è¡Œç¨‹åºï¼Œgo build æ¥ç¼–è¯‘é¡¹ç›®ç”Ÿæˆä¸åŒ…å(æ–‡ä»¶å¤¹å)ä¸€è‡´çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚Golang 1.8 ä¹‹åæ”¯æŒ dep ä¾èµ–ç®¡ç†å·¥å…·ï¼Œå¯¹äºç©ºçš„é¡¹ç›®ä½¿ç”¨ dep init åˆå§‹åŒ–ä¾èµ–é…ç½®ï¼Œå…¶ä¼šç”Ÿæˆ <code>Gopkg.toml Gopkg.lock vendor/</code> è¿™ä¸‰ä¸ªæ–‡ä»¶(å¤¹)ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹äº Go çš„å¸¸ç”¨è¯­æ³•æœ‰æ‰€äº†è§£ï¼ŒGo è¯­è¨€è®¾è®¡çš„å…³é”®å­—ï¼Œäº†è§£è¿™äº›å…³é”®å­—æœ‰åŠ©äºå‘½åå˜é‡çš„å†²çªé¿å…ï¼š</p><pre tabindex=0><code>break    default      func    interface    select
case     defer        go      map          struct
chan     else         goto    package      switch
const    fallthrough  if      range        type
continue for          import  return       var
</code></pre><h1 id=åŒ…ç®¡ç†ä¸æ¨¡å—æœºåˆ¶>åŒ…ç®¡ç†ä¸æ¨¡å—æœºåˆ¶</h1><p>Golang çš„åŒ…ç®¡ç†æ˜¯ä¸€ç›´æ˜¯ä¸ºäººè¯Ÿç—…ä¹‹å¤„ï¼Œä» Golang 1.5 å¼•å…¥çš„ vendor æœºåˆ¶ï¼Œåˆ°å‡†å®˜æ–¹å·¥å…· dep, å†åˆ° Go 1.11 å¼•å…¥äº† Go Modulesï¼Œå…¶åŒ…ç®¡ç†ä¸æ¨¡å—æœºåˆ¶ä¸€ç›´ä¹Ÿåœ¨ä¸æ–­åœ°å®Œå–„ã€‚</p><h2 id=package>Package</h2><p>æ—©æœŸ Go å‘½ä»¤ä¾èµ–äº GOPATH ç¯å¢ƒå˜é‡è¿›è¡Œä»£ç ç»„ç»‡ï¼Œå¤šé¡¹ç›®æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ ln è¿›è¡Œç›®å½•æ˜ å°„ä»¥æ–¹ä¾¿è¿›è¡Œé¡¹ç›®ç®¡ï¼›GOPATH å…è®¸è®¾ç½®å¤šä¸ªç›®å½•ï¼Œæ¯ä¸ªç›®å½•éƒ½ä¼šåŒ…å«ä¸‰ä¸ªå­ç›®å½•ï¼šsrc ç”¨äºå­˜æ”¾æºä»£ç ï¼Œpkg ç”¨äºå­˜æ”¾ç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶ï¼Œbin ç”¨äºå­˜æ”¾ç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>Go å¹¶æ²¡æœ‰ç›¸å¯¹è·¯å¾„å¼•å…¥ï¼Œè€Œæ˜¯ä»¥æ–‡ä»¶å¤¹ä¸ºå•ä½å®šä¹‰æ¨¡å—ï¼›å¹¶ä¸”è§„å®šæ¯ä¸ªæºæ–‡ä»¶çš„é¦–éƒ¨éœ€è¦è¿›è¡ŒåŒ…å£°æ˜ï¼Œå¯æ‰§è¡Œæ–‡ä»¶é»˜è®¤æ”¾åœ¨ main åŒ…ä¸­ã€‚å¦‚ä¸Šæ–‡æ‰€è¿°ï¼ŒGOPATH ç¯å¢ƒå˜é‡ä¸ºæˆ‘ä»¬æŒ‡æ˜äº†æœ¬åœ°å·¥ä½œç©ºé—´çš„åœ°å€ï¼Œè€Œæ¯ä¸ªå¯¼å…¥è·¯å¾„éƒ½ä¼šæŒ‡æ˜å”¯ä¸€çš„åŒ…ã€‚æ ‡å‡†åº“ä¸­çš„åŒ…å¾€å¾€æ˜¯ <code>fmt</code>, <code>net/http</code> è¿™æ ·çš„çŸ­è·¯å¾„ï¼›è€Œå¯¹äºè‡ªå®šä¹‰çš„åŒ…ï¼Œåˆ™å¿…é¡»æŒ‡æ˜æ ¹è·¯å¾„ä»¥é¿å…æ½œåœ¨çš„å†²çªã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº† Github è¿™æ ·çš„æºç ä»“åº“ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>github.com/user</code> ä½œä¸ºæ ¹è·¯å¾„ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// goworkdir/src/project1/utils/auth.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>utils</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test1</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s>&#34;Test1&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// goworkdir/src/project1/controllers/login.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>controllers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;project1/utils&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test2</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>utils</span><span class=p>.</span><span class=nf>Test1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// goworkdir/src/project1/main.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;project1/controllers&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>controllers</span><span class=p>.</span><span class=nf>Test2</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go ä¸­è¿˜å…è®¸é’ˆå¯¹ä¸åŒçš„ç¼–è¯‘ç›®æ ‡å¹³å°å¼•å…¥ä¸åŒçš„æ–‡ä»¶:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>mypkg_linux</span><span class=p>.</span><span class=k>go</span>         <span class=c1>// only builds on linux systems
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>mypkg_windows_amd64</span><span class=p>.</span><span class=k>go</span> <span class=c1>// only builds on windows 64bit platforms
</span></span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>dep ensure -add github.com/pkg/errors</code> æ·»åŠ ä¾èµ–ï¼Œè¿è¡Œä¹‹åï¼Œå…¶ä¼šåœ¨ toml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é”ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>constraint</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;github.com/pkg/errors&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;0.8.0&#34;</span>
</span></span></code></pre></div><p>ç®€å•çš„ Go ä¸­ Hello World ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=go-modules>Go Modules</h2><p>Go Modules å°†åŒ…åä¸è·¯å¾„åˆ†ç¦»ï¼Œå¯ä»¥å­˜æ”¾äºæ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä»»ä½•ä¸ºæ­¢ï¼Œè€Œä¸ç”¨ç®¡ GOPATH è·¯å¾„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä»»æ„çš„é¡¹ç›®ç›®å½•:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ mkdir -p /tmp/scratchpad/hello
</span></span><span class=line><span class=cl>$ <span class=nb>cd</span> /tmp/scratchpad/hello
</span></span></code></pre></div><p>ç„¶ååˆå§‹åŒ–æ‰€éœ€è¦çš„æ¨¡å—:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ go mod init github.com/you/hello
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>go: creating new go.mod: module github.com/you/hello
</span></span></code></pre></div><p>ç„¶åç…§å¸¸ç¼–å†™ Go æ¨¡å—ä»£ç :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// hello.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;rsc.io/quote&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>quote</span><span class=p>.</span><span class=nf>Hello</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>åœ¨æ‰§è¡Œ <code>go build</code> å‘½ä»¤ä¹‹åï¼Œå³å¯ä»¥åœ¨ <code>go.mod</code> æ–‡ä»¶ä¸­æŸ¥çœ‹æ¨¡å—å®šä¹‰ä¸æ˜¾å¼çš„å£°æ˜:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ cat go.mod
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>module github.com/you/hello
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>require rsc.io/quote v1.5.2
</span></span></code></pre></div><h3 id=æ¨¡å—ç»“æ„>æ¨¡å—ç»“æ„</h3><p>æ¨¡å—æ˜¯åŒ…å«äº† Go æºæ–‡ä»¶çš„ç›®å½•æ ‘ï¼Œå¹¶åœ¨æ ¹ç›®å½•ä¸­æ·»åŠ äº†åä¸º go.mod çš„æ–‡ä»¶ï¼Œgo.mod åŒ…å«æ¨¡å—å¯¼å…¥åç§°ï¼Œå£°æ˜äº†è¦æ±‚çš„ä¾èµ–é¡¹ï¼Œæ’é™¤çš„ä¾èµ–é¡¹å’Œæ›¿æ¢çš„ä¾èµ–é¡¹ã€‚</p><pre tabindex=0><code>module my/thing

require (
        one/thing v1.3.2
        other/thing v2.5.0 // indirect
        ...
)

exclude (
        bad/thing v0.7.3
)

replace (
        src/thing 1.0.2 =&gt; dst/thing v1.1.0
)
</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–‡ä»¶ä¸­å£°æ˜çš„ä¾èµ–ï¼Œå¹¶ä¸ä¼šåœ¨æ¨¡å—çš„æºä»£ç ä¸­ä½¿ç”¨ import è‡ªåŠ¨å¯¼å…¥ï¼Œè¿˜æ˜¯éœ€è¦æˆ‘ä»¬äººå·¥æ·»åŠ  import è¯­å¥æ¥å¯¼å…¥çš„ã€‚æ¨¡å—å¯ä»¥åŒ…å«å…¶ä»–æ¨¡å—ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬çš„å†…å®¹å°†ä»çˆ¶æ¨¡å—ä¸­æ’é™¤ã€‚é™¤äº† go.mod æ–‡ä»¶å¤–ï¼Œè·Ÿç›®å½•ä¸‹è¿˜å¯ä»¥å­˜åœ¨ä¸€ä¸ªåä¸º go.sum çš„æ–‡ä»¶ï¼Œç”¨äºä¿å­˜æ‰€æœ‰çš„ä¾èµ–é¡¹çš„å“ˆå¸Œæ‘˜è¦æ ¡éªŒä¹‹ï¼Œç”¨äºéªŒè¯ç¼“å­˜çš„ä¾èµ–é¡¹æ˜¯å¦æ»¡è¶³æ¨¡å—è¦æ±‚ã€‚</p><h3 id=å¤–éƒ¨ä¾èµ–>å¤–éƒ¨ä¾èµ–</h3><p>æ¨¡å—ä¾èµ–é¡¹ä¼šè¢«ä¸‹è½½å¹¶å­˜å‚¨åˆ° <code>GOPATH/src/mod</code> ç›®å½•ä¸­ï¼Œç›´æ¥åæœå°±æ˜¯åºŸé™¤äº†æ¨¡å—çš„ç»„ç»‡åç§°ã€‚å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘çš„é¡¹ç›®ä¾èµ–äº github.com/me/lib ä¸”ç‰ˆæœ¬å· 1.0.0 çš„æ¨¡å—ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨ GOPATH/src/mod ä¸­æ–‡ä»¶ç»“æ„å¦‚ä¸‹</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://www.twle.cn/static/i/golang/20180803_golang_3.png alt loading=lazy data-zoomable></div></div></figure></p><p>Go çš„æ¨¡å—ç‰ˆæœ¬å·å¿…é¡»ä»¥ v å¼€å¤´ï¼Œåœ¨å‘å¸ƒç‰ˆæœ¬æ—¶å¯ä»¥é€šè¿‡ Tag æ–¹å¼æ¥æŒ‡å®šä¸åŒçš„ç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>go mod tidy</code> æ¥ç§»é™¤æœªè¢«ä½¿ç”¨çš„ä¾èµ–ï¼Œä½¿ç”¨ <code>go mod vendor</code> å¯ä»¥ç”Ÿæˆç‹¬ç«‹çš„ vendor ç›®å½•ã€‚</p><h2 id=åˆå§‹åŒ–å‡½æ•°>åˆå§‹åŒ–å‡½æ•°</h2><p>å„ä¸ªåŒ…ä¸­é»˜è®¤é¦–å­—æ¯å¤§å†™çš„å‡½æ•°ä½œä¸ºå…¶ä»–åŒ…å¯è§çš„å¯¼å‡ºå‡½æ•°ï¼Œè€Œå°å†™å‡½æ•°åˆ™é»˜è®¤å¤–éƒ¨ä¸å¯è§çš„ç§æœ‰å‡½æ•°ã€‚Go å…è®¸åœ¨æ–‡ä»¶ä¸­åŒ…å«åˆå§‹åŒ–å‡½æ•°ï¼Œé»˜è®¤ä½¿ç”¨ <code>_</code> å¼•å…¥çš„åŒ…ä»…è°ƒç”¨åˆå§‹åŒ–å‡½æ•°ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>mongo</span> <span class=s2>&#34;mywebapp/libs/mongodb/db&#34;</span> <span class=o>//</span> <span class=n>å¯¹å¼•å…¥çš„æ¨¡å—é‡å‘½å</span>
</span></span><span class=line><span class=cl>        <span class=n>_</span> <span class=s2>&#34;mywebapp/libs/mysql/db&#34;</span> <span class=o>//</span> <span class=n>ä½¿ç”¨ç©ºç™½ä¸‹åˆ’çº¿è¡¨ç¤ºä»…è°ƒç”¨å…¶åˆå§‹åŒ–å‡½æ•°</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><p>åˆå§‹åŒ–å‡½æ•°ä¼šäºå±æ€§åˆå§‹åŒ–ä¹‹åè¢«è°ƒç”¨ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// sandbox.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>_</span> <span class=kt>int64</span> <span class=p>=</span> <span class=nf>s</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;init in sandbox.go&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>s</span><span class=p>()</span> <span class=kt>int64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;calling s() in sandbox.go&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// a.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>_</span> <span class=kt>int64</span> <span class=p>=</span> <span class=nf>a</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;init in a.go&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>a</span><span class=p>()</span> <span class=kt>int64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;calling a() in a.go&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* è¾“å‡ºç»“æœ
</span></span></span><span class=line><span class=cl><span class=cm>calling a() in a.go
</span></span></span><span class=line><span class=cl><span class=cm>calling s() in sandbox.go
</span></span></span><span class=line><span class=cl><span class=cm>init in a.go
</span></span></span><span class=line><span class=cl><span class=cm>init in sandbox.go
</span></span></span><span class=line><span class=cl><span class=cm>main
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><p>è€Œå•ä¸ªæ–‡ä»¶ä¸­ä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªåˆå§‹åŒ–å‡½æ•°ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;init 1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;init 2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;main&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=è¡¨è¾¾å¼ä¸æ§åˆ¶æµ>è¡¨è¾¾å¼ä¸æ§åˆ¶æµ</h1><h2 id=å˜é‡å£°æ˜ä¸èµ‹å€¼>å˜é‡å£°æ˜ä¸èµ‹å€¼</h2><p>ä½œä¸ºå¼ºç±»å‹é™æ€è¯­è¨€ï¼ŒGo å…è®¸æˆ‘ä»¬åœ¨å˜é‡ä¹‹åæ ‡è¯†æ•°æ®ç±»å‹ï¼Œä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„åŠŸèƒ½ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å‡½æ•°ä½“å¤– Go ä»…å…è®¸ä½¿ç”¨å£°æ˜å¼è¯­å¥ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// å£°æ˜ä¸‰ä¸ªå˜é‡ï¼Œçš†ä¸º bool ç±»å‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>c</span><span class=p>,</span> <span class=nx>python</span><span class=p>,</span> <span class=nx>java</span> <span class=kt>bool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜ä¸åŒç±»å‹çš„å˜é‡ï¼Œå¹¶ä¸”èµ‹å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>i</span> <span class=kt>bool</span><span class=p>,</span> <span class=nx>j</span> <span class=kt>int</span> <span class=p>=</span> <span class=kc>true</span><span class=p>,</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¤æ‚å˜é‡å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=nx>ToBe</span>   <span class=kt>bool</span>       <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>	<span class=nx>MaxInt</span> <span class=kt>uint64</span>     <span class=p>=</span> <span class=mi>1</span><span class=o>&lt;&lt;</span><span class=mi>64</span> <span class=o>-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>	<span class=nx>z</span>      <span class=kt>complex128</span> <span class=p>=</span> <span class=nx>cmplx</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span> <span class=o>+</span> <span class=m>12i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// çŸ­å£°æ˜å˜é‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>c</span><span class=p>,</span> <span class=nx>python</span><span class=p>,</span> <span class=nx>java</span> <span class=o>:=</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=s>&#34;no!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜å¸¸é‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>const</span> <span class=nx>constant</span> <span class=p>=</span> <span class=s>&#34;This is a constant&#34;</span>
</span></span></code></pre></div><p>åœ¨ Go ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå¤æ‚å¯¹è±¡çš„ç›¸ä¼¼æ€§ï¼Œå¯ä»¥ä½¿ç”¨ reflect.DeepEqual æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>m1</span> <span class=o>:=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;a&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;b&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>m2</span> <span class=o>:=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;a&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;b&#34;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>reflect</span><span class=p>.</span><span class=nf>DeepEqual</span><span class=p>(</span><span class=nx>m1</span><span class=p>,</span> <span class=nx>m2</span><span class=p>))</span>
</span></span></code></pre></div><h2 id=æ¡ä»¶åˆ¤æ–­>æ¡ä»¶åˆ¤æ–­</h2><p>Go æä¾›äº†å¢å¼ºå‹çš„ if è¯­å¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// åŸºç¡€å½¢å¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=nx>x</span> <span class=p>&gt;</span> <span class=mi>0</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>-</span><span class=nx>x</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ¡ä»¶åˆ¤æ–­ä¹‹å‰æ·»åŠ è‡ªå®šä¹‰è¯­å¥
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=nx>a</span> <span class=o>:=</span> <span class=nx>b</span> <span class=o>+</span> <span class=nx>c</span><span class=p>;</span> <span class=nx>a</span> <span class=p>&lt;</span> <span class=mi>42</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>a</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>a</span> <span class=o>-</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>val</span> <span class=kd>interface</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>val</span> <span class=p>=</span> <span class=s>&#34;foo&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>str</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=nx>val</span><span class=p>.(</span><span class=kt>string</span><span class=p>);</span> <span class=nx>ok</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=switch>Switch</h3><p>Go ä¹Ÿæ”¯æŒä½¿ç”¨ Switch è¯­å¥ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// åŸºç¡€æ ¼å¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>switch</span> <span class=nx>operatingSystem</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s>&#34;darwin&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Mac OS Hipster&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>// é»˜è®¤ breakï¼Œä¸éœ€è¦æ˜¾å¼å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=s>&#34;linux&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Linux Geek&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Windows, BSD, ...
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Other&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç±»ä¼¼äº ifï¼Œå¯ä»¥åœ¨æ¡ä»¶ä¹‹å‰æ·»åŠ è‡ªå®šä¹‰è¯­å¥
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>switch</span> <span class=nx>os</span> <span class=o>:=</span> <span class=nx>runtime</span><span class=p>.</span><span class=nx>GOOS</span><span class=p>;</span> <span class=nx>os</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s>&#34;darwin&#34;</span><span class=p>:</span> <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä½¿ç”¨ switch è¯­å¥è¿›è¡Œç±»å‹åˆ¤æ–­ï¼š
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>switch</span> <span class=nx>v</span> <span class=o>:=</span> <span class=nx>anything</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=kt>string</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=kt>int32</span><span class=p>,</span> <span class=kt>int64</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;unknown&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Switch ä¸­ä¹Ÿæ”¯æŒè¿›è¡Œæ¯”è¾ƒï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>number</span> <span class=o>:=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=nx>number</span> <span class=p>&lt;</span> <span class=mi>42</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Smaller&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=nx>number</span> <span class=o>==</span> <span class=mi>42</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Equal&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=nx>number</span> <span class=p>&gt;</span> <span class=mi>42</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Greater&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>æˆ–è€…è¿›è¡Œå¤šæ¡ä»¶åŒ¹é…ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>char</span> <span class=kt>byte</span> <span class=p>=</span> <span class=sc>&#39;?&#39;</span>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=nx>char</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=sc>&#39; &#39;</span><span class=p>,</span> <span class=sc>&#39;?&#39;</span><span class=p>,</span> <span class=sc>&#39;&amp;&#39;</span><span class=p>,</span> <span class=sc>&#39;=&#39;</span><span class=p>,</span> <span class=sc>&#39;#&#39;</span><span class=p>,</span> <span class=sc>&#39;+&#39;</span><span class=p>,</span> <span class=sc>&#39;%&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Should escape&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Switch ä¸­è¿˜æ”¯æŒå¯¹äºç±»å‹çš„æ¡ä»¶åˆ¤æ–­ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>T</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>t</span> <span class=o>:=</span> <span class=nx>T</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=kd>interface</span><span class=p>{})(</span><span class=nx>t</span><span class=p>).(</span><span class=kd>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nx>T</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=s>&#34;1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=å¾ªç¯>å¾ªç¯</h2><p>Go æ”¯æŒä½¿ç”¨ for è¯­å¥è¿›è¡Œå¾ªç¯ï¼Œä¸å­˜åœ¨ while æˆ–è€… until:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// while - loop
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span><span class=p>;</span>  <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å•æ¡ä»¶æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥åˆ†å·
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span>  <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ~ while (true)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ range å‡½æ•°ï¼Œå¯¹äº Arrays ä¸ Slices è¿›è¡Œéå†:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// loop over an array/a slice
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>e</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>a</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// i è¡¨ç¤ºä¸‹æ ‡ï¼Œe è¡¨ç¤ºå…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä»…éœ€è¦å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>e</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>a</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// e is the element
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æˆ–è€…ä»…éœ€è¦ä¸‹æ ‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>a</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®šæ—¶æ‰§è¡Œ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=k>range</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Tick</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// do it once a sec
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><p>å› ä¸º Go æ²¡æœ‰é€—å·è¿ç®—ç¬¦ï¼Œå¹¶ä¸” ++ ä¸ &ndash; æ˜¯è¯­å¥è€Œéè¡¨è¾¾å¼ï¼Œå› æ­¤å½“æˆ‘ä»¬æƒ³è¦å»åŒæ—¶å¤„ç†å¤šä¸ªå˜é‡æ—¶ï¼Œéœ€è¦ä½¿ç”¨å¹¶è¡Œèµ‹å€¼:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// Reverse a
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>j</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>j</span><span class=p>;</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>j</span> <span class=p>=</span> <span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=nx>j</span><span class=o>-</span><span class=mi>1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>a</span><span class=p>[</span><span class=nx>i</span><span class=p>],</span> <span class=nx>a</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=p>=</span> <span class=nx>a</span><span class=p>[</span><span class=nx>j</span><span class=p>],</span> <span class=nx>a</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=function--å‡½æ•°>Function | å‡½æ•°</h1><h2 id=å®šä¹‰å‚æ•°ä¸è¿”å›å€¼>å®šä¹‰ï¼Œå‚æ•°ä¸è¿”å›å€¼</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// ç®€å•å‡½æ•°å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>functionName</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å«å‚å‡½æ•°å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>functionName</span><span class=p>(</span><span class=nx>param1</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>param2</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¤šä¸ªç›¸åŒç±»å‹å‚æ•°çš„å‡½æ•°å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>functionName</span><span class=p>(</span><span class=nx>param1</span><span class=p>,</span> <span class=nx>param2</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å‡½æ•°è¡¨è¾¾å¼å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>add</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go æ”¯æŒå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ä½¿ç”¨ &mldr; è®¾ç½®ä¸ºä¸å®šå‚æ•°ï¼Œå³å¯ä»¥ä¼ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°å€¼ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>adder</span><span class=p>(</span><span class=nx>args</span> <span class=o>...</span><span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>total</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>v</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>args</span> <span class=p>{</span> <span class=c1>// Iterates over the arguments whatever the number.
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=nx>total</span> <span class=o>+=</span> <span class=nx>v</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>total</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>adder</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=c1>// 6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>adder</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=c1>// 18
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>nums</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nf>adder</span><span class=p>(</span><span class=nx>nums</span><span class=o>...</span><span class=p>)</span> <span class=c1>// 60
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// ä¼ å…¥ä»»æ„ç±»å‹çš„ä¸å®šå‚æ•°
</span></span></span></code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Function Stub ä½œä¸ºå‡½æ•°å‚æ•°ä¼ å…¥ï¼Œä»¥å®ç°å›è°ƒå‡½æ•°çš„åŠŸèƒ½ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Filter</span><span class=p>(</span><span class=nx>s</span> <span class=p>[]</span><span class=kt>int</span><span class=p>,</span> <span class=nx>fn</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=kt>bool</span><span class=p>)</span> <span class=p>[]</span><span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>p</span> <span class=p>[]</span><span class=kt>int</span> <span class=c1>// == nil
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>v</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>s</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nf>fn</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>p</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>p</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>p</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go æ”¯æŒå¤šä¸ªè¿”å›å€¼ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// è¿”å›å•ä¸ªå€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>functionName</span><span class=p>()</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¿”å›å¤šä¸ªå€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>returnMulti</span><span class=p>()</span> <span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>42</span><span class=p>,</span> <span class=s>&#34;foobar&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>str</span> <span class=p>=</span> <span class=nf>returnMulti</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å‘½åè¿”å›å¤šä¸ªå€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>returnMulti2</span><span class=p>()</span> <span class=p>(</span><span class=nx>n</span> <span class=kt>int</span><span class=p>,</span> <span class=nx>s</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>n</span> <span class=p>=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>    <span class=nx>s</span> <span class=p>=</span> <span class=s>&#34;foobar&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// n and s will be returned
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>str</span> <span class=p>=</span> <span class=nf>returnMulti2</span><span class=p>()</span>
</span></span></code></pre></div><p>è™½ç„¶ Go ä¸æ˜¯å‡½æ•°å¼è¯­è¨€ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨å…¶å®ç°æŸ¯é‡Œå‡½æ•°(Currying Function):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>add</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>x</span><span class=o>+</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>adder</span><span class=p>(</span><span class=nx>x</span> <span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kd>func</span><span class=p>(</span><span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nf>add</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>add3</span> <span class=o>:=</span> <span class=nf>adder</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>add3</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span>    <span class=c1>// 7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h2 id=é—­åŒ…--closure>é—­åŒ… | Closure</h2><p>Go åŒæ ·æ”¯æŒè¯æ³•ä½œç”¨åŸŸä¸å˜é‡ä¿ç•™ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥è®¿é—®å‡½æ•°å®šä¹‰å¤„å¤–å±‚çš„å˜é‡ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>scope</span><span class=p>()</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>int</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>outer_var</span> <span class=o>:=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=nx>foo</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>int</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>outer_var</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>foo</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>é—­åŒ…ä¸­å¹¶ä¸èƒ½å¤Ÿç›´æ¥ä¿®æ”¹å¤–å±‚å˜é‡ï¼Œè€Œæ˜¯ä¼šè‡ªåŠ¨é‡å®šä¹‰æ–°çš„å˜é‡å€¼ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>outer</span><span class=p>()</span> <span class=p>(</span><span class=kd>func</span><span class=p>()</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>outer_var</span> <span class=o>:=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=nx>inner</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>outer_var</span> <span class=o>+=</span> <span class=mi>99</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>outer_var</span> <span class=c1>// =&gt; 101 (but outer_var is a newly redefined
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>inner</span><span class=p>,</span> <span class=nx>outer_var</span> <span class=c1>// =&gt; 101, 2 (outer_var is still 2, not mutated by inner!)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h2 id=å‡½æ•°æ‰§è¡Œ>å‡½æ•°æ‰§è¡Œ</h2><p>Go ä¸­æä¾›äº† defer å…³é”®å­—ï¼Œå…è®¸å°†æŸä¸ªè¯­å¥çš„æ‰§è¡Œæ¨è¿Ÿåˆ°å‡½æ•°è¿”å›è¯­å¥ä¹‹å‰ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>read</span><span class=p>(</span><span class=o>...</span><span class=p>)</span> <span class=p>(</span><span class=o>...</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>f</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Open</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=o>...</span>
</span></span><span class=line><span class=cl>  <span class=k>defer</span> <span class=nx>f</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=o>...</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>..</span> <span class=c1>// f will be closed
</span></span></span></code></pre></div><p>å¤šä¸ª defer å‡ºç°çš„æ—¶å€™ï¼Œå¤šä¸ª defer ä¹‹é—´æŒ‰ç…§ LIFOï¼ˆåè¿›å…ˆå‡ºï¼‰çš„é¡ºåºæ‰§è¡Œ:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=kd>func</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=kd>func</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=kd>func</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;3&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=å¼‚å¸¸å¤„ç†>å¼‚å¸¸å¤„ç†</h2><p>Go è¯­è¨€ä¸­å¹¶ä¸å­˜åœ¨ try-catch ç­‰å¼‚å¸¸å¤„ç†çš„å…³é”®å­—ï¼Œå¯¹äºé‚£äº›å¯èƒ½è¿”å›å¼‚å¸¸çš„å‡½æ•°ï¼Œåªéœ€è¦åœ¨å‡½æ•°è¿”å›å€¼ä¸­æ·»åŠ é¢å¤–çš„ Error ç±»å‹çš„è¿”å›å€¼ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=kt>error</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Error</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>æŸä¸ªå¯èƒ½è¿”å›å¼‚å¸¸çš„å‡½æ•°è°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>result</span><span class=p>,</span> <span class=nx>err</span><span class=o>:=</span> <span class=nf>Divide</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Divide</span><span class=p>(</span><span class=nx>value1</span> <span class=kt>int</span><span class=p>,</span><span class=nx>value2</span> <span class=kt>int</span><span class=p>)(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=nx>value2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>errors</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=s>&#34;value2 mustn&#39;t be zero&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>value1</span><span class=o>/</span><span class=nx>value2</span> <span class=p>,</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=panic-ä¸-recover>Panic ä¸ Recover</h2><p>Go è¿˜ä¸ºæˆ‘ä»¬æä¾›äº† panic å‡½æ•°ï¼Œæ‰€è°“ panicï¼Œå³æ˜¯æœªè·å¾—é¢„æœŸç»“æœï¼Œå¸¸ç”¨äºæŠ›å‡ºå¼‚å¸¸ç»“æœã€‚è­¬å¦‚å½“æˆ‘ä»¬è·å¾—äº†æŸä¸ªå‡½æ•°è¿”å›çš„å¼‚å¸¸ï¼Œå´ä¸çŸ¥é“å¦‚ä½•å¤„ç†æˆ–è€…ä¸éœ€è¦å¤„ç†æ—¶ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ panic å‡½æ•°ä¸­æ–­å½“å‰è¿è¡Œï¼Œæ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ã€Goroutine è¿½è¸ªä¿¡æ¯ï¼Œå¹¶ä¸”è¿”å›éé›¶çš„çŠ¶æ€ç ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Create</span><span class=p>(</span><span class=s>&#34;/tmp/file&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>å½“å‡½æ•° F è°ƒç”¨ panic æ—¶ï¼Œå…¶æ‰§è¡Œæµç¨‹ä¼šè¢«ç»ˆæ­¢ï¼Œè€Œæ‰€æœ‰çš„ deferred å‡½æ•°ä¼šè¢«æ­£å¸¸çš„ä¾æ¬¡æ‰§è¡Œï¼Œç„¶å F ä¼šè¿”å›åˆ°è°ƒç”¨è€…ã€‚F æ­¤æ—¶çš„è¡Œä¸ºé€»è¾‘ä¸ç›´æ¥è°ƒç”¨ panic å‡½æ•°å¹¶æ— å·®å¼‚ï¼Œè¿›ç¨‹ä¼šåœ¨å‡½æ•°æ‰€åœ¨ Goroutine çš„æ‰€æœ‰å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ¢å¤å¼‚å¸¸çš„è°ƒç”¨æ ˆã€‚Recover å‡½æ•°åˆ™å¯ä»¥æ‰‹åŠ¨åœ°æ¢å¤ Panic Goroutine çš„æ‰§è¡Œï¼Œæ­£å¸¸çš„æ‰§è¡Œä¸­ recover å‡½æ•°ä¼šè¿”å› nilï¼›è€Œå¦‚æœå½“å‰ Goroutine è¢« panicï¼Œrecover å‡½æ•°ä¼šæ•è·ä¼ é€’ç»™ panic çš„å€¼ï¼Œå¹¶ä¸”æ¢å¤æ­£å¸¸çš„æ‰§è¡Œæµã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=kd>func</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nx>r</span> <span class=o>:=</span> <span class=nb>recover</span><span class=p>();</span><span class=nx>r</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span>
</span></span><span class=line><span class=cl>    <span class=nb>panic</span><span class=p>([]</span><span class=kt>int</span><span class=p>{</span><span class=mi>12312</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=æ•°æ®ç±»å‹ä¸ç»“æ„>æ•°æ®ç±»å‹ä¸ç»“æ„</h1><p>Go ä¸­å¯ä»¥ä½¿ç”¨ <code>interface{}</code> æ¥è¡¨ç¤ºä»»æ„ç±»å‹ã€‚</p><h2 id=ç±»å‹ç»‘å®šä¸åˆå§‹åŒ–>ç±»å‹ç»‘å®šä¸åˆå§‹åŒ–</h2><p>Go ä¸­çš„ type å…³é”®å­—èƒ½å¤Ÿå¯¹æŸä¸ªç±»å‹è¿›è¡Œé‡å‘½åï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// IntSlice å¹¶ä¸ç­‰ä»·äº []intï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨ç±»å‹è½¬æ¢è¿›è¡Œè½¬æ¢
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>IntSlice</span> <span class=p>[]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>:=</span> <span class=nx>IntSlice</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span></code></pre></div><p>å¯ä»¥ä½¿ç”¨ T(v) æˆ–è€… obj.(T) è¿›è¡Œç±»å‹è½¬æ¢ï¼Œobj.(T) ä»…é’ˆå¯¹ interface{} ç±»å‹èµ·ä½œç”¨ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>t</span> <span class=o>:=</span> <span class=nx>obj</span><span class=p>.(</span><span class=nx>T</span><span class=p>)</span> <span class=c1>// if obj is not T, error
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>t</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=nx>obj</span><span class=p>.(</span><span class=nx>T</span><span class=p>)</span> <span class=c1>// if obj is not T, ok = false
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// ç±»å‹è½¬æ¢ä¸åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=nx>val</span><span class=p>.(</span><span class=kt>string</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=åŸºæœ¬æ•°æ®ç±»å‹>åŸºæœ¬æ•°æ®ç±»å‹</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>interface</span> <span class=p>{}</span> <span class=c1>// ~ java Object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=c1>// true/false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=kt>int8</span>  <span class=kt>int16</span>  <span class=kt>int32</span>  <span class=kt>int64</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=c1>// =int32 on 32-bit, =int64 if 64-bit OS
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>uint8</span> <span class=kt>uint16</span> <span class=kt>uint32</span> <span class=kt>uint64</span> <span class=kt>uintptr</span>
</span></span><span class=line><span class=cl><span class=kt>uint</span>
</span></span><span class=line><span class=cl><span class=kt>byte</span> <span class=c1>// alias for uint8
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>rune</span> <span class=c1>// alias for int32, represents a Unicode code point
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>float32</span> <span class=kt>float64</span>
</span></span></code></pre></div><h3 id=å­—ç¬¦ä¸²>å­—ç¬¦ä¸²</h3><p>Go ä¸­æ”¯æŒä»¥åå¼•å·å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// å¤šè¡Œå­—ç¬¦ä¸²å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>hellomsg</span> <span class=o>:=</span> <span class=s>`
</span></span></span><span class=line><span class=cl><span class=s> &#34;Hello&#34; in Chinese is ä½ å¥½ (&#39;Ni Hao&#39;)
</span></span></span><span class=line><span class=cl><span class=s> &#34;Hello&#34; in Hindi is à¤¨à¤®à¤¸à¥à¤¤à¥‡ (&#39;Namaste&#39;)
</span></span></span><span class=line><span class=cl><span class=s>`</span>
</span></span></code></pre></div><p>fmt çš„è¾“å‡ºæ¨¡å—ä¸ºæˆ‘ä»¬æä¾›äº†æ–¹ä¾¿çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²è¾“å‡ºåŠŸèƒ½ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Hello, ä½ å¥½, à¤¨à¤®à¤¸à¥à¤¤à¥‡, ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, á£áá²&#34;</span><span class=p>)</span> <span class=c1>// basic print, plus newline
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>p</span> <span class=o>:=</span> <span class=kd>struct</span> <span class=p>{</span> <span class=nx>X</span><span class=p>,</span> <span class=nx>Y</span> <span class=kt>int</span> <span class=p>}{</span> <span class=mi>17</span><span class=p>,</span> <span class=mi>2</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span> <span class=s>&#34;My point:&#34;</span><span class=p>,</span> <span class=nx>p</span><span class=p>,</span> <span class=s>&#34;x coord=&#34;</span><span class=p>,</span> <span class=nx>p</span><span class=p>.</span><span class=nx>X</span> <span class=p>)</span> <span class=c1>// print structs, ints, etc
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=o>:=</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintln</span><span class=p>(</span> <span class=s>&#34;My point:&#34;</span><span class=p>,</span> <span class=nx>p</span><span class=p>,</span> <span class=s>&#34;x coord=&#34;</span><span class=p>,</span> <span class=nx>p</span><span class=p>.</span><span class=nx>X</span> <span class=p>)</span> <span class=c1>// print to string variable
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%d hex:%x bin:%b fp:%f sci:%e&#34;</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mf>17.0</span><span class=p>,</span><span class=mf>17.0</span><span class=p>)</span> <span class=c1>// c-ish format
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Sprintf èƒ½å¤Ÿä»…è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œè¿”å›æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼Œè€Œéè¾“å‡ºåˆ°æ§åˆ¶å°
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s2</span> <span class=o>:=</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span> <span class=s>&#34;%d %f&#34;</span><span class=p>,</span> <span class=mi>17</span><span class=p>,</span> <span class=mf>17.0</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å°†å…¶è¾“å‡ºåˆ°é”™è¯¯æµä¸­
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stderr</span><span class=p>,</span> <span class=s>&#34;an %s\n&#34;</span><span class=p>,</span> <span class=s>&#34;error&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=åºåˆ—ç±»å‹>åºåˆ—ç±»å‹</h2><p>Array ä¸ Slice éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºåºåˆ—æ•°æ®ï¼ŒäºŒè€…ä¹Ÿæœ‰ç€ä¸€å®šçš„å…³è”ã€‚</p><h3 id=array>Array</h3><p>å…¶ä¸­ Array ç”¨äºè¡¨ç¤ºå›ºå®šé•¿åº¦çš„ï¼Œç›¸åŒç±»å‹çš„åºåˆ—å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å½¢å¼åˆ›å»ºï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>[</span><span class=nx>N</span><span class=p>]</span><span class=nx>Type</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>N</span><span class=p>]</span><span class=nx>Type</span><span class=p>{</span><span class=nx>value1</span><span class=p>,</span> <span class=nx>value2</span><span class=p>,</span> <span class=o>...</span><span class=p>,</span> <span class=nx>valueN</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è®¡ç®—æ•°ç›®
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=nx>Type</span><span class=p>{</span><span class=nx>value1</span><span class=p>,</span> <span class=nx>value2</span><span class=p>,</span> <span class=o>...</span><span class=p>,</span> <span class=nx>valueN</span><span class=p>}</span>
</span></span></code></pre></div><p>å…¶å…·ä½“ä½¿ç”¨æ–¹å¼ä¸ºï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// æ•°ç»„å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>a</span> <span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// èµ‹å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=p>=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¯»å–
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>i</span> <span class=o>:=</span> <span class=nx>a</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜ä¸åˆå§‹åŒ–
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>a</span> <span class=p>=</span> <span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>:=</span> <span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åŠ  ... ä¼šé™åˆ¶æ•°ç»„é•¿åº¦
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>:=</span> <span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜äºŒç»´æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array</span> <span class=o>:=</span> <span class=p>[</span><span class=mi>2</span><span class=p>][</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span><span class=p>{{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>},</span> <span class=p>{</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>}}</span>
</span></span></code></pre></div><p>Go å†…ç½®äº† len ä¸ cap å‡½æ•°ï¼Œç”¨äºè·å–æ•°ç»„çš„å°ºå¯¸ä¸å®¹é‡ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>arr</span> <span class=p>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>arr</span> <span class=o>:=</span> <span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>cap</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=c1>// 3
</span></span></span></code></pre></div><p>ä¸åŒäº C/C++ ä¸­çš„æŒ‡é’ˆ(Pointer)æˆ–è€… Java ä¸­çš„å¯¹è±¡å¼•ç”¨(Object Reference)ï¼ŒGo ä¸­çš„ Array åªæ˜¯å€¼(Value)ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œå½“è¿›è¡Œæ•°ç»„æ‹·è´ï¼Œæˆ–è€…å‡½æ•°è°ƒç”¨ä¸­çš„å‚æ•°ä¼ å€¼æ—¶ï¼Œä¼šå¤åˆ¶æ‰€æœ‰çš„å…ƒç´ å‰¯æœ¬ï¼Œè€Œéä»…ä»…ä¼ é€’æŒ‡é’ˆæˆ–è€…å¼•ç”¨ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™ç§å¤åˆ¶çš„ä»£ä»·ä¼šè¾ƒä¸ºæ˜‚è´µã€‚</p><h3 id=slice>Slice</h3><p>Slice ä¸ºæˆ‘ä»¬æä¾›äº†æ›´ä¸ºçµæ´»ä¸”è½»é‡çº§åœ°åºåˆ—ç±»å‹æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼åˆ›å»º Slice:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// ä½¿ç”¨å†…ç½®å‡½æ•°åˆ›å»º
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>make</span><span class=p>([]</span><span class=nx>Type</span><span class=p>,</span> <span class=nx>length</span><span class=p>,</span> <span class=nx>capacity</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>make</span><span class=p>([]</span><span class=nx>Type</span><span class=p>,</span> <span class=nx>length</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜ä¸ºä¸å®šé•¿åº¦æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[]</span><span class=nx>Type</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>[]</span><span class=nx>Type</span><span class=p>{</span><span class=nx>value1</span><span class=p>,</span> <span class=nx>value2</span><span class=p>,</span> <span class=o>...</span><span class=p>,</span> <span class=nx>valueN</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¯¹ç°æœ‰æ•°ç»„è¿›è¡Œåˆ‡ç‰‡è½¬æ¢
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array</span><span class=p>[:]</span>
</span></span><span class=line><span class=cl><span class=nx>array</span><span class=p>[:</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>array</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=nx>array</span><span class=p>[</span><span class=mi>2</span><span class=p>:</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä¸å®šç±»å‹åˆ‡ç‰‡å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>:=</span> <span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>3</span><span class=p>,</span> <span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>},</span> <span class=mi>6</span><span class=p>},</span> <span class=mi>7</span><span class=p>,</span> <span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>8</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// äºŒç»´ä¸å®šç±»å‹åˆ‡ç‰‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>:=</span> <span class=p>[][]</span><span class=kd>interface</span><span class=p>{}{</span>
</span></span><span class=line><span class=cl>		<span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></div><p>ä¸åŒäº Array, Slice å¯ä»¥çœ‹åšæ›´ä¸ºçµæ´»çš„å¼•ç”¨ç±»å‹(Reference Type)ï¼Œå®ƒå¹¶ä¸çœŸå®åœ°å­˜æ”¾æ•°ç»„å€¼ï¼Œè€Œæ˜¯åŒ…å«æ•°ç»„æŒ‡é’ˆ(ptr)ï¼Œlenï¼Œcap ä¸‰ä¸ªå±æ€§çš„ç»“æ„ä½“ã€‚æ¢è¨€ä¹‹ï¼ŒSlice å¯ä»¥çœ‹åšå¯¹äºæ•°ç»„ä¸­æŸä¸ªæ®µçš„æè¿°ï¼ŒåŒ…å«äº†æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œæ®µé•¿åº¦ï¼Œä»¥åŠæ®µçš„æœ€å¤§æ½œåœ¨é•¿åº¦ï¼Œå…¶ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://user-images.githubusercontent.com/5803001/38005668-3f06477e-3274-11e8-85d2-fa78b75f411b.png alt="group 2" loading=lazy data-zoomable></div></div></figure></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// åˆ›å»º len ä¸º 5ï¼Œcap ä¸º 5 çš„ Slice
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¯¹ Slice è¿›è¡ŒäºŒæ¬¡åˆ‡ç‰‡ï¼Œæ­¤æ—¶ len ä¸º 2ï¼Œcap ä¸º 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=p>=</span> <span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>:</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ¢å¤ Slice çš„é•¿åº¦
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=p>=</span> <span class=nx>s</span><span class=p>[:</span><span class=nb>cap</span><span class=p>(</span><span class=nx>s</span><span class=p>)]</span>
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡ç‰‡æ“ä½œå¹¶ä¸ä¼šçœŸå®åœ°å¤åˆ¶ Slice ä¸­å€¼ï¼Œåªæ˜¯ä¼šåˆ›å»ºæ–°çš„æŒ‡å‘åŸæ•°ç»„çš„æŒ‡é’ˆï¼Œè¿™å°±ä¿è¯äº†åˆ‡ç‰‡æ“ä½œå’Œæ“ä½œæ•°ç»„ä¸‹æ ‡æœ‰ç€ç›¸åŒçš„é«˜æ•ˆç‡ã€‚ä¸è¿‡å¦‚æœæˆ‘ä»¬ä¿®æ”¹ Slice ä¸­çš„å€¼ï¼Œé‚£ä¹ˆå…¶ä¼šçœŸå®ä¿®æ”¹åº•å±‚æ•°ç»„ä¸­çš„å€¼ï¼Œä¹Ÿå°±ä¼šä½“ç°åˆ°åŸæœ‰çš„æ•°ç»„ä¸­ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>d</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>byte</span><span class=p>{</span><span class=sc>&#39;r&#39;</span><span class=p>,</span> <span class=sc>&#39;o&#39;</span><span class=p>,</span> <span class=sc>&#39;a&#39;</span><span class=p>,</span> <span class=sc>&#39;d&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>e</span> <span class=o>:=</span> <span class=nx>d</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=c1>// e == []byte{&#39;a&#39;, &#39;d&#39;}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>e</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=p>=</span> <span class=sc>&#39;m&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>// e == []byte{&#39;a&#39;, &#39;m&#39;}
</span></span></span><span class=line><span class=cl><span class=c1>// d == []byte{&#39;r&#39;, &#39;o&#39;, &#39;a&#39;, &#39;m&#39;}
</span></span></span></code></pre></div><p>Go æä¾›äº†å†…ç½®çš„ append å‡½æ•°ï¼Œæ¥åŠ¨æ€ä¸º Slice æ·»åŠ æ•°æ®ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›æ–°çš„åˆ‡ç‰‡å¯¹è±¡ï¼ŒåŒ…å«äº†åŸå§‹çš„ Slice ä¸­å€¼ä»¥åŠæ–°å¢çš„å€¼ã€‚å¦‚æœåŸæœ‰çš„ Slice çš„å®¹é‡ä¸è¶³ä»¥å­˜æ”¾æ–°å¢çš„åºåˆ—ï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨åˆ†é…æ–°çš„å†…å­˜ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// len=0 cap=0 []
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>s</span> <span class=p>[]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// len=1 cap=2 [0]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// len=2 cap=2 [0 1]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// len=5 cap=8 [0 1 2 3 4]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>s</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä½¿ç”¨ ... æ¥è‡ªåŠ¨å±•å¼€æ•°ç»„å¹¶è¿›è¡Œåˆå¹¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;John&#34;</span><span class=p>,</span> <span class=s>&#34;Paul&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;George&#34;</span><span class=p>,</span> <span class=s>&#34;Ringo&#34;</span><span class=p>,</span> <span class=s>&#34;Pete&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=o>...</span><span class=p>)</span> <span class=c1>// equivalent to &#34;append(a, b[0], b[1], b[2])&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// a == []string{&#34;John&#34;, &#34;Paul&#34;, &#34;George&#34;, &#34;Ringo&#34;, &#34;Pete&#34;}
</span></span></span></code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å†…ç½®çš„ copy å‡½æ•°ï¼Œè¿›è¡Œ Slice çš„å¤åˆ¶ï¼Œè¯¥å‡½æ•°æ”¯æŒå¯¹äºä¸åŒé•¿åº¦çš„ Slice è¿›è¡Œå¤åˆ¶ï¼Œå…¶ä¼šè‡ªåŠ¨ä½¿ç”¨æœ€å°çš„å…ƒç´ æ•°ç›®ã€‚åŒæ—¶ï¼Œcopy å‡½æ•°è¿˜èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†ä½¿ç”¨äº†ç›¸åŒçš„åº•å±‚æ•°ç»„ä¹‹é—´çš„ Slice å¤åˆ¶ï¼Œä»¥é¿å…é¢å¤–çš„ç©ºé—´æµªè´¹ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nb>copy</span><span class=p>(</span><span class=nx>dst</span><span class=p>,</span> <span class=nx>src</span> <span class=p>[]</span><span class=nx>T</span><span class=p>)</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç”³è¯·è¾ƒå¤§çš„ç©ºé—´å®¹é‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>t</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>),</span> <span class=p>(</span><span class=nb>cap</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>copy</span><span class=p>(</span><span class=nx>t</span><span class=p>,</span> <span class=nx>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>s</span> <span class=p>=</span> <span class=nx>t</span>
</span></span></code></pre></div><h2 id=map--æ˜ å°„ç±»å‹>Map | æ˜ å°„ç±»å‹</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>m</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>m</span> <span class=p>=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>m</span><span class=p>[</span><span class=s>&#34;key&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åˆ é™¤æŸä¸ªé”®
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>delete</span><span class=p>(</span><span class=nx>m</span><span class=p>,</span> <span class=s>&#34;key&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æµ‹è¯•è¯¥é”®å¯¹åº”çš„å€¼æ˜¯å¦å­˜åœ¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>elem</span><span class=p>,</span> <span class=nx>has_value</span> <span class=o>:=</span> <span class=nx>m</span><span class=p>[</span><span class=s>&#34;key&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// map literal
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>m</span> <span class=p>=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=nx>Vertex</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Bell Labs&#34;</span><span class=p>:</span> <span class=p>{</span><span class=mf>40.68433</span><span class=p>,</span> <span class=o>-</span><span class=mf>74.39967</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Google&#34;</span><span class=p>:</span>    <span class=p>{</span><span class=mf>37.42202</span><span class=p>,</span> <span class=o>-</span><span class=mf>122.08408</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=struct--interface--ç»“æ„ä½“ä¸æ¥å£>Struct & Interface | ç»“æ„ä½“ä¸æ¥å£</h1><h2 id=struct--ç»“æ„ä½“>Struct | ç»“æ„ä½“</h2><p>Go è¯­è¨€ä¸­å¹¶ä¸å­˜åœ¨ç±»çš„æ¦‚å¿µï¼Œåªæœ‰ç»“æ„ä½“ï¼Œç»“æ„ä½“å¯ä»¥çœ‹åšå±æ€§çš„é›†åˆï¼ŒåŒæ—¶å¯ä»¥ä¸ºå…¶å®šä¹‰æ–¹æ³•ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// å£°æ˜ç»“æ„ä½“
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Vertex</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ç»“æ„ä½“çš„å±æ€§ï¼ŒåŒæ ·éµå¾ªå¤§å†™å¯¼å‡ºï¼Œå°å†™ç§æœ‰çš„åŸåˆ™
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>X</span><span class=p>,</span> <span class=nx>Y</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>    <span class=nx>z</span> <span class=kt>bool</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä¹Ÿå¯ä»¥å£°æ˜åŒ¿å/éšå¼ç»“æ„ä½“
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>point</span> <span class=o>:=</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>X</span><span class=p>,</span> <span class=nx>Y</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=p>}{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜ç©ºæŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>v</span> <span class=o>*</span><span class=nx>Vertex</span> <span class=p>=</span> <span class=nb>new</span><span class=p>(</span><span class=nx>Vertex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ˜¾å¼å£°æ˜é”®
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>v</span> <span class=p>=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=nx>X</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>Y</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å£°æ˜æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>v</span> <span class=p>=</span> <span class=p>[]</span><span class=nx>Vertex</span><span class=p>{{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>},{</span><span class=mi>5</span><span class=p>,</span><span class=mi>2</span><span class=p>},{</span><span class=mi>5</span><span class=p>,</span><span class=mi>5</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åˆ›å»ºç»“æ„ä½“å®ä¾‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>v</span> <span class=p>=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¯»å–æˆ–è€…è®¾ç½®å±æ€§
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=p>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span></code></pre></div><p>æ–¹æ³•çš„å£°æ˜ä¹Ÿéå¸¸ç®€æ´ï¼Œåªéœ€è¦åœ¨ func å…³é”®å­—ä¸å‡½æ•°åä¹‹é—´å£°æ˜ç»“æ„ä½“æŒ‡é’ˆå³å¯ï¼Œè¯¥ç»“æ„ä½“ä¼šåœ¨ä¸åŒçš„æ–¹æ³•é—´è¿›è¡Œå¤åˆ¶ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>v</span> <span class=nx>Vertex</span><span class=p>)</span> <span class=nf>Abs</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>X</span><span class=o>*</span><span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=o>+</span> <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span><span class=o>*</span><span class=nx>v</span><span class=p>.</span><span class=nx>Y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Call method
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>v</span><span class=p>.</span><span class=nf>Abs</span><span class=p>()</span>
</span></span></code></pre></div><p>å¯¹äºé‚£äº›éœ€è¦ä¿®æ”¹å½“å‰ç»“æ„ä½“å¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™éœ€è¦ä¼ å…¥æŒ‡é’ˆï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>v</span> <span class=o>*</span><span class=nx>Vertex</span><span class=p>)</span> <span class=nf>add</span><span class=p>(</span><span class=nx>n</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=o>+=</span> <span class=nx>n</span>
</span></span><span class=line><span class=cl>    <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span> <span class=o>+=</span> <span class=nx>n</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=new-ä¸-make>new ä¸ make</h3><h2 id=pointer--æŒ‡é’ˆ>Pointer | æŒ‡é’ˆ</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// p æ˜¯ Vertex ç±»å‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>p</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// q æ˜¯æŒ‡å‘ Vertex çš„æŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>q</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>p</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// r åŒæ ·æ˜¯æŒ‡å‘ Vertex å¯¹è±¡çš„æŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>r</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æŒ‡å‘ Vertex ç»“æ„ä½“å¯¹è±¡çš„æŒ‡é’ˆç±»å‹ä¸º *Vertex
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>s</span> <span class=o>*</span><span class=nx>Vertex</span> <span class=p>=</span> <span class=nb>new</span><span class=p>(</span><span class=nx>Vertex</span><span class=p>)</span>
</span></span></code></pre></div><p>å½“æˆ‘ä»¬åœ¨å®šä¹‰ç»“æ„ä½“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æŒ‡é’ˆæˆ–è€…å€¼ä½œä¸ºæ¥å—è€…æ¥å®šä¹‰æ–¹æ³•ç”¨æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå˜é‡ï¼ˆæˆ–è€…å¯ä»¥ç§°ä½œå¯¹è±¡ï¼‰æœ¬èº«æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ï¼Œåœ¨æ–¹æ³•å†…å¯ä»¥ä¿®æ”¹å¯¹è±¡çš„æ•°æ®ã€‚ä½¿ç”¨å€¼æ¥æ”¶è€…ï¼Œä»¥ä¸ºè¿™æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼Œé‚£ä¹ˆå¯¹è±¡åœ¨æ–¹æ³•å†…æ˜¯å¤„äºåªè¯»çŠ¶æ€çš„ã€‚å¹¶ä¸”æŒ‡é’ˆç±»å‹æ—¶è°ƒç”¨æ–¹æ³•ä¼šå¤åˆ¶ receiver, æ¯è°ƒç”¨ä¸€æ¬¡ TestValueï¼Œitem å°±ä¼šè¢«å¤åˆ¶ä¸€æ¬¡.å®é™…ç›¸å½“äº TestValue(v)ï¼ŒTestPointer(&v)ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>VideoItem</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>GroupId</span>  <span class=kt>int64</span>
</span></span><span class=line><span class=cl>	<span class=nx>ItemId</span>   <span class=kt>int64</span>
</span></span><span class=line><span class=cl>	<span class=nx>AggrType</span> <span class=kt>int32</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>item</span> <span class=o>*</span><span class=nx>VideoItem</span><span class=p>)</span> <span class=nf>TestPointer</span><span class=p>(</span><span class=nx>GroupId</span> <span class=kt>int64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;TestPointer %p %v\n&#34;</span><span class=p>,</span> <span class=nx>item</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>item</span><span class=p>.</span><span class=nx>GroupId</span> <span class=p>=</span> <span class=nx>GroupId</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>item</span> <span class=nx>VideoItem</span><span class=p>)</span> <span class=nf>TestValue</span><span class=p>(</span><span class=nx>GroupId</span> <span class=kt>int64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;TestPointer %p %v\n&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>item</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>item</span><span class=p>.</span><span class=nx>GroupId</span> <span class=p>=</span> <span class=nx>GroupId</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>v</span> <span class=o>:=</span> <span class=nx>VideoItem</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;TestPointer %p %v\n&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>v</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// å€¼ä¸å˜
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>v</span><span class=p>.</span><span class=nf>TestValue</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// v çš„ GroupId è¢«ä¿®æ”¹ä¸º 2
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>v</span><span class=p>.</span><span class=nf>TestPointer</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// å€¼ä¸å˜
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>(</span><span class=o>&amp;</span><span class=nx>v</span><span class=p>).</span><span class=nf>TestValue</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// v çš„  GroupId è¢«ä¿®æ”¹ä¸º 4
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>(</span><span class=o>&amp;</span><span class=nx>v</span><span class=p>).</span><span class=nf>TestPointer</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>TestPointer 0xc420018300 &amp;{0 0 0}
</span></span></span><span class=line><span class=cl><span class=cm>TestPointer 0xc420018360 &amp;{0 0 0}
</span></span></span><span class=line><span class=cl><span class=cm>TestPointer 0xc420018300 &amp;{0 0 0}
</span></span></span><span class=line><span class=cl><span class=cm>TestPointer 0xc4200183c0 &amp;{0 0 0}
</span></span></span><span class=line><span class=cl><span class=cm>TestPointer 0xc420018300 &amp;{0 0 0}
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><p>ä¼ é€’æ™®é€šå˜é‡ä¼ é€’å€¼æ‹·è´ï¼Œä¸èƒ½ä¿®æ”¹åŸå§‹å€¼ï¼Œå¦‚æœæ˜¯å¤§å¯¹è±¡åˆ™å†…å­˜æ•ˆç‡ä¸é«˜ã€‚
ä¼ é€’å˜é‡çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆä¸ºå›ºå®šå¤§å°ï¼Œæ•ˆç‡æ›´é«˜ï¼Œå¯ä»¥å°±åœ°ä¿®æ”¹å¯¹è±¡çš„åŸå§‹å€¼ã€‚
åœ¨æ–¹æ³•é›†çš„ä½¿ç”¨ä¸Šï¼Œæ— è®ºæ¥æ”¶è€…æ˜¯å˜é‡è¿˜æ˜¯æŒ‡é’ˆï¼Œéƒ½èƒ½ç›´æ¥æ­£ç¡®è°ƒç”¨ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ï¼Œèƒ½æ­£ç¡®è°ƒç”¨æ‰€æœ‰ç»‘å®šåœ¨è¯¥å€¼æˆ–æŒ‡é’ˆä¸Šçš„æ–¹æ³•ï¼ŒGo ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†å¼•ç”¨ä¸è§£å¼•ç”¨ã€‚</p><h2 id=interface--æ¥å£>Interface | æ¥å£</h2><p>Go å…è®¸æˆ‘ä»¬é€šè¿‡å®šä¹‰æ¥å£çš„æ–¹å¼æ¥å®ç°å¤šæ€æ€§ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// æ¥å£å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Awesomizer</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Awesomize</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç»“æ„ä½“å¹¶ä¸éœ€è¦æ˜¾å¼å®ç°æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Foo</span> <span class=kd>struct</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è€Œæ˜¯é€šè¿‡å®ç°æ‰€æœ‰æ¥å£è§„å®šçš„æ–¹æ³•çš„æ–¹å¼ï¼Œæ¥å®ç°æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>foo</span> <span class=nx>Foo</span><span class=p>)</span> <span class=nf>Awesomize</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s>&#34;Awesome!&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Shape</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getArea</span><span class=p>(</span><span class=nx>shape</span> <span class=nx>Shape</span><span class=p>)</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>shape</span><span class=p>.</span><span class=nf>area</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Circle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>x</span><span class=p>,</span><span class=nx>y</span><span class=p>,</span><span class=nx>radius</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Rectangle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span><span class=p>(</span><span class=nx>circle</span> <span class=nx>Circle</span><span class=p>)</span> <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=o>*</span> <span class=nx>circle</span><span class=p>.</span><span class=nx>radius</span> <span class=o>*</span> <span class=nx>circle</span><span class=p>.</span><span class=nx>radius</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span><span class=p>(</span><span class=nx>rect</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>rect</span><span class=p>.</span><span class=nx>width</span> <span class=o>*</span> <span class=nx>rect</span><span class=p>.</span><span class=nx>height</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>circle</span> <span class=o>:=</span> <span class=nx>Circle</span><span class=p>{</span><span class=nx>x</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nx>y</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nx>radius</span><span class=p>:</span><span class=mi>5</span><span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=nx>rectangle</span> <span class=o>:=</span> <span class=nx>Rectangle</span> <span class=p>{</span><span class=nx>width</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span> <span class=nx>height</span><span class=p>:</span><span class=mi>5</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Circle area: %f\n&#34;</span><span class=p>,</span><span class=nf>getArea</span><span class=p>(</span><span class=nx>circle</span><span class=p>))</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Rectangle area: %f\n&#34;</span><span class=p>,</span><span class=nf>getArea</span><span class=p>(</span><span class=nx>rectangle</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//Circle area: 78.539816
</span></span></span><span class=line><span class=cl><span class=c1>//Rectangle area: 50.000000
</span></span></span></code></pre></div><p>æƒ¯ç”¨çš„æ€è·¯æ˜¯å…ˆå®šä¹‰æ¥å£ï¼Œå†å®šä¹‰å®ç°ï¼Œæœ€åå®šä¹‰ä½¿ç”¨çš„æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>animals</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Animal</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nf>Speaks</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// implementation of Animal
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Dog</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Dog</span><span class=p>)</span> <span class=nf>Speaks</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> <span class=k>return</span> <span class=s>&#34;woof&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/** åœ¨éœ€è¦çš„åœ°æ–¹ç›´æ¥å¼•ç”¨ **/</span>
</span></span><span class=line><span class=cl><span class=kn>package</span> <span class=nx>circus</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;animals&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Perform</span><span class=p>(</span><span class=nx>a</span> <span class=nx>animal</span><span class=p>.</span><span class=nx>Animal</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nf>Speaks</span><span class=p>()</span> <span class=p>}</span>
</span></span></code></pre></div><p>Go ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†å¦ä¸€ç§æ¥å£çš„å®ç°æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä¸åœ¨å…·ä½“çš„å®ç°å¤„å®šä¹‰æ¥å£ï¼Œè€Œæ˜¯åœ¨éœ€è¦ç”¨åˆ°è¯¥æ¥å£çš„åœ°æ–¹ï¼Œè¯¥æ¨¡å¼ä¸ºï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>funcName</span><span class=p>(</span><span class=nx>a</span> <span class=nx>INTERFACETYPE</span><span class=p>)</span> <span class=nx>CONCRETETYPE</span>
</span></span></code></pre></div><p>å®šä¹‰æ¥å£ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>animals</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Dog</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Dog</span><span class=p>)</span> <span class=nf>Speaks</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span> <span class=k>return</span> <span class=s>&#34;woof&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/** åœ¨éœ€è¦ä½¿ç”¨å®ç°çš„åœ°æ–¹å®šä¹‰æ¥å£ **/</span>
</span></span><span class=line><span class=cl><span class=kn>package</span> <span class=nx>circus</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Speaker</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nf>Speaks</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Perform</span><span class=p>(</span><span class=nx>a</span> <span class=nx>Speaker</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>a</span><span class=p>.</span><span class=nf>Speaks</span><span class=p>()</span> <span class=p>}</span>
</span></span></code></pre></div><h2 id=embedding--åµŒå…¥>Embedding | åµŒå…¥</h2><p>Go è¯­è¨€ä¸­å¹¶æ²¡æœ‰å­ç±»ç»§æ‰¿è¿™æ ·çš„æ¦‚å¿µï¼Œè€Œæ˜¯é€šè¿‡åµŒå…¥(Embedding)çš„æ–¹å¼æ¥å®ç°ç±»æˆ–è€…æ¥å£çš„ç»„åˆã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// ReadWriter çš„å®ç°éœ€è¦åŒæ—¶æ»¡è¶³ Reader ä¸ Writer
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>ReadWriter</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Reader</span>
</span></span><span class=line><span class=cl>    <span class=nx>Writer</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Server æš´éœ²äº†æ‰€æœ‰ Logger ç»“æ„ä½“çš„æ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Server</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Host</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>Port</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>    <span class=o>*</span><span class=nx>log</span><span class=p>.</span><span class=nx>Logger</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åˆå§‹åŒ–æ–¹å¼å¹¶æœªå—å½±å“
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>server</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>Server</span><span class=p>{</span><span class=s>&#34;localhost&#34;</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=nx>log</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=o>...</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å´å¯ä»¥ç›´æ¥è°ƒç”¨å†…åµŒç»“æ„ä½“çš„æ–¹æ³•ï¼Œç­‰ä»·äº server.Logger.Log(...)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>server</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å†…åµŒç»“æ„ä½“çš„åè¯å³æ˜¯ç±»å‹å
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>logger</span> <span class=o>*</span><span class=nx>log</span><span class=p>.</span><span class=nx>Logger</span> <span class=p>=</span> <span class=nx>server</span><span class=p>.</span><span class=nx>Logger</span>
</span></span></code></pre></div><h2 id=reflection--generics--åå°„ä¸æ³›å‹>Reflection & Generics | åå°„ä¸æ³›å‹</h2><p>Go ä¸­å¹¶æ²¡æœ‰æ³›å‹ã€‚</p><h1 id=web-ç¼–ç¨‹>Web ç¼–ç¨‹</h1><h2 id=http-server>HTTP Server</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;net/http&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// define a type for the response
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Hello</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// let that type implement the ServeHTTP method (defined in interface http.Handler)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=nx>Hello</span><span class=p>)</span> <span class=nf>ServeHTTP</span><span class=p>(</span><span class=nx>w</span> <span class=nx>http</span><span class=p>.</span><span class=nx>ResponseWriter</span><span class=p>,</span> <span class=nx>r</span> <span class=o>*</span><span class=nx>http</span><span class=p>.</span><span class=nx>Request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprint</span><span class=p>(</span><span class=nx>w</span><span class=p>,</span> <span class=s>&#34;Hello!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>h</span> <span class=nx>Hello</span>
</span></span><span class=line><span class=cl>    <span class=nx>http</span><span class=p>.</span><span class=nf>ListenAndServe</span><span class=p>(</span><span class=s>&#34;localhost:4000&#34;</span><span class=p>,</span> <span class=nx>h</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Here&#39;s the method signature of http.ServeHTTP:
</span></span></span><span class=line><span class=cl><span class=c1>// type Handler interface {
</span></span></span><span class=line><span class=cl><span class=c1>//     ServeHTTP(w http.ResponseWriter, r *http.Request)
</span></span></span><span class=line><span class=cl><span class=c1>// }
</span></span></span></code></pre></div><h2 id=beego>Beego</h2><p>åˆ©ç”¨ Beego å®˜æ–¹æ¨èçš„ <a href=https://beego.me/docs/install/bee.md target=_blank rel=noopener>bee</a> å‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿåˆ›å»º Beego é¡¹ç›®ï¼Œå…¶ç›®å½•ç»„ç»‡æ–¹å¼å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>quickstart</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>conf</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â””â”€â”€</span> <span class=nx>app</span><span class=p>.</span><span class=nx>conf</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>controllers</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â””â”€â”€</span> <span class=k>default</span><span class=p>.</span><span class=k>go</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>main</span><span class=p>.</span><span class=k>go</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>models</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>routers</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â””â”€â”€</span> <span class=nx>router</span><span class=p>.</span><span class=k>go</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>static</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â”œâ”€â”€</span> <span class=nx>css</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â”œâ”€â”€</span> <span class=nx>img</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â””â”€â”€</span> <span class=nx>js</span>
</span></span><span class=line><span class=cl><span class=err>â”œâ”€â”€</span> <span class=nx>tests</span>
</span></span><span class=line><span class=cl><span class=err>â”‚</span>   <span class=err>â””â”€â”€</span> <span class=nx>default_test</span><span class=p>.</span><span class=k>go</span>
</span></span><span class=line><span class=cl><span class=err>â””â”€â”€</span> <span class=nx>views</span>
</span></span><span class=line><span class=cl>    <span class=err>â””â”€â”€</span> <span class=nx>index</span><span class=p>.</span><span class=nx>tpl</span>
</span></span></code></pre></div><p>åœ¨ main.go æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨ Beego å®ä¾‹ï¼Œå¹¶ä¸”è°ƒç”¨è·¯ç”±çš„åˆå§‹åŒ–é…ç½®æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=nx>_</span> <span class=s>&#34;quickstart/routers&#34;</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;github.com/astaxie/beego&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>beego</span><span class=p>.</span><span class=nf>Run</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>è€Œåœ¨è·¯ç”±çš„åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä¼šå£°æ˜å„ä¸ªè·¯ç”±ä¸æ§åˆ¶å™¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>routers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;quickstart/controllers&#34;</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;github.com/astaxie/beego&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>beego</span><span class=p>.</span><span class=nf>Router</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>controllers</span><span class=p>.</span><span class=nx>MainController</span><span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®š Beego é¡¹ç›®ä¸­çš„é™æ€èµ„æºæ˜ å°„ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>beego</span><span class=p>.</span><span class=nf>SetStaticPath</span><span class=p>(</span><span class=s>&#34;/down1&#34;</span><span class=p>,</span> <span class=s>&#34;download1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>beego</span><span class=p>.</span><span class=nf>SetStaticPath</span><span class=p>(</span><span class=s>&#34;/down2&#34;</span><span class=p>,</span> <span class=s>&#34;download2&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>åœ¨å…·ä½“çš„æ§åˆ¶å™¨ä¸­ï¼Œå¯ä»¥è®¾ç½®è¿”å›æ•°æ®ï¼Œæˆ–è€…å…³è”çš„æ¨¡æ¿åï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>controllers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;github.com/astaxie/beego&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>MainController</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>beego</span><span class=p>.</span><span class=nx>Controller</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>this</span> <span class=o>*</span><span class=nx>MainController</span><span class=p>)</span> <span class=nf>Get</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>this</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=s>&#34;Website&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;beego.me&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>this</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=s>&#34;Email&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;astaxie@gmail.com&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>this</span><span class=p>.</span><span class=nx>TplNames</span> <span class=p>=</span> <span class=s>&#34;index.tpl&#34;</span> <span class=c1>// version 1.6 use this.TplName = &#34;index.tpl&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h1 id=devpractics--å¼€å‘å®è·µ>DevPractics | å¼€å‘å®è·µ</h1><h2 id=æ–‡ä»¶è¯»å†™>æ–‡ä»¶è¯»å†™</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;io/ioutil&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>datFile1</span><span class=p>,</span> <span class=nx>errFile1</span> <span class=o>:=</span> <span class=nx>ioutil</span><span class=p>.</span><span class=nf>ReadFile</span><span class=p>(</span><span class=s>&#34;file1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>errFile1</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nb>panic</span><span class=p>(</span><span class=nx>errFile1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span></code></pre></div><h2 id=æµ‹è¯•>æµ‹è¯•</h2><p>VSCode å¯ä»¥ä¸ºå‡½æ•°è‡ªåŠ¨ç”ŸæˆåŸºç¡€æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶ä¸”æä¾›äº†æ–¹ä¾¿çš„ç”¨ä¾‹æ‰§è¡Œä¸è°ƒè¯•çš„åŠŸèƒ½ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=cm>/** äº¤æ¢å‡½æ•° */</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>swap</span><span class=p>(</span><span class=nx>x</span> <span class=o>*</span><span class=kt>int</span><span class=p>,</span> <span class=nx>y</span> <span class=o>*</span><span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=p>=</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/** è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•å‡½æ•° */</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test_swap</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>type</span> <span class=nx>args</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>x</span> <span class=o>*</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>		<span class=nx>y</span> <span class=o>*</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>tests</span> <span class=o>:=</span> <span class=p>[]</span><span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>name</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>		<span class=nx>args</span> <span class=nx>args</span>
</span></span><span class=line><span class=cl>	<span class=p>}{</span>
</span></span><span class=line><span class=cl>		<span class=c1>// TODO: Add test cases.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>tt</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>tests</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>t</span><span class=p>.</span><span class=nf>Run</span><span class=p>(</span><span class=nx>tt</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=kd>func</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>swap</span><span class=p>(</span><span class=nx>tt</span><span class=p>.</span><span class=nx>args</span><span class=p>.</span><span class=nx>x</span><span class=p>,</span> <span class=nx>tt</span><span class=p>.</span><span class=nx>args</span><span class=p>.</span><span class=nx>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>})</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=links>Links</h1><ul><li>Go åŸºç¡€è¯­æ³•å®å…¸ <a href=https://github.com/0voice/Introduction-to-Golang/blob/main/Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%AE%9D%E5%85%B8.md target=_blank rel=noopener>https://github.com/0voice/Introduction-to-Golang/blob/main/Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%AE%9D%E5%85%B8.md</a></li></ul></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>ä¸‹ä¸€é¡µ</div><a href=/books/awesome-cheatsheets/1.cs/zoo/go/go-concurrentprogramming-cheatsheet/ rel=prev>Go-ConcurrentProgramming-CheatSheet</a></div></div></div><div class=body-footer><p>æœ€è¿‘æ›´æ–°äº 2023-03-05</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte-website.oss-accelerate.aliyuncs.com/disqus/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>Â© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte-website.oss-accelerate.aliyuncs.com/disqus/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"å·²å¤åˆ¶")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>