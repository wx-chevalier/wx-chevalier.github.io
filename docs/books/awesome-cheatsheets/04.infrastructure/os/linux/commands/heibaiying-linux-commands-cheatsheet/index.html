<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Linux 常用 Shell 命令 一、Linux 目录结构 目录名称 应放置文件的内容 /boot 开机所需文件—内核、开机菜单以及所需配置文件等 /dev 以文件形式存放任何设备与接口 /etc 配置文件 /home 用户主目录 /bin 存放单用户模式下还可以操作的命令 /lib 开机时"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/heibaiying-linux-commands-cheatsheet/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/heibaiying-linux-commands-cheatsheet/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/heibaiying-linux-commands-cheatsheet/"><meta property="og:title" content="Heibaiying-Linux-Commands-CheatSheet | Next-gen Tech Edu"><meta property="og:description" content="Linux 常用 Shell 命令 一、Linux 目录结构 目录名称 应放置文件的内容 /boot 开机所需文件—内核、开机菜单以及所需配置文件等 /dev 以文件形式存放任何设备与接口 /etc 配置文件 /home 用户主目录 /bin 存放单用户模式下还可以操作的命令 /lib 开机时"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>Heibaiying-Linux-Commands-CheatSheet | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=ed40e9ae567df3047f3f3011ac6cfd66><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Commands</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7468b7e117d7ce935db5ba40b4929324")' href=#id7468b7e117d7ce935db5ba40b4929324 aria-expanded=false aria-controls=id7468b7e117d7ce935db5ba40b4929324 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/04.infrastructure/os/linux/>Linux</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7468b7e117d7ce935db5ba40b4929324 aria-expanded=false aria-controls=id7468b7e117d7ce935db5ba40b4929324><i class="fa-solid fa-angle-down" id=caret-id7468b7e117d7ce935db5ba40b4929324></i></a></div><ul class="nav docs-sidenav collapse show" id=id7468b7e117d7ce935db5ba40b4929324><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id73a7075ad6deee8dd28b403bd7dcca49")' href=#id73a7075ad6deee8dd28b403bd7dcca49 aria-expanded=false aria-controls=id73a7075ad6deee8dd28b403bd7dcca49 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/>Commands</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id73a7075ad6deee8dd28b403bd7dcca49 aria-expanded=false aria-controls=id73a7075ad6deee8dd28b403bd7dcca49><i class="fa-solid fa-angle-down" id=caret-id73a7075ad6deee8dd28b403bd7dcca49></i></a></div><ul class="nav docs-sidenav collapse show" id=id73a7075ad6deee8dd28b403bd7dcca49><li class="child level"><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/bash-pitfalls/>Bash Pitfalls</a></li><li class="child level active"><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/heibaiying-linux-commands-cheatsheet/>Heibaiying-Linux-Commands-CheatSheet</a></li><li class="child level"><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/trinib-linux-commands-cheatsheet/>Trinib-Linux-Commands-CheatSheet</a></li></ul></div><li class="child level"><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/linux-cheatsheet/>Linux-CheatSheet</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2efc8d3974a647ca499ab8d2eac73186")' href=#id2efc8d3974a647ca499ab8d2eac73186 aria-expanded=false aria-controls=id2efc8d3974a647ca499ab8d2eac73186 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/awesome-cheatsheets/04.infrastructure/os/linux/shell/>Shell</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2efc8d3974a647ca499ab8d2eac73186 aria-expanded=false aria-controls=id2efc8d3974a647ca499ab8d2eac73186><i class="fa-solid fa-angle-right" id=caret-id2efc8d3974a647ca499ab8d2eac73186></i></a></div><ul class="nav docs-sidenav collapse" id=id2efc8d3974a647ca499ab8d2eac73186><li class="child level"><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/shell/linux-shell-cheatsheet/>Linux-Shell-CheatSheet</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#一linux-目录结构>一、Linux 目录结构</a></li><li><a href=#二帮助命令>二、帮助命令</a></li><li><a href=#三yum-相关命令>三、Yum 相关命令</a></li><li><a href=#四服务相关命令>四、服务相关命令</a></li><li><a href=#五常用系统命令>五、常用系统命令</a><ul><li><a href=#1-echo>1. echo</a></li><li><a href=#2-date>2. date</a></li><li><a href=#3-reboot>3. reboot</a></li><li><a href=#4-poweroff>4. poweroff</a></li><li><a href=#5-wget>5. wget</a></li><li><a href=#6-ps>6. ps</a></li><li><a href=#7-top>7. top</a></li><li><a href=#8-pidof>8. pidof</a></li><li><a href=#9-kill>9. kill</a></li><li><a href=#10-killall>10. killall</a></li></ul></li><li><a href=#六状态检测命令>六、状态检测命令</a><ul><li><a href=#1-ifconfig>1. ifconfig</a></li><li><a href=#2-uname>2. uname</a></li><li><a href=#3-uptime>3. uptime</a></li><li><a href=#4-free>4. free</a></li><li><a href=#5-who>5. who</a></li><li><a href=#6-last>6. last</a></li><li><a href=#7-history>7. history</a></li><li><a href=#8-sosreport>8. sosreport</a></li></ul></li><li><a href=#七目录相关命令>七、目录相关命令</a><ul><li><a href=#1-pwd>1. pwd</a></li><li><a href=#2-cd>2. cd</a></li><li><a href=#3-ls>3. ls</a></li></ul></li><li><a href=#八文件编辑命令>八、文件编辑命令</a><ul><li><a href=#1-cat>1. cat</a></li><li><a href=#2-more>2. more</a></li><li><a href=#3-head>3. head</a></li><li><a href=#4-tail>4. tail</a></li><li><a href=#5-stat>5. stat</a></li><li><a href=#6-diff>6. diff</a></li></ul></li><li><a href=#九文件管理命令>九、文件管理命令</a><ul><li><a href=#1-touch>1. touch</a></li><li><a href=#2-mkdir>2. mkdir</a></li><li><a href=#3-cp>3. cp</a></li><li><a href=#4-mv>4. mv</a></li><li><a href=#5-rm>5. rm</a></li><li><a href=#6-file>6. file</a></li></ul></li><li><a href=#十压缩与搜索命令>十、压缩与搜索命令</a><ul><li><a href=#1-tar>1. tar</a></li><li><a href=#2-grep>2. grep</a></li><li><a href=#3-find>3. find</a></li></ul></li><li><a href=#十一用户管理相关命令>十一、用户管理相关命令</a><ul><li><a href=#1-useradd>1. useradd</a></li><li><a href=#2-groupadd>2. groupadd</a></li><li><a href=#3-usermod>3. usermod</a></li><li><a href=#4-passwd>4. passwd</a></li><li><a href=#5-userdel>5. userdel</a></li></ul></li><li><a href=#十二文件权限相关命令>十二、文件权限相关命令</a><ul><li><a href=#1-chmod>1. chmod</a></li><li><a href=#2-chown>2. chown</a></li><li><a href=#3-软硬链接>3. 软硬链接</a></li></ul></li><li><a href=#十三vim-编辑器常用命令>十三、Vim 编辑器常用命令</a></li><li><a href=#十四输入输出重定向>十四、输入输出重定向</a></li><li><a href=#参考资料>参考资料</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Heibaiying-Linux-Commands-CheatSheet</h1><div class=article-style><h1 id=linux-常用-shell-命令>Linux 常用 Shell 命令</h1><h2 id=一linux-目录结构>一、Linux 目录结构</h2><table><thead><tr><th>目录名称</th><th>应放置文件的内容</th></tr></thead><tbody><tr><td>/boot</td><td>开机所需文件—内核、开机菜单以及所需配置文件等</td></tr><tr><td>/dev</td><td>以文件形式存放任何设备与接口</td></tr><tr><td>/etc</td><td>配置文件</td></tr><tr><td>/home</td><td>用户主目录</td></tr><tr><td>/bin</td><td>存放单用户模式下还可以操作的命令</td></tr><tr><td>/lib</td><td>开机时用到的函数库，以及/bin 与/sbin 下面的命令要调用的函数</td></tr><tr><td>/sbin</td><td>开机过程中需要的命令</td></tr><tr><td>/media</td><td>用于挂载设备文件的目录</td></tr><tr><td>/opt</td><td>放置第三方的软件</td></tr><tr><td>/root</td><td>系统管理员的家目录</td></tr><tr><td>/srv</td><td>一些网络服务的数据文件目录</td></tr><tr><td>/tmp</td><td>任何人均可使用的“共享”临时目录</td></tr><tr><td>/proc</td><td>虚拟文件系统，例如系统内核、进程、外部设备及网络状态等</td></tr><tr><td>/usr/local</td><td>用户自行安装的软件</td></tr><tr><td>/usr/sbin</td><td>Linux 系统开机时不会使用到的软件/命令/脚本</td></tr><tr><td>/usr/share</td><td>帮助与说明文件，也可放置共享文件</td></tr><tr><td>/var</td><td>主要存放经常变化的文件，如日志</td></tr><tr><td>/lost+found</td><td>当文件系统发生错误时，将一些丢失的文件片段存放在这里</td></tr></tbody></table><h2 id=二帮助命令>二、帮助命令</h2><p>想要查看某个命令的帮助信息，可以使用 man 命令。执行 man 命令后，就进入到浏览页面，浏览页面常用按键如下：</p><table><thead><tr><th>按键</th><th>用处</th></tr></thead><tbody><tr><td>空格键</td><td>向下翻一页</td></tr><tr><td>PaGe down</td><td>向下翻一页</td></tr><tr><td>PaGe up</td><td>向上翻一页</td></tr><tr><td>home</td><td>直接前往首页</td></tr><tr><td>end</td><td>直接前往尾页</td></tr><tr><td>/</td><td>从上至下搜索某个关键词，如“/linux”</td></tr><tr><td>?</td><td>从下至上搜索某个关键词，如“?linux”</td></tr><tr><td>n</td><td>定位到下一个搜索到的关键词</td></tr><tr><td>N</td><td>定位到上一个搜索到的关键词</td></tr><tr><td>q</td><td>退出帮助文档</td></tr></tbody></table><h2 id=三yum-相关命令>三、Yum 相关命令</h2><table><thead><tr><th>命令</th><th>列出所有仓库</th></tr></thead><tbody><tr><td>yum repolist all</td><td>列出所有仓库</td></tr><tr><td>yum list all</td><td>列出仓库中所有软件包</td></tr><tr><td>yum info 软件包名称</td><td>查看软件包信息</td></tr><tr><td>yum install 软件包名称</td><td>安装软件包</td></tr><tr><td>yum reinstall 软件包名称</td><td>重新安装软件包</td></tr><tr><td>yum update 软件包名称</td><td>升级软件包</td></tr><tr><td>yum remove 软件包名称</td><td>移除软件包</td></tr><tr><td>yum clean all</td><td>清除所有仓库缓存</td></tr><tr><td>yum check-update</td><td>检查可更新的软件包</td></tr><tr><td>yum grouplist</td><td>查看系统中已经安装的软件包组</td></tr><tr><td>yum groupinstall 软件包组</td><td>安装指定的软件包组</td></tr><tr><td>yum groupremove 软件包组</td><td>移除指定的软件包组</td></tr><tr><td>yum groupinfo 软件包组</td><td>查询指定的软件包组信息</td></tr></tbody></table><h2 id=四服务相关命令>四、服务相关命令</h2><p>服务的启动、重启、停止、重载、查看状态等常用命令如下：</p><table><thead><tr><th>System V init 命令（RHEL 6 系统）</th><th>systemctl 命令（RHEL 7 系统）</th><th>作用</th></tr></thead><tbody><tr><td>service foo start</td><td>systemctl start foo.service</td><td>启动服务</td></tr><tr><td>service foo restart</td><td>systemctl restart foo.service</td><td>重启服务</td></tr><tr><td>service foo stop</td><td>systemctl stop foo.service</td><td>停止服务</td></tr><tr><td>service foo reload</td><td>systemctl reload foo.service</td><td>重新加载配置文件（不终止服务）</td></tr><tr><td>service foo status</td><td>systemctl status foo.service</td><td>查看服务状态</td></tr></tbody></table><p>服务开机启动、不启动、查看各级别下服务启动状态等常用命令：</p><table><thead><tr><th>System V init 命令（RHEL 6 系统）</th><th>systemctl 命令（RHEL 7 系统）</th><th>作用</th></tr></thead><tbody><tr><td>chkconfig foo in</td><td>systemctl enable foo.service</td><td>开机自动启动</td></tr><tr><td>chkconfig foo off</td><td>systemctl disable foo.service</td><td>开机不自动启动</td></tr><tr><td>chkconfig foo</td><td>systemctl is-enable foo.service</td><td>查看特定服务是否为开启自动启动</td></tr><tr><td>chkconfig &ndash;list</td><td>systemctl list-unit-files &ndash;type=service</td><td>查看各个级别下服务的启动与禁用情况</td></tr></tbody></table><h2 id=五常用系统命令>五、常用系统命令</h2><h3 id=1-echo>1. echo</h3><p>echo 命令用于在终端输出字符串或变量提取后的值，格式为：echo [字符串 | $变量] 。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># echo hello</span>
</span></span><span class=line><span class=cl>hello
</span></span><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># echo $JAVA_HOME</span>
</span></span><span class=line><span class=cl>/usr/java/jdk1.8.0_201
</span></span></code></pre></div><h3 id=2-date>2. date</h3><p>date 命令用于显示及设置系统的时间或日期。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>%t</td><td>跳格[Tab 键]</td></tr><tr><td>%H</td><td>小时（00 ～ 23）</td></tr><tr><td>%I</td><td>小时（00 ～ 12）</td></tr><tr><td>%M</td><td>分钟（00 ～ 59）</td></tr><tr><td>%S</td><td>秒（00 ～ 59）</td></tr><tr><td>%j</td><td>今年中的第几天</td></tr></tbody></table><p>按照默认格式查看当前时间：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># date</span>
</span></span><span class=line><span class=cl>2019年 07月 02日 星期二 14:07:34 CST
</span></span></code></pre></div><p>按照“年-月-日 小时:分钟:秒”的格式查看当前系统时间的 date 命令如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># date &#34;+%Y-%m-%d %H:%M:%S&#34;</span>
</span></span><span class=line><span class=cl>2019-07-02 14:07:52
</span></span></code></pre></div><p>设置系统时间：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># date -s &#34;20190702 14:10:10&#34;</span>
</span></span><span class=line><span class=cl>2019年 07月 02日 星期二 14:10:10 CST
</span></span></code></pre></div><h3 id=3-reboot>3. reboot</h3><p>reboot 命令用于重启系统，其格式为 reboot。</p><h3 id=4-poweroff>4. poweroff</h3><p>poweroff 命令用于关闭系统，其格式为 poweroff。</p><h3 id=5-wget>5. wget</h3><p>wget 命令用于在终端中下载网络文件，格式为： wget [参数] 下载地址。 常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-b</td><td>后台下载模式</td></tr><tr><td>-P</td><td>下载到指定目录</td></tr><tr><td>-t</td><td>最大尝试次数</td></tr><tr><td>-c</td><td>断点续传</td></tr><tr><td>-p</td><td>下载页面内所有资源，包括图片、视频等</td></tr><tr><td>-r</td><td>递归下载</td></tr></tbody></table><p>示例下载百度首页的内容到<code>/usr/baidu</code>目录下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 usr<span class=o>]</span><span class=c1># wget -r -p www.baidu.com -P /usr/baidu</span>
</span></span></code></pre></div><h3 id=6-ps>6. ps</h3><p>ps 命令用于查看系统中的进程状态，格式为：ps [参数] ，常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-a</td><td>显示所有进程（包括其他用户的进程）</td></tr><tr><td>-u</td><td>用户以及其他详细信息</td></tr><tr><td>-x</td><td>显示没有控制终端的进程</td></tr></tbody></table><p>在 Linux 系统中，有 5 种常见的进程状态，分别为运行、中断、不可中断、僵死与停止：</p><ul><li><strong>R (运行)</strong> ：进程正在运行或在运行队列中等待。</li><li><strong>S (中断)</strong> ：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该 状态。</li><li><strong>D (不可中断)</strong> ：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</li><li><strong>Z (僵死)</strong> ：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</li><li><strong>T (停止)</strong> ：进程收到停止信号后停止运行。</li></ul><p>示例如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 usr<span class=o>]</span><span class=c1># ps -u</span>
</span></span><span class=line><span class=cl>USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
</span></span><span class=line><span class=cl>root      <span class=m>2688</span>  0.0  0.0 <span class=m>110092</span>   <span class=m>856</span> tty1     Ss+  13:45   0:00 /sbin/agetty --
</span></span><span class=line><span class=cl>root      <span class=m>3679</span>  0.0  0.1 <span class=m>115572</span>  <span class=m>2216</span> pts/0    Ss   13:52   0:00 -bash
</span></span><span class=line><span class=cl>root     <span class=m>12471</span>  0.0  0.1 <span class=m>155360</span>  <span class=m>1888</span> pts/0    R+   14:17   0:00 ps -u
</span></span></code></pre></div><table><thead><tr><th>USER</th><th>PID</th><th>%CPU</th><th>%MEM</th><th>VSZ</th><th>RSS</th><th>TTY</th><th>STAT</th><th>START</th><th>TIME</th><th>COMMAND</th></tr></thead><tbody><tr><td>进程的所有者</td><td>进程 ID 号</td><td>运算器占用率</td><td>内存占用率</td><td>虚拟内存使用量(单位是 KB)</td><td>占用的固定内存量(单位是 KB)</td><td>所在终端</td><td>进程状态</td><td>被启动的时间</td><td>实际使用 CPU 的时间</td><td>命令名称与参数</td></tr></tbody></table><h3 id=7-top>7. top</h3><p>top 命令用于动态地监视进程活动与系统负载等信息，其格式为 top。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>top - 14:21:25 up <span class=m>35</span> min,  <span class=m>1</span> user,  load average: 0.00, 0.02, 0.05
</span></span><span class=line><span class=cl>Tasks: <span class=m>104</span> total,   <span class=m>1</span> running, <span class=m>103</span> sleeping,   <span class=m>0</span> stopped,   <span class=m>0</span> zombie
</span></span><span class=line><span class=cl>%Cpu<span class=o>(</span>s<span class=o>)</span>:  0.5 us,  0.7 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.2 si,  0.0 st
</span></span><span class=line><span class=cl>KiB Mem :  <span class=m>1882148</span> total,  <span class=m>1316728</span> free,   <span class=m>203592</span> used,   <span class=m>361828</span> buff/cache
</span></span><span class=line><span class=cl>KiB Swap:  <span class=m>2097148</span> total,  <span class=m>2097148</span> free,        <span class=m>0</span> used.  <span class=m>1497748</span> avail Mem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
</span></span><span class=line><span class=cl> <span class=m>3680</span> root      <span class=m>20</span>   <span class=m>0</span>  <span class=m>113444</span>   <span class=m>1776</span>   <span class=m>1344</span> S   0.3  0.1   0:06.45 bash
</span></span><span class=line><span class=cl><span class=m>13685</span> root      <span class=m>20</span>   <span class=m>0</span>  <span class=m>161880</span>   <span class=m>2200</span>   <span class=m>1560</span> R   0.3  0.1   0:00.09 top
</span></span><span class=line><span class=cl>    <span class=m>1</span> root      <span class=m>20</span>   <span class=m>0</span>  <span class=m>193696</span>   <span class=m>6656</span>   <span class=m>4180</span> S   0.0  0.4   0:03.10 systemd
</span></span></code></pre></div><p>top 命令执行结果的前 5 行为系统整体的统计信息，其所代表的含义如下：</p><p><strong>第 1 行</strong>：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、5 分钟、15 分钟内的平均值，数值越小意味着负载越低）。</p><p><strong>第 2 行</strong>：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数。</p><p><strong>第 3 行</strong>：用户占用资源百分比（us）、系统内核占用资源百分比（sy）、改变过优先级的进程资源百分比（ni）、空闲的资源百分比（id）等。其中数据均为 CPU 数据并以百分比格式显示，例如 <code>98.7 id</code> 意味着有 98.7% 的 CPU 处理器资源处于空闲。</p><p><strong>第 4 行</strong>：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量。</p><p><strong>第 5 行</strong>：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量。</p><h3 id=8-pidof>8. pidof</h3><p>pidof 命令用于查询某个指定服务进程的 PID 值，格式为：pidof [参数][服务名称]。</p><h3 id=9-kill>9. kill</h3><p>kill 命令用于终止某个指定 PID 的服务进程，格式为：kill [参数][进程 PID]。</p><h3 id=10-killall>10. killall</h3><p>killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为：killall [参数][服务名称]。</p><h2 id=六状态检测命令>六、状态检测命令</h2><h3 id=1-ifconfig>1. ifconfig</h3><p>ifconfig 命令用于获取网卡配置与网络状态等信息，格式为：ifconfig [网络设备][参数]。</p><h3 id=2-uname>2. uname</h3><p>uname 命令用于查看系统内核与系统版本等信息，格式为：uname [-a]。-a 参数用来查看详细信息，主要有内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称等信息。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># uname -a</span>
</span></span><span class=line><span class=cl>Linux hadoop001 3.10.0-957.el7.x86_64 <span class=c1>#1 SMP Thu Nov 8 23:39:32 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span>
</span></span></code></pre></div><p>如果要查看当前系统版本的详细信息，可以使用如下命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># cat /etc/redhat-release</span>
</span></span><span class=line><span class=cl>CentOS Linux release 7.6.1810 <span class=o>(</span>Core<span class=o>)</span>
</span></span></code></pre></div><h3 id=3-uptime>3. uptime</h3><p>uptime 用于查看系统的负载信息。显示<strong>当前系统时间</strong>、<strong>系统已运行时间</strong>、<strong>启用终端数量</strong>以及<strong>平均负载值</strong>等信息。平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># uptime</span>
</span></span><span class=line><span class=cl> 14:32:06 up <span class=m>46</span> min,  <span class=m>1</span> user,  load average: 0.00, 0.01, 0.05
</span></span></code></pre></div><h3 id=4-free>4. free</h3><p>free 用于显示当前系统中内存的使用量信息，格式为：free [-h]。 执行<code>free -h</code>命令后的输出信息如下：</p><table><thead><tr><th></th><th>内存总量</th><th>已用量</th><th>可用量</th><th>进程共享的内存量</th><th>磁盘缓存的内存量</th><th>缓存的内存量</th></tr></thead><tbody><tr><td></td><td>total</td><td>used</td><td>free</td><td>shared</td><td>buffers</td><td>cached</td></tr><tr><td>Mem:</td><td>1.8G</td><td>198M</td><td>1.3G</td><td>8.5M</td><td>353M</td><td>1.4G</td></tr><tr><td>Swap:</td><td>2.0G</td><td>0B</td><td>2.0G</td><td></td><td></td><td></td></tr></tbody></table><p>swap 全称为 swap place，即交换区，当内存不够的时候，被踢出的进程被暂时存储到交换区。当需要这条被踢出的进程的时候，就从交换区重新加载到内存，否则它不会主动交换到真实内存中。</p><h3 id=5-who>5. who</h3><p>who 用于查看当前登入主机的用户终端信息，格式为：who [参数]。</p><h3 id=6-last>6. last</h3><p>last 命令用于查看所有系统的登录记录，格式为：last [参数]。</p><h3 id=7-history>7. history</h3><p>history 命令用于显示历史执行过的命令，格式为：history [-c]，默认显示最近 1000 条命令记录。可以使用 <code>!序号</code> 的方式来重复执行某条命令。</p><h3 id=8-sosreport>8. sosreport</h3><p>sosreport 命令用于收集系统配置及架构信息并输出诊断文档。使用时如果找不到该命令，则需要先使用<code>yum install sos</code>命令来安装 sos 包。</p><h2 id=七目录相关命令>七、目录相关命令</h2><h3 id=1-pwd>1. pwd</h3><p>显示当前所在的路径信息。</p><h3 id=2-cd>2. cd</h3><p>切换到指定目录，<code>cd -</code>命令返回到上一次所处的目录。</p><h3 id=3-ls>3. ls</h3><p>显示当前路径下的文件信息。想要查看文件的详细信息可以使用<code>ls -l </code>，也可以简写为<code>ll</code>。</p><h2 id=八文件编辑命令>八、文件编辑命令</h2><h3 id=1-cat>1. cat</h3><p>cat 命令用于查看内容较少的纯文本文件，格式为：cat [选项][文件]。常用参数为<code>-n</code>，代表带行号显示。</p><h3 id=2-more>2. more</h3><p>more 命令用于查看内容较多的纯文本文件，格式为：more [选项]文件。可以使用空格键或回车键向下翻页。</p><h3 id=3-head>3. head</h3><p>head 命令用于查看纯文本文档的前 N 行，格式为：head [选项][文件]。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>head -n <span class=m>20</span> hdfs-site.xml
</span></span></code></pre></div><h3 id=4-tail>4. tail</h3><p>tail 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式为：tail [选项][文件]。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>head -n <span class=m>20</span> hdfs-site.xml
</span></span></code></pre></div><p>tail 命令可以持续观察一个文件新写入的内容，此时命令为：tail -f 文件名。</p><h3 id=5-stat>5. stat</h3><p>stat 命令用于查看文件的具体存储信息和时间等信息，示例如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 hadoop<span class=o>]</span><span class=c1># stat hdfs-site.xml</span>
</span></span><span class=line><span class=cl>  文件：<span class=s2>&#34;hdfs-site.xml&#34;</span>
</span></span><span class=line><span class=cl>  大小：1021            块：8          IO 块：4096   普通文件
</span></span><span class=line><span class=cl>设备：fd00h/64768d      Inode：3305180     硬链接：1
</span></span><span class=line><span class=cl>权限：<span class=o>(</span>0644/-rw-r--r--<span class=o>)</span>  Uid：<span class=o>(</span> 1106/ UNKNOWN<span class=o>)</span>   Gid：<span class=o>(</span> 4001/ UNKNOWN<span class=o>)</span>
</span></span><span class=line><span class=cl>环境：unconfined_u:object_r:usr_t:s0
</span></span><span class=line><span class=cl>最近访问：2019-07-02 14:50:22.700674460 +0800
</span></span><span class=line><span class=cl>最近更改：2019-04-30 16:06:24.421716553 +0800
</span></span><span class=line><span class=cl>最近改动：2019-04-30 16:06:24.423716557 +0800
</span></span><span class=line><span class=cl>创建时间：-
</span></span></code></pre></div><h3 id=6-diff>6. diff</h3><p>diff 命令用于比较多个文本文件的差异，格式为：diff [参数] 文件。 常用参数如下：</p><ul><li>使用<code>-c</code>参数来详细比较出多个文件的差异之处 ；</li><li>使用<code>--brief</code>参数来确认两个文件是否不同。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>diff -c diff_A.txt diff_B.txt
</span></span><span class=line><span class=cl>diff --brief diff_A.txt diff_B.txt
</span></span></code></pre></div><h2 id=九文件管理命令>九、文件管理命令</h2><h3 id=1-touch>1. touch</h3><p>touch 命令用于创建空白文件或设置文件的时间，格式为：touch [选项][文件]。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-a</td><td>仅修改读取时间（atime）</td></tr><tr><td>-m</td><td>仅修改修改时间（mtime）</td></tr><tr><td>-d</td><td>同时修改 atime 与 mtime</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 hadoop<span class=o>]</span><span class=c1># touch -d &#34;2018-08-08 08:08&#34; hdfs-site.xml</span>
</span></span></code></pre></div><h3 id=2-mkdir>2. mkdir</h3><p>mkdir 命令用于创建空白的目录，格式为：mkdir [选项] 目录。常用参数为<code>-p</code>，代表递归创建：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mkdir -p a/b/c/d/e
</span></span></code></pre></div><h3 id=3-cp>3. cp</h3><p>cp 命令用于复制文件或目录，格式为：<code>cp [选项] 源文件 目标文件</code>。 常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-p</td><td>保留原始文件的属性</td></tr><tr><td>-d</td><td>若对象为“链接文件”，则保留该“链接文件”的属性</td></tr><tr><td>-r</td><td>递归持续复制（用于目录）</td></tr><tr><td>-i</td><td>若目标文件存在则询问是否覆盖</td></tr><tr><td>-a</td><td>相当于 -pdr（p、d、r 为上述参数）</td></tr></tbody></table><h3 id=4-mv>4. mv</h3><p>mv 命令用于剪切文件或将文件重命名，格式为：<code>mv [选项] 源文件 [目标路径|目标文件名]</code>。 如果在同一个目录中对一个文件进行剪切操作，等价于对其进行重命名：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> mv yarn-site.xml hello.xml
</span></span></code></pre></div><h3 id=5-rm>5. rm</h3><p>rm 命令用于删除文件或目录，格式为：rm [选项] 文件。 常用参数如下：</p><ul><li><code>-f</code>：参数来强制删除；</li><li><code>-r</code> ：参数递归删除文件夹。</li></ul><h3 id=6-file>6. file</h3><p>file 命令用于查看文件的类型，格式为：file 文件名。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 hadoop<span class=o>]</span><span class=c1># file yarn-site.xml</span>
</span></span><span class=line><span class=cl>yarn-site.xml: XML 1.0 document, UTF-8 Unicode text
</span></span></code></pre></div><h2 id=十压缩与搜索命令>十、压缩与搜索命令</h2><h3 id=1-tar>1. tar</h3><p>tar 命令用于对文件进行压缩或解压，格式为：tar [选项] [文件]。 常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-c</td><td>创建压缩文件</td></tr><tr><td>-x</td><td>解开压缩文件</td></tr><tr><td>-t</td><td>查看压缩包内有哪些文件</td></tr><tr><td>-z</td><td>用 Gzip 压缩或解压</td></tr><tr><td>-j</td><td>用 bzip2 压缩或解压</td></tr><tr><td>-v</td><td>显示压缩或解压的过程</td></tr><tr><td>-f</td><td>目标文件名</td></tr><tr><td>-p</td><td>保留原始的权限与属性</td></tr><tr><td>-P</td><td>使用绝对路径来压缩</td></tr><tr><td>-C</td><td>指定解压到的目录</td></tr></tbody></table><p>常用打包命令：<code>tar -czvf 压缩包名称.tar.gz 要打包的目录</code>；</p><p>常用解压命令：<code>tar -xzvf 压缩包名称.tar.gz</code>。</p><h3 id=2-grep>2. grep</h3><p>grep 命令用于执行关键词搜索，并显示匹配的结果，格式为：grep [选项][文件]。 常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-b</td><td>将可执行文件（binary）当作文本文件（text）来搜索</td></tr><tr><td>-c</td><td>仅显示找到的行数</td></tr><tr><td>-i</td><td>忽略大小写</td></tr><tr><td>-n</td><td>显示行号</td></tr><tr><td>-v</td><td>反向选择——仅列出没有关键词的行。</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 hadoop<span class=o>]</span><span class=c1># cat core-site.xml | grep hadoop -n</span>
</span></span><span class=line><span class=cl>22:    &lt;value&gt;hdfs://hadoop001:8020&lt;/value&gt;
</span></span><span class=line><span class=cl>25:    &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;
</span></span><span class=line><span class=cl>29:    &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;
</span></span></code></pre></div><h3 id=3-find>3. find</h3><p>find 命令用于按照指定条件来查找文件，格式为：<code>find [查找路径] 寻找条件 操作</code>。 常用命令如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-name</td><td>匹配名称</td></tr><tr><td>-perm</td><td>匹配权限（mode 为完全匹配，-mode 为包含即可）</td></tr><tr><td>-user</td><td>匹配所有者</td></tr><tr><td>-group</td><td>匹配所有组</td></tr><tr><td>-mtime -n +n</td><td>匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td>-atime -n +n</td><td>匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td>-ctime -n +n</td><td>匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td>-nouser</td><td>匹配无所有者的文件</td></tr><tr><td>-nogroup</td><td>匹配无所有组的文件</td></tr><tr><td>-newer f1 !f2</td><td>匹配比文件 f1 新但比 f2 旧的文件</td></tr><tr><td>&ndash;type b/d/c/p/l/f</td><td>匹配文件类型（后面的字幕字母依次表示块设备、目录、字符设备、管道、链接文件、文本文件）</td></tr><tr><td>-size</td><td>匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于 50KB 的文件）</td></tr><tr><td>-prune</td><td>忽略某个目录</td></tr><tr><td>-exec …… {};</td><td>后面可跟用于进一步处理搜索结果的命令</td></tr></tbody></table><p>获取到指定目录中所有以 host 开头的文件列表，可以执行如下命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find /etc -name <span class=s2>&#34;host*&#34;</span> -print
</span></span></code></pre></div><h2 id=十一用户管理相关命令>十一、用户管理相关命令</h2><h3 id=1-useradd>1. useradd</h3><p>useradd 命令用于创建新的用户，格式为：useradd [选项] 用户名。使用该命令创建用户账户时，默认的用户家目录会被存放在<code>/home</code>目录中，默认的 Shell 解释器为<code>/bin/bash</code>，默认会创建一个与该用户同名的基本用户组。常用配置如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-d</td><td>指定用户的家目录（默认为/home/username）</td></tr><tr><td>-e</td><td>账户的到期时间，格式为 YYYY-MM-DD.</td></tr><tr><td>-u</td><td>指定该用户的默认 UID</td></tr><tr><td>-g</td><td>指定一个初始的用户基本组（必须已存在）</td></tr><tr><td>-G</td><td>指定一个或多个扩展用户组</td></tr><tr><td>-N</td><td>不创建与用户同名的基本用户组</td></tr><tr><td>-s</td><td>指定该用户的默认 Shell 解释器</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># id heibaiying</span>
</span></span><span class=line><span class=cl><span class=nv>uid</span><span class=o>=</span>1000<span class=o>(</span>heibaiying<span class=o>)</span> <span class=nv>gid</span><span class=o>=</span>1000<span class=o>(</span>heibaiying<span class=o>)</span> 组<span class=o>=</span>1000<span class=o>(</span>heibaiying<span class=o>)</span>
</span></span></code></pre></div><p>UID 就相当是用户的唯一标识，其赋值规则如下：</p><ul><li>管理员 UID 为 0：系统的管理员用户。</li><li>系统用户 UID 为 1 ～ 999： Linux 系统为了避免因某个服务程序出现漏洞而被黑客提权至整台服务器，默认服务程序会有独立的系统用户负责运行，进而有效控制被破坏范围。</li><li>普通用户 UID 从 1000 开始：是由管理员创建的用于日常工作的用户。</li></ul><h3 id=2-groupadd>2. groupadd</h3><p>groupadd 命令用于创建用户组，格式为：groupadd [选项] 群组名。</p><h3 id=3-usermod>3. usermod</h3><p>创建后用户的信息保存在<code>/etc/passwd</code>文件中，可以直接对其进行编辑来修改用户参数，或使用 usermod 命令。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-c</td><td>填写用户账户的备注信息</td></tr><tr><td>-d -m</td><td>参数-m 与参数-d 连用，可重新指定用户的家目录并自动把旧的数据转移过去</td></tr><tr><td>-e</td><td>账户的到期时间，格式为 YYYY-MM-DD</td></tr><tr><td>-g</td><td>变更所属用户组</td></tr><tr><td>-G</td><td>变更扩展用户组</td></tr><tr><td>-L</td><td>锁定用户禁止其登录系统</td></tr><tr><td>-U</td><td>解锁用户，允许其登录系统</td></tr><tr><td>-s</td><td>变更默认终端</td></tr><tr><td>-u</td><td>修改用户的 UID</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># usermod -u 9999 heibaiying</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># id heibaiying</span>
</span></span><span class=line><span class=cl><span class=nv>uid</span><span class=o>=</span>9999<span class=o>(</span>heibaiying<span class=o>)</span> <span class=nv>gid</span><span class=o>=</span>1000<span class=o>(</span>heibaiying<span class=o>)</span> 组<span class=o>=</span>1000<span class=o>(</span>heibaiying<span class=o>)</span>
</span></span></code></pre></div><h3 id=4-passwd>4. passwd</h3><p>passwd 命令用于设置或修改用户密码、过期时间、认证信息等，格式为：passwd [选项][用户名]。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-l</td><td>锁定用户，禁止其登录</td></tr><tr><td>-u</td><td>解除锁定，允许用户登录</td></tr><tr><td>&ndash;stdin</td><td>允许通过标准输入修改用户密码，如 echo &ldquo;NewPassWord&rdquo; | passwd &ndash;stdin Username</td></tr><tr><td>-d</td><td>使该用户可用空密码登录系统</td></tr><tr><td>-e</td><td>强制用户在下次登录时修改密码</td></tr><tr><td>-S</td><td>显示用户的密码是否被锁定，以及密码所采用的加密算法名称</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># passwd</span>
</span></span><span class=line><span class=cl>更改用户 root 的密码 。
</span></span><span class=line><span class=cl>新的 密码：
</span></span><span class=line><span class=cl>重新输入新的 密码：
</span></span><span class=line><span class=cl>passwd：所有的身份验证令牌已经成功更新。
</span></span></code></pre></div><h3 id=5-userdel>5. userdel</h3><p>userdel 命令用于删除用户，格式为：userdel [选项] 用户名。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-f</td><td>强制删除用户</td></tr><tr><td>-r</td><td>同时删除用户及用户家目录</td></tr></tbody></table><h2 id=十二文件权限相关命令>十二、文件权限相关命令</h2><p>使用 <code>ll</code> 命令可以查看到文件的详细属性，各个属性的含义如下：</p><div align=center><img src=https://gitee.com/heibaiying/Full-Stack-Notes/raw/master/pictures/文件属性信息.png></div><p>文件类型可以分为以下几类：</p><ul><li>-：普通文件。</li><li>d：目录文件。</li><li>l：链接文件。</li><li>b：块设备文件。</li><li>c：字符设备文件。</li><li>p：管道文件。</li></ul><h3 id=1-chmod>1. chmod</h3><p>chmod 用于设置文件或目录的权限，格式为：chmod [参数] 权限 文件或目录名称。 权限支持字符表示和数字表示两种形式，其对应关系如下：</p><div align=center><img src=https://gitee.com/heibaiying/Full-Stack-Notes/raw/master/pictures/文件权限的字符与数字表示.png></div>示例如下：<pre tabindex=0><code>[root@hadoop001 ~]# ll test.txt
-rw-r--r--. 1 root root 0 7月   3 14:49 test.txt
[root@hadoop001 ~]# chmod 760  test.txt
[root@hadoop001 ~]# ll test.txt
-rwxrw----. 1 root root 0 7月   3 14:49 test.txt
</code></pre><h3 id=2-chown>2. chown</h3><p>chown 设置文件或目录的所有者和所属组，格式为：chown [参数] 所有者:所属组 文件或目录名称。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># stat test.txt</span>
</span></span><span class=line><span class=cl>......
</span></span><span class=line><span class=cl>权限：<span class=o>(</span>0760/-rwxrw----<span class=o>)</span>  Uid：<span class=o>(</span>    0/    root<span class=o>)</span>   Gid：<span class=o>(</span>    0/    root<span class=o>)</span>
</span></span><span class=line><span class=cl>......
</span></span><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># chown  heibaiying:heibaiying test.txt</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@hadoop001 ~<span class=o>]</span><span class=c1># stat test.txt</span>
</span></span><span class=line><span class=cl>......
</span></span><span class=line><span class=cl>权限：<span class=o>(</span>0760/-rwxrw----<span class=o>)</span>  Uid：<span class=o>(</span> 9999/heibaiying<span class=o>)</span>   Gid：<span class=o>(</span> 1000/heibaiying<span class=o>)</span>
</span></span><span class=line><span class=cl>......
</span></span></code></pre></div><h3 id=3-软硬链接>3. 软硬链接</h3><p><strong>硬链接（hard link）</strong>：可以将它理解为一个“指向原始文件 inode 的指针”，系统不为它分配独立的 inode 和文件。所以，硬链接文件与原始文件其实是同一个文件，只是名字不同。我们每添加一个硬链接，该文件的 inode 连接数就会增加 1；而且只有当该文件的 inode 连接数为 0 时，才算彻底将它删除。换言之，由于硬链接实际上是指向原文件 inode 的指针，因此即便原始文件被删除，依然可以通过硬链接文件来访问。</p><p><strong>软链接（也称为符号链接）</strong>：仅仅包含所链接文件的路径名，因此能链接目录文件，也可以跨越文件系统进行链接。但是，当原始文件被删除后，链接文件也将失效，与 Windows 系统中的快捷方式类似。</p><p>ln 命令用于创建链接文件，格式为：ln [选项] 目标。常用参数如下：</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-s</td><td>创建符号链接（如果不带-s 参数，则默认创建硬链接）</td></tr><tr><td>-f</td><td>强制创建文件或目录的链接</td></tr><tr><td>-i</td><td>覆盖前先询问</td></tr><tr><td>-v</td><td>显示创建链接的过程</td></tr></tbody></table><h2 id=十三vim-编辑器常用命令>十三、Vim 编辑器常用命令</h2><p>Vim 编辑器有三种状态模式：</p><ul><li>命令模式：控制光标移动，可对文本进行复制、粘贴、删除和查找等工作。</li><li>输入模式：正常的文本录入。</li><li>末行模式：保存或退出文档，以及设置编辑环境。</li></ul><div align=center><img src=https://gitee.com/heibaiying/Full-Stack-Notes/raw/master/pictures/vim不同模式间的切换.png></div>命令模式中常用的命令如下：<table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td>dd</td><td>删除（剪切）光标所在整行</td></tr><tr><td>5dd</td><td>删除（剪切）从光标处开始的 5 行</td></tr><tr><td>yy</td><td>复制光标所在整行</td></tr><tr><td>5yy</td><td>复制从光标处开始的 5 行</td></tr><tr><td>n</td><td>显示搜索命令定位到的下一个字符串</td></tr><tr><td>N</td><td>显示搜索命令定位到的上一个字符串</td></tr><tr><td>u</td><td>撤销上一步的操作</td></tr><tr><td>p</td><td>将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td></tr></tbody></table><p>末行模式中可用的命令如下：</p><table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td>:w</td><td>保存</td></tr><tr><td>:q</td><td>退出</td></tr><tr><td>:q!</td><td>强制退出（放弃对文档的修改内容）</td></tr><tr><td>:wq!</td><td>强制保存退出</td></tr><tr><td>:set nu</td><td>显示行号</td></tr><tr><td>:set nonu</td><td>不显示行号</td></tr><tr><td>:命令</td><td>执行该命令</td></tr><tr><td>:整数</td><td>跳转到该行</td></tr><tr><td>:s/one/two</td><td>将当前光标所在行的第一个 one 替换成 two</td></tr><tr><td>:s/one/two/g</td><td>将当前光标所在行的所有 one 替换成 two</td></tr><tr><td>:%s/one/two/g</td><td>将全文中的所有 one 替换成 two</td></tr><tr><td>?字符串</td><td>在文本中从下至上搜索该字符串</td></tr><tr><td>/字符串</td><td>在文本中从上至下搜索该字符串</td></tr></tbody></table><p>使用 a、 i、 o 三个键从命令模式切换到输入模式。其中， <code>a</code> 键与 <code>i</code> 键分别是在光标后面一位和光标当前位置切换到输入模式，而 <code>o</code> 键则是在光标的下面再创建一个空行，此时可敲击 <code>a</code> 键进入到输入模式。</p><h2 id=十四输入输出重定向>十四、输入输出重定向</h2><p>输入重定向是指把文件导入到命令中，而输出重定向则是指把原本要输出到屏幕的数据信息写入到指定文件中。同时输出重定向又分为标准输出重定向和错误输出重定向。</p><ul><li>标准输入重定向（STDIN，文件描述符为 0）：默认从键盘输入，也可从其他文件或命令中输入。</li><li>标准输出重定向（STDOUT，文件描述符为 1）：默认输出到屏幕。</li><li>错误输出重定向（STDERR，文件描述符为 2）：默认输出到屏幕。</li></ul><p>输入重定向中用到的符号及其作用如下：</p><table><thead><tr><th>符号</th><th>作用</th></tr></thead><tbody><tr><td>命令 &lt; 文件</td><td>将文件作为命令的标准输入</td></tr><tr><td>命令 &#171; 分界符</td><td>从标准输入中读入，直到遇见分界符才停止</td></tr><tr><td>命令 &lt; 文件 1 > 文件 2</td><td>将文件 1 作为命令的标准输入并将标准输出到文件 2</td></tr></tbody></table><p>输出重定向中用到的符号及其作用如下：</p><table><thead><tr><th>符号</th><th>作用</th></tr></thead><tbody><tr><td>命令 > 文件</td><td>将标准输出重定向到一个文件中（清空原有文件的数据）</td></tr><tr><td>命令 2> 文件</td><td>将错误输出重定向到一个文件中（清空原有文件的数据）</td></tr><tr><td>命令 &#187; 文件</td><td>将标准输出重定向到一个文件中（追加到原有内容的后面）</td></tr><tr><td>命令 2&#187; 文件</td><td>将错误输出重定向到一个文件中（追加到原有内容的后面）</td></tr><tr><td>命令 &#187; 文件 2>&1 或 命令 &&#187; 文件</td><td>将标准输出与错误输出共同写入到文件中（追加到原有内容的后面）</td></tr></tbody></table><h2 id=参考资料>参考资料</h2><p><a href=https://www.linuxprobe.com/chapter-00.html target=_blank rel=noopener>《Linux 就该这么学》刘遄</a></p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/bash-pitfalls/ rel=next>Bash Pitfalls</a></div><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/awesome-cheatsheets/04.infrastructure/os/linux/commands/trinib-linux-commands-cheatsheet/ rel=prev>Trinib-Linux-Commands-CheatSheet</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>