<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>K8s | Next-gen Tech Edu</title>
    <link>https://ng-tech.icu/books/awesome-cheatsheets/infrastructure/k8s/</link>
      <atom:link href="https://ng-tech.icu/books/awesome-cheatsheets/infrastructure/k8s/index.xml" rel="self" type="application/rss+xml" />
    <description>K8s</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language>
    <image>
      <url>https://ng-tech.icu/media/sharing.png</url>
      <title>K8s</title>
      <link>https://ng-tech.icu/books/awesome-cheatsheets/infrastructure/k8s/</link>
    </image>
    
    <item>
      <title>Kubectl-CheatSheet</title>
      <link>https://ng-tech.icu/books/awesome-cheatsheets/infrastructure/k8s/kubectl-cheatsheet/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/awesome-cheatsheets/infrastructure/k8s/kubectl-cheatsheet/</guid>
      <description>&lt;h1 id=&#34;kubectl-cheatsheet&#34;&gt;kubectl CheatSheet&lt;/h1&gt;
&lt;h2 id=&#34;11-common-commands&#34;&gt;1.1 Common Commands&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Run curl test temporarily&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run --generator=run-pod/v1 --rm mytest --image=yauritux/busybox-curl -it&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Run wget test temporarily&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run --generator=run-pod/v1 --rm mytest --image=busybox -it wget&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Run nginx deployment with 2 replicas&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run my-nginx --image=nginx --replicas=2 --port=80&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Run nginx pod and expose it&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run my-nginx --restart=Never --image=nginx --port=80 --expose&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Run nginx deployment and expose it&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run my-nginx --image=nginx --port=80 --expose&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List authenticated contexts&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config get-contexts&lt;/code&gt;, &lt;code&gt;~/.kube/config&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Set namespace preference&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config set-context &amp;lt;context_name&amp;gt; --namespace=&amp;lt;ns_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods with nodes info&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pod -o wide&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List everything&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get all --all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get all services&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get service --all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get all deployments&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get deployments --all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Show nodes with labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get nodes --show-labels&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get resources with json output&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods --all-namespaces -o json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Validate yaml file with dry run&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl create --dry-run --validate -f pod-dummy.yaml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Start a temporary pod for testing&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl run --rm -i -t --image=alpine test-$RANDOM -- sh&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubectl run shell command&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl exec -it mytest -- ls -l /etc/hosts&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get system conf via configmap&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl -n kube-system get cm kubeadm-config -o yaml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get deployment yaml&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl -n denny-websites get deployment mysql -o yaml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Explain resource&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl explain pods&lt;/code&gt;, &lt;code&gt;kubectl explain svc&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Watch pods&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods -n wordpress --watch&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Query healthcheck endpoint&lt;/td&gt;
&lt;td&gt;&lt;code&gt;curl -L http://127.0.0.1:10250/healthz&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Open a bash terminal in a pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl exec -it storage sh&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Check pod environment variables&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl exec redis-master-ft9ex env&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Enable kubectl shell autocompletion&lt;/td&gt;
&lt;td&gt;&lt;code&gt;echo &amp;quot;source &amp;lt;(kubectl completion bash)&amp;quot; &amp;gt;&amp;gt;~/.bashrc&lt;/code&gt;, and reload&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Use minikube dockerd in your laptop&lt;/td&gt;
&lt;td&gt;&lt;code&gt;eval $(minikube docker-env)&lt;/code&gt;, No need to push docker hub any more&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Kubectl apply a folder of yaml files&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl apply -R -f .&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get services sorted by name&lt;/td&gt;
&lt;td&gt;kubectl get services –sort-by=.metadata.name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get pods sorted by restart count&lt;/td&gt;
&lt;td&gt;kubectl get pods –sort-by=’.status.containerStatuses[0].restartCount’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods and images&lt;/td&gt;
&lt;td&gt;kubectl get pods -o=’custom-columns=PODS:.metadata.name,Images:.spec.containers[*].image’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List all container images&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/dennyzhang/cheatsheet-kubernetes-A4/blob/master/list-all-images.sh#L14-L17&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;list-all-images.sh&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig skip tls verification&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/dennyzhang/cheatsheet-kubernetes-A4/blob/master/skip-tls-verify.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;skip-tls-verify.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://kubernetes.io/docs/tasks/tools/install-kubectl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ubuntu install kubectl&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;=”deb &lt;a href=&#34;https://apt.kubernetes.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://apt.kubernetes.io/&lt;/a&gt; kubernetes-xenial main”=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tags&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub: kubernetes releases&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/cheatsheet-minikube-A4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;minikube cheatsheet&lt;/a&gt;, &lt;a href=&#34;https://cheatsheet.dennyzhang.com/cheatsheet-docker-A4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;docker cheatsheet&lt;/a&gt;, &lt;a href=&#34;https://cheatsheet.dennyzhang.com/cheatsheet-openshift-A4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenShift CheatSheet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;12-check-performance&#34;&gt;1.2 Check Performance&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Get node resource usage&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl top node&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get pod resource usage&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl top pod&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get resource usage for a given pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl top &amp;lt;podname&amp;gt; --containers&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List resource utilization for all containers&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl top pod --all-namespaces --containers=true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;13-resources-deletion&#34;&gt;1.3 Resources Deletion&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Delete pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete pod/&amp;lt;pod-name&amp;gt; -n &amp;lt;my-namespace&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete pod by force&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete pod/&amp;lt;pod-name&amp;gt; --grace-period=0 --force&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete pods by labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete pod -l env=test&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete deployments by labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete deployment -l app=wordpress&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete all resources filtered by labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete pods,services -l name=myLabel&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete resources under a namespace&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl -n my-ns delete po,svc --all&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete persist volumes by labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete pvc -l app=wordpress&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete state fulset only (not pods)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete sts/&amp;lt;stateful_set_name&amp;gt; --cascade=false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://raw.githubusercontent.com/dennyzhang/cheatsheet.dennyzhang.com/master/images/cheatsheet_dns.png&#34; alt=&#34;img&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;14-log--conf-files&#34;&gt;1.4 Log &amp;amp; Conf Files&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Config folder&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/kubernetes/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Certificate files&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/kubernetes/pki/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Credentials to API server&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/kubernetes/kubelet.conf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Superuser credentials&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/kubernetes/admin.conf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubectl config file&lt;/td&gt;
&lt;td&gt;&lt;code&gt;~/.kube/config&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Kubernetes working dir&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/lib/kubelet/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Docker working dir&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/lib/docker/&lt;/code&gt;, &lt;code&gt;/var/log/containers/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Etcd working dir&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/lib/etcd/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Network cni&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/cni/net.d/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Log files&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/log/pods/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;log in worker node&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/log/kubelet.log&lt;/code&gt;, &lt;code&gt;/var/log/kube-proxy.log&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;log in master node&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kube-apiserver.log&lt;/code&gt;, &lt;code&gt;kube-scheduler.log&lt;/code&gt;, &lt;code&gt;kube-controller-manager.log&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Env&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/etc/systemd/system/kubelet.service.d/10-kubeadm.conf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Env&lt;/td&gt;
&lt;td&gt;export KUBECONFIG=/etc/kubernetes/admin.conf&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs my-pod                                 &lt;span class=&#34;c1&#34;&gt;# dump pod logs (stdout)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs -l &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myLabel                        &lt;span class=&#34;c1&#34;&gt;# dump pod logs, with label name=myLabel (stdout)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs my-pod --previous                      &lt;span class=&#34;c1&#34;&gt;# dump pod logs (stdout) for a previous instantiation of a container&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs my-pod -c my-container                 &lt;span class=&#34;c1&#34;&gt;# dump pod container logs (stdout, multi-container case)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs -l &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myLabel -c my-container        &lt;span class=&#34;c1&#34;&gt;# dump pod logs, with label name=myLabel (stdout)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs my-pod -c my-container --previous      &lt;span class=&#34;c1&#34;&gt;# dump pod container logs (stdout, multi-container case) for a previous instantiation of a container&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs -f my-pod                              &lt;span class=&#34;c1&#34;&gt;# stream pod logs (stdout)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs -f my-pod -c my-container              &lt;span class=&#34;c1&#34;&gt;# stream pod container logs (stdout, multi-container case)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs -f -l &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myLabel --all-containers    &lt;span class=&#34;c1&#34;&gt;# stream all pods logs with label name=myLabel (stdout)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs --tail&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; nginx &lt;span class=&#34;c1&#34;&gt;# Display only the most recent 20 lines of output in pod nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl logs --since&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1h nginx &lt;span class=&#34;c1&#34;&gt;# Show all logs from pod nginx written in the last hour&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;15-pod&#34;&gt;1.5 Pod&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List all pods&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods for all namespace&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods -all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List all critical pods&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get -n kube-system pods -a&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods with more info&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pod -o wide&lt;/code&gt;, &lt;code&gt;kubectl get pod/&amp;lt;pod-name&amp;gt; -o yaml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get pod info&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl describe pod/srv-mysql-server&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List all pods with labels&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods --show-labels&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/issues/49387&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List all unhealthy pods&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;kubectl get pods –field-selector=status.phase!=Running –all-namespaces&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List running pods&lt;/td&gt;
&lt;td&gt;kubectl get pods –field-selector=status.phase=Running&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get Pod initContainer status&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pod --template &#39;{{.status.initContainerStatuses}}&#39; &amp;lt;pod-name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubectl run command&lt;/td&gt;
&lt;td&gt;kubectl exec -it -n “$ns” “$podname” – sh -c “echo $msg &amp;raquo;/dev/err.log”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Watch pods&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods -n wordpress --watch&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get pod by selector&lt;/td&gt;
&lt;td&gt;kubectl get pods –selector=”app=syslog” -o jsonpath=’{.items[*].metadata.name}’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods and images&lt;/td&gt;
&lt;td&gt;kubectl get pods -o=’custom-columns=PODS:.metadata.name,Images:.spec.containers[*].image’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List pods and containers&lt;/td&gt;
&lt;td&gt;-o=’custom-columns=PODS:.metadata.name,CONTAINERS:.spec.containers[*].name’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;16-label--annotation&#34;&gt;1.6 Label &amp;amp; Annotation&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Filter pods by label&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get pods -l owner=denny&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Manually add label to a pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl label pods dummy-input owner=denny&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Remove label&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl label pods dummy-input owner-&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Manually add annotation to a pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl annotate pods dummy-input my-url=https://dennyzhang.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;17-deployment--scale&#34;&gt;1.7 Deployment &amp;amp; Scale&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Scale out&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl scale --replicas=3 deployment/nginx-app&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;online rolling upgrade&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout app-v1 app-v2 --image=img:v2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Roll backup&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout app-v1 app-v2 --rollback&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List rollout&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get rs&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Check update status&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout status deployment/nginx-app&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Check update history&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout history deployment/nginx-app&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pause/Resume&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout pause deployment/nginx-deployment&lt;/code&gt;, &lt;code&gt;resume&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rollback to previous version&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl rollout undo deployment/nginx-deployment&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;, &lt;a href=&#34;https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#pausing-and-resuming-a-deployment&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: Pausing and Resuming a Deployment&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;18-quota--limits--resource&#34;&gt;1.8 Quota &amp;amp; Limits &amp;amp; Resource&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List Resource Quota&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get resourcequota&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List Limit Range&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get limitrange&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Customize resource definition&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl set resources deployment nginx -c=nginx --limits=cpu=200m&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Customize resource definition&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl set resources deployment nginx -c=nginx --limits=memory=512Mi&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;19-service&#34;&gt;1.9 Service&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List all services&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get services&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List service endpoints&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get endpoints&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get service detail&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get service nginx-service -o yaml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get service cluster ip&lt;/td&gt;
&lt;td&gt;kubectl get service nginx-service -o go-template=’{{.spec.clusterIP}}’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get service cluster port&lt;/td&gt;
&lt;td&gt;kubectl get service nginx-service -o go-template=’{{(index .spec.ports 0).port}}’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Expose deployment as lb service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl expose deployment/my-app --type=LoadBalancer --name=my-service&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Expose service as lb service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl expose service/wordpress-1-svc --type=LoadBalancer --name=ns1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;110-secrets&#34;&gt;1.10 Secrets&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List secrets&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get secrets --all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Generate secret&lt;/td&gt;
&lt;td&gt;&lt;code&gt;echo -n &#39;mypasswd&#39;, then redirect to base64 --decode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get secret&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get secret denny-cluster-kubeconfig&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get a specific field of a secret&lt;/td&gt;
&lt;td&gt;kubectl get secret denny-cluster-kubeconfig -o jsonpath=”{.data.value}”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Create secret from cfg file&lt;/td&gt;
&lt;td&gt;kubectl create secret generic db-user-pass –from-file=./username.txt&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;, &lt;a href=&#34;https://kubernetes.io/docs/concepts/configuration/secret/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: Secrets&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;111-statefulset&#34;&gt;1.11 StatefulSet&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List statefulset&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get sts&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete statefulset only (not pods)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl delete sts/&amp;lt;stateful_set_name&amp;gt; --cascade=false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scale statefulset&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl scale sts/&amp;lt;stateful_set_name&amp;gt; --replicas=5&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;112-volumes--volume-claims&#34;&gt;1.12 Volumes &amp;amp; Volume Claims&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List storage class&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get storageclass&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Check the mounted volumes&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl exec storage ls /data&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Check persist volume&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl describe pv/pv0001&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Copy local file to pod&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl cp /tmp/my &amp;lt;some-namespace&amp;gt;/&amp;lt;some-pod&amp;gt;:/tmp/server&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Copy pod file to local&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl cp &amp;lt;some-namespace&amp;gt;/&amp;lt;some-pod&amp;gt;:/tmp/server /tmp/my&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;113-events--metrics&#34;&gt;1.13 Events &amp;amp; Metrics&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;View all events&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get events --all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List Events sorted by timestamp&lt;/td&gt;
&lt;td&gt;kubectl get events –sort-by=.metadata.creationTimestamp&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;114-node-maintenance&#34;&gt;1.14 Node Maintenance&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Mark node as unschedulable&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl cordon $NODE_NAME&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mark node as schedulable&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl uncordon $NODE_NAME&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Drain node in preparation for maintenance&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl drain $NODE_NAME&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;115-namespace--security&#34;&gt;1.15 Namespace &amp;amp; Security&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;List authenticated contexts&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config get-contexts&lt;/code&gt;, &lt;code&gt;~/.kube/config&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Set namespace preference&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config set-context &amp;lt;context_name&amp;gt; --namespace=&amp;lt;ns_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Switch context&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config use-context &amp;lt;context_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Load context from config file&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get cs --kubeconfig kube_config.yml&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delete the specified context&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl config delete-context &amp;lt;context_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List all namespaces defined&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List certificates&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get csr&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://kubernetes.io/docs/concepts/policy/pod-security-policy/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Check user privilege&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;kubectl –as=system:serviceaccount:ns-denny:test-privileged-sa -n ns-denny auth can-i use pods/list&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://kubernetes.io/docs/concepts/policy/pod-security-policy/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Check user privilege&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl auth can-i use pods/list&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reference&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Link: kubernetes yaml templates&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;116-network&#34;&gt;1.16 Network&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Command&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Temporarily add a port-forwarding&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl port-forward redis-134 6379:6379&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add port-forwarding for deployment&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl port-forward deployment/redis-master 6379:6379&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add port-forwarding for replicaset&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl port-forward rs/redis-master 6379:6379&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add port-forwarding for service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl port-forward svc/redis-master 6379:6379&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Get network policy&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get NetworkPolicy&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;117-patch&#34;&gt;1.17 Patch&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Patch service to loadbalancer&lt;/td&gt;
&lt;td&gt;kubectl patch svc $svc_name -p ‘{“spec”: {“type”: “LoadBalancer”}}’&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;118-extenstions&#34;&gt;1.18 Extenstions&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Enumerates the resource types available&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl api-resources&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List api group&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl api-versions&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List all CRD&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get crd&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;List storageclass&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kubectl get storageclass&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a href=&#34;https://cheatsheet.dennyzhang.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://raw.githubusercontent.com/dennyzhang/cheatsheet.dennyzhang.com/master/images/cheatsheet_dns.png&#34; alt=&#34;img&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;119-components--services&#34;&gt;1.19 Components &amp;amp; Services&lt;/h2&gt;
&lt;h3 id=&#34;1191-services-on-master-nodes&#34;&gt;1.19.1 Services on Master Nodes&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-apiserver&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kube-apiserver&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;API gateway. Exposes the Kubernetes API from master nodes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://coreos.com/etcd/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;etcd&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;reliable data store for all k8s cluster data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-scheduler&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kube-scheduler&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;schedule pods to run on selected nodes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-controller-manager&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kube-controller-manager&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Reconcile the states. node/replication/endpoints/token controller and service account, etc&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloud-controller-manager&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;1192-services-on-worker-nodes&#34;&gt;1.19.2 Services on Worker Nodes&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kubelet&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubelet&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;A node agent makes sure that containers are running in a pod&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-proxy&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kube-proxy&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Manage network connectivity to the containers. e.g, iptable, ipvs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/docker/engine&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Container Runtime&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Kubernetes supported runtimes: dockerd, cri-o, runc and any &lt;a href=&#34;https://github.com/opencontainers/runtime-spec&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OCI runtime-spec&lt;/a&gt; implementation.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;1193-addons-pods-and-services-that-implement-cluster-features&#34;&gt;1.19.3 Addons: pods and services that implement cluster features&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;DNS&lt;/td&gt;
&lt;td&gt;serves DNS records for Kubernetes services&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Web UI&lt;/td&gt;
&lt;td&gt;a general purpose, web-based UI for Kubernetes clusters&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Container Resource Monitoring&lt;/td&gt;
&lt;td&gt;collect, store and serve container metrics&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cluster-level Logging&lt;/td&gt;
&lt;td&gt;save container logs to a central log store with search/browsing interface&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;1194-tools&#34;&gt;1.19.4 Tools&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kubectl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubectl&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;the command line util to talk to k8s cluster&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/tree/master/cmd/kubeadm&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubeadm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;the command to bootstrap the cluster&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://kubernetes.io/docs/reference/setup-tools/kubefed/kubefed/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubefed&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;the command line to control a Kubernetes Cluster Federation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Kubernetes Components&lt;/td&gt;
&lt;td&gt;[Link: Kubernetes Components&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
  </channel>
</rss>
