<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Next-gen Tech Edu"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.fab3cd1900ae35687457073b2d518207.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=alternate href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/index.xml type=application/rss+xml title="Next-gen Tech Edu"><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/"><meta property="og:title" content="React Native | Next-gen Tech Edu"><meta property="og:description" content="Next-gen Tech Edu"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>React Native | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=b980dfd53f325b64e8e5032c66445e85><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">移动应用</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd3694f183903505138e36f4f8430a342")' href=#idd3694f183903505138e36f4f8430a342 aria-expanded=false aria-controls=idd3694f183903505138e36f4f8430a342 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/>Frontend-Notes</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd3694f183903505138e36f4f8430a342 aria-expanded=false aria-controls=idd3694f183903505138e36f4f8430a342><i class="fa-solid fa-angle-down" id=caret-idd3694f183903505138e36f4f8430a342></i></a></div><ul class="nav docs-sidenav collapse show" id=idd3694f183903505138e36f4f8430a342><li class="child level"><a href=/books/frontend-notes/introduction/>INTRODUCTION</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3202b18c0d1d1fa3cf7cfdd178922af3")' href=#id3202b18c0d1d1fa3cf7cfdd178922af3 aria-expanded=false aria-controls=id3202b18c0d1d1fa3cf7cfdd178922af3 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida7c17ba1366541d10577198feeb17758")' href=#ida7c17ba1366541d10577198feeb17758 aria-expanded=false aria-controls=ida7c17ba1366541d10577198feeb17758 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idaf76174e3a775ba9291276b5198be0aa")' href=#idaf76174e3a775ba9291276b5198be0aa aria-expanded=false aria-controls=idaf76174e3a775ba9291276b5198be0aa aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id01e8cdbb2cbb848a6e0e43639b23d69e")' href=#id01e8cdbb2cbb848a6e0e43639b23d69e aria-expanded=false aria-controls=id01e8cdbb2cbb848a6e0e43639b23d69e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/>移动应用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id01e8cdbb2cbb848a6e0e43639b23d69e aria-expanded=false aria-controls=id01e8cdbb2cbb848a6e0e43639b23d69e><i class="fa-solid fa-angle-down" id=caret-id01e8cdbb2cbb848a6e0e43639b23d69e></i></a></div><ul class="nav docs-sidenav collapse show" id=id01e8cdbb2cbb848a6e0e43639b23d69e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id659476fbb601e58d0a1d1e70abeae803")' href=#id659476fbb601e58d0a1d1e70abeae803 aria-expanded=false aria-controls=id659476fbb601e58d0a1d1e70abeae803 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/>Android</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id659476fbb601e58d0a1d1e70abeae803 aria-expanded=false aria-controls=id659476fbb601e58d0a1d1e70abeae803><i class="fa-solid fa-angle-right" id=caret-id659476fbb601e58d0a1d1e70abeae803></i></a></div><ul class="nav docs-sidenav collapse" id=id659476fbb601e58d0a1d1e70abeae803><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3e4c02cf62b6ac8db3811236bcba2f97")' href=#id3e4c02cf62b6ac8db3811236bcba2f97 aria-expanded=false aria-controls=id3e4c02cf62b6ac8db3811236bcba2f97 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/>工程实践</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3e4c02cf62b6ac8db3811236bcba2f97 aria-expanded=false aria-controls=id3e4c02cf62b6ac8db3811236bcba2f97><i class="fa-solid fa-angle-right" id=caret-id3e4c02cf62b6ac8db3811236bcba2f97></i></a></div><ul class="nav docs-sidenav collapse" id=id3e4c02cf62b6ac8db3811236bcba2f97><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/android-development-some-of-the-best-practices/>Android Development ： Some of the best practices</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/apk-%E8%A7%A3%E6%9E%90/>Apk 解析</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/best-practices-for-android-developer-productivity/>Best Practices for Android Developer Productivity</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E5%BA%94%E7%94%A8%E5%8A%A0%E5%9B%BA/>应用加固</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6c9e633dc6d2a1ba525fb32c9214b5ac")' href=#id6c9e633dc6d2a1ba525fb32c9214b5ac aria-expanded=false aria-controls=id6c9e633dc6d2a1ba525fb32c9214b5ac aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/>界面开发</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6c9e633dc6d2a1ba525fb32c9214b5ac aria-expanded=false aria-controls=id6c9e633dc6d2a1ba525fb32c9214b5ac><i class="fa-solid fa-angle-right" id=caret-id6c9e633dc6d2a1ba525fb32c9214b5ac></i></a></div><ul class="nav docs-sidenav collapse" id=id6c9e633dc6d2a1ba525fb32c9214b5ac><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/actionbar/>ActionBar</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/activity/>Activity</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/adapterview/>AdapterView</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/gallery/>Gallery</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/recycleview/>RecycleView</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/>界面开发基础</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4dfbe2ea245b102d9764aba1904b9663")' href=#id4dfbe2ea245b102d9764aba1904b9663 aria-expanded=false aria-controls=id4dfbe2ea245b102d9764aba1904b9663 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/>系统功能</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4dfbe2ea245b102d9764aba1904b9663 aria-expanded=false aria-controls=id4dfbe2ea245b102d9764aba1904b9663><i class="fa-solid fa-angle-right" id=caret-id4dfbe2ea245b102d9764aba1904b9663></i></a></div><ul class="nav docs-sidenav collapse" id=id4dfbe2ea245b102d9764aba1904b9663><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E9%AB%98%E6%80%A7%E8%83%BD-okhttp/>高性能 OkHttp</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/>网络请求</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id91a15609095ecd1a49d5d2c9d7bc153b")' href=#id91a15609095ecd1a49d5d2c9d7bc153b aria-expanded=false aria-controls=id91a15609095ecd1a49d5d2c9d7bc153b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86/>资源处理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id91a15609095ecd1a49d5d2c9d7bc153b aria-expanded=false aria-controls=id91a15609095ecd1a49d5d2c9d7bc153b><i class="fa-solid fa-angle-right" id=caret-id91a15609095ecd1a49d5d2c9d7bc153b></i></a></div><ul class="nav docs-sidenav collapse" id=id91a15609095ecd1a49d5d2c9d7bc153b><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86/%E5%AD%97%E7%AC%A6%E4%B8%B2/>字符串</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6ae5caa3c160b516b0f9b710f26de706")' href=#id6ae5caa3c160b516b0f9b710f26de706 aria-expanded=false aria-controls=id6ae5caa3c160b516b0f9b710f26de706 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/flutter/>Flutter</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6ae5caa3c160b516b0f9b710f26de706 aria-expanded=false aria-controls=id6ae5caa3c160b516b0f9b710f26de706><i class="fa-solid fa-angle-right" id=caret-id6ae5caa3c160b516b0f9b710f26de706></i></a></div><ul class="nav docs-sidenav collapse" id=id6ae5caa3c160b516b0f9b710f26de706><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide616fbc16624f9598bbb6d5bdbe9d639")' href=#ide616fbc16624f9598bbb6d5bdbe9d639 aria-expanded=false aria-controls=ide616fbc16624f9598bbb6d5bdbe9d639 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcd1ef311397a3c257b43be491a02b287")' href=#idcd1ef311397a3c257b43be491a02b287 aria-expanded=false aria-controls=idcd1ef311397a3c257b43be491a02b287 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/>iOS</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcd1ef311397a3c257b43be491a02b287 aria-expanded=false aria-controls=idcd1ef311397a3c257b43be491a02b287><i class="fa-solid fa-angle-right" id=caret-idcd1ef311397a3c257b43be491a02b287></i></a></div><ul class="nav docs-sidenav collapse" id=idcd1ef311397a3c257b43be491a02b287><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id39a7a0ec45ee1259af5f29731d7a2b6a")' href=#id39a7a0ec45ee1259af5f29731d7a2b6a aria-expanded=false aria-controls=id39a7a0ec45ee1259af5f29731d7a2b6a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9d9664ffa4574440542721abf316e152")' href=#id9d9664ffa4574440542721abf316e152 aria-expanded=false aria-controls=id9d9664ffa4574440542721abf316e152 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/objective-c/>Objective-C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9d9664ffa4574440542721abf316e152 aria-expanded=false aria-controls=id9d9664ffa4574440542721abf316e152><i class="fa-solid fa-angle-right" id=caret-id9d9664ffa4574440542721abf316e152></i></a></div><ul class="nav docs-sidenav collapse" id=id9d9664ffa4574440542721abf316e152><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/objective-c/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/>语法基础</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id15a1051cfb3441add45c80fcf6fdd55c")' href=#id15a1051cfb3441add45c80fcf6fdd55c aria-expanded=false aria-controls=id15a1051cfb3441add45c80fcf6fdd55c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id15a1051cfb3441add45c80fcf6fdd55c aria-expanded=false aria-controls=id15a1051cfb3441add45c80fcf6fdd55c><i class="fa-solid fa-angle-right" id=caret-id15a1051cfb3441add45c80fcf6fdd55c></i></a></div><ul class="nav docs-sidenav collapse" id=id15a1051cfb3441add45c80fcf6fdd55c><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/swift/linkedin-%E6%A0%B7%E5%BC%8F%E6%8C%87%E5%8D%97/>Linkedin 样式指南</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id569675cf808ed9ac3c93d869e0b5f785")' href=#id569675cf808ed9ac3c93d869e0b5f785 aria-expanded=false aria-controls=id569675cf808ed9ac3c93d869e0b5f785 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/>界面开发</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id569675cf808ed9ac3c93d869e0b5f785 aria-expanded=false aria-controls=id569675cf808ed9ac3c93d869e0b5f785><i class="fa-solid fa-angle-right" id=caret-id569675cf808ed9ac3c93d869e0b5f785></i></a></div><ul class="nav docs-sidenav collapse" id=id569675cf808ed9ac3c93d869e0b5f785><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/tablegrid/>TableGrid</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/uitableview/>UITableView</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E7%95%8C%E9%9D%A2%E5%9F%BA%E7%A1%80/>界面基础</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/>事件与手势</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide44ea53fac0e6439130bcbb17de7c99e")' href=#ide44ea53fac0e6439130bcbb17de7c99e aria-expanded=false aria-controls=ide44ea53fac0e6439130bcbb17de7c99e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/>系统功能</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide44ea53fac0e6439130bcbb17de7c99e aria-expanded=false aria-controls=ide44ea53fac0e6439130bcbb17de7c99e><i class="fa-solid fa-angle-right" id=caret-ide44ea53fac0e6439130bcbb17de7c99e></i></a></div><ul class="nav docs-sidenav collapse" id=ide44ea53fac0e6439130bcbb17de7c99e><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/healthcheck/>HealthCheck</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/>数据存储</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/>网络请求</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B/>系统进程</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6903ef05081fb0d99ab082d0aa7a30c1")' href=#id6903ef05081fb0d99ab082d0aa7a30c1 aria-expanded=false aria-controls=id6903ef05081fb0d99ab082d0aa7a30c1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link active" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/>React Native</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6903ef05081fb0d99ab082d0aa7a30c1 aria-expanded=false aria-controls=id6903ef05081fb0d99ab082d0aa7a30c1><i class="fa-solid fa-angle-right" id=caret-id6903ef05081fb0d99ab082d0aa7a30c1></i></a></div><ul class="nav docs-sidenav collapse show" id=id6903ef05081fb0d99ab082d0aa7a30c1><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id71b3cc57ce6abd27e9398966f0d9566d")' href=#id71b3cc57ce6abd27e9398966f0d9566d aria-expanded=false aria-controls=id71b3cc57ce6abd27e9398966f0d9566d aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida6ced0edc1c62a6b0d83abeb0e126d92")' href=#ida6ced0edc1c62a6b0d83abeb0e126d92 aria-expanded=false aria-controls=ida6ced0edc1c62a6b0d83abeb0e126d92 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/>工程实践</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida6ced0edc1c62a6b0d83abeb0e126d92 aria-expanded=false aria-controls=ida6ced0edc1c62a6b0d83abeb0e126d92><i class="fa-solid fa-angle-right" id=caret-ida6ced0edc1c62a6b0d83abeb0e126d92></i></a></div><ul class="nav docs-sidenav collapse" id=ida6ced0edc1c62a6b0d83abeb0e126d92><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/>调试与测试</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3aadb9b2f9655bcd4f9de1f60f96d7f6")' href=#id3aadb9b2f9655bcd4f9de1f60f96d7f6 aria-expanded=false aria-controls=id3aadb9b2f9655bcd4f9de1f60f96d7f6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/>架构原理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3aadb9b2f9655bcd4f9de1f60f96d7f6 aria-expanded=false aria-controls=id3aadb9b2f9655bcd4f9de1f60f96d7f6><i class="fa-solid fa-angle-right" id=caret-id3aadb9b2f9655bcd4f9de1f60f96d7f6></i></a></div><ul class="nav docs-sidenav collapse" id=id3aadb9b2f9655bcd4f9de1f60f96d7f6><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/bridge/>Bridge</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/>启动流程</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%AE%9E%E8%B7%B5%E6%8A%80%E5%B7%A7/>实践技巧</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%BA%E5%88%B6/>原理与机制</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id64f794c555077e4d9f1b0356c0d991dd")' href=#id64f794c555077e4d9f1b0356c0d991dd aria-expanded=false aria-controls=id64f794c555077e4d9f1b0356c0d991dd aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/>语法基础</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id64f794c555077e4d9f1b0356c0d991dd aria-expanded=false aria-controls=id64f794c555077e4d9f1b0356c0d991dd><i class="fa-solid fa-angle-right" id=caret-id64f794c555077e4d9f1b0356c0d991dd></i></a></div><ul class="nav docs-sidenav collapse" id=id64f794c555077e4d9f1b0356c0d991dd><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%B8%83%E5%B1%80%E5%9F%BA%E7%A1%80/>布局基础</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%93%BE/>环境搭建与工具链</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/>界面开发</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA/>路由导航</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/>事件与手势</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/>组件基础</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80.old/>组件基础.old</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0e3d73df1c889a41a2d13e80ef31e953")' href=#id0e3d73df1c889a41a2d13e80ef31e953 aria-expanded=false aria-controls=id0e3d73df1c889a41a2d13e80ef31e953 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E7%BB%84%E4%BB%B6%E4%BC%98%E5%8C%96/>组件优化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0e3d73df1c889a41a2d13e80ef31e953 aria-expanded=false aria-controls=id0e3d73df1c889a41a2d13e80ef31e953><i class="fa-solid fa-angle-right" id=caret-id0e3d73df1c889a41a2d13e80ef31e953></i></a></div><ul class="nav docs-sidenav collapse" id=id0e3d73df1c889a41a2d13e80ef31e953><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E7%BB%84%E4%BB%B6%E4%BC%98%E5%8C%96/%E5%88%97%E8%A1%A8%E4%BC%98%E5%8C%96/>列表优化</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9cda9a363f76adbe1482443578166167")' href=#id9cda9a363f76adbe1482443578166167 aria-expanded=false aria-controls=id9cda9a363f76adbe1482443578166167 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/webview/>WebView</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9cda9a363f76adbe1482443578166167 aria-expanded=false aria-controls=id9cda9a363f76adbe1482443578166167><i class="fa-solid fa-angle-right" id=caret-id9cda9a363f76adbe1482443578166167></i></a></div><ul class="nav docs-sidenav collapse" id=id9cda9a363f76adbe1482443578166167><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc3c28ec1e382a3d8c242f35b509d836f")' href=#idc3c28ec1e382a3d8c242f35b509d836f aria-expanded=false aria-controls=idc3c28ec1e382a3d8c242f35b509d836f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/webview/cordova/>Cordova</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc3c28ec1e382a3d8c242f35b509d836f aria-expanded=false aria-controls=idc3c28ec1e382a3d8c242f35b509d836f><i class="fa-solid fa-angle-right" id=caret-idc3c28ec1e382a3d8c242f35b509d836f></i></a></div><ul class="nav docs-sidenav collapse" id=idc3c28ec1e382a3d8c242f35b509d836f><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/webview/cordova/ios/>iOS</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida89176d2234716a97da91e50a5b39034")' href=#ida89176d2234716a97da91e50a5b39034 aria-expanded=false aria-controls=ida89176d2234716a97da91e50a5b39034 aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf39ba99d71459b161ebc0e8f7b121bf0")' href=#idf39ba99d71459b161ebc0e8f7b121bf0 aria-expanded=false aria-controls=idf39ba99d71459b161ebc0e8f7b121bf0 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E6%B8%B8%E6%88%8F/>游戏</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf39ba99d71459b161ebc0e8f7b121bf0 aria-expanded=false aria-controls=idf39ba99d71459b161ebc0e8f7b121bf0><i class="fa-solid fa-angle-right" id=caret-idf39ba99d71459b161ebc0e8f7b121bf0></i></a></div><ul class="nav docs-sidenav collapse" id=idf39ba99d71459b161ebc0e8f7b121bf0><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id43e69005ff51e6105399ab8f6e0e1393")' href=#id43e69005ff51e6105399ab8f6e0e1393 aria-expanded=false aria-controls=id43e69005ff51e6105399ab8f6e0e1393 aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><ul><li><a href=#react-native-中的现代-javascript-代码>React Native 中的现代 JavaScript 代码</a></li></ul></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>React Native</h1><div class=article-style><h1 id=react-native>React Native</h1><p>目前我们常用的移动端应用开发方式主要为原生方式、混合开发这两种，其中原生开发运行效率高,流畅,用户体验好,可以做各种复杂的动画效果。不过我们需要去掌握不同开发平台上特定的开发语言与内建的组件框架，譬如在 Android 开发中开发者需要掌握 Java，而 iOS 开发中开发者需要掌握 Objective-C 或者 Swift；并且由于平台之间的独立性，代码无法在其他平台上运行,无法做到跨平台。而传统混合开发方式则以 Cordova 与 Ionic 为代表，定义好原生功能与 Web 界面之间的协议,拦截特定的 URL Schema 进行原生功能的调用，应用则调用 Web 提供的 JavaScript 方法，将数据回传给 Web 界面。这种方式可以满足一套代码到处运行的目标，不过受限于 UIWebView 等容器本身的限制，其性能体验与原生应用不可同日而语。实际上无论哪一种开发方式都致力于解决如下几个问题：找到一种能达到或者接近原生体验的开发方式、找到一种一套代码能在各个平台上运行,达到代码复用的目的、能够以热更新或者类似的方式进行快速问题修复。</p><p>随着 React 在 Web 领域取得的巨大成功，Facebook 继续推出 React Native 以创建接近原生性能的跨平台移动应用，其倡导的 Learn Once，Write Anywhere 的概念同时兼顾了性能与快速迭代的需求。React 的核心设计理念其提供了抽象的、平台无关的组件定义范式，然后通过 react-dom 等库将其渲染到不同的承载体上；这些承载可以是服务端渲染中的字符串，或者客户端渲染中的 DOM 节点。在 React Native 中，我们只需要了解 React 组件定义规范与语法，然后利用 React Native 这个新的渲染库将界面渲染到原生界面组件中。在未来的客户端开发中，负责与用户交互以及存储这一部分建议采用原生的代码，而对于逻辑控制这边，建议是采用 JavaScript 方式实现。</p><p>React Native 本质上是用 JSX 的语法风格编写原生的应用，它本质上还是跨平台编译性质的，并没有提供完整的类似于 WebView 那样的上下文，并且大量的 HTML 元素也是不可以直接应用的。React Native 只是借用了 HTML 的语法风格，并且提供了 JavaScript 与原生的桥接。React Native 使用了所谓的 Native Widget APIs 来调用底层的操作系统相关代码，并且处于性能的考虑它会异步批量地调用原生平台接口，其整体架构如下所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://www.safaribooksonline.com/library/view/react-and-react/9781786465658/graphics/image_12_001.jpg alt loading=lazy data-zoomable></div></div></figure></p><h1 id=快速开始>快速开始</h1><ul><li>Architecture(应用架构)</li></ul><p>当使用 react-native 命令创建新的项目时，调用的即https://github.com/facebook/react-native/blob/master/react-native-cli/index.js这个脚本。当使用<code>react-native init HelloWorld</code>创建一个新的应用目录时，它会创建一个新的 HelloWorld 的文件夹，包含如下列表：</p><blockquote><p>HelloWorld.xcodeproj/</p><p>Podfile</p><p>iOS/</p><p>Android/</p><p>index.ios.js</p><p>index.android.js</p><p>node_modules/</p><p>package.json</p></blockquote><p>React Native 最大的卖点在于(1)可以使用 JavaScript 编写 iOS 或者 Android 原生程序。(2)应用可以运行在原生环境下并且提供流畅的 UI 与用户体验。众所周知，iOS 或者 Android 并不能直接运行 JavaScript 代码，而是依靠类似于 UIWebView 这样的原生组件去运行 JavaScript 代码，也就是传统的混合式应用。整个应用运行开始还是自原生开始，不过类似于 Objective-C/Java 这样的原生代码只是负责启动一个 WebView 容器，即没有浏览器界面的浏览器引擎。</p><p>而对于 React Native 而言，并不需要一个 WebView 容器去执行 Web 方面的代码，而是将所有的 JavaScript 代码运行在一个内嵌的 JavaScriptCore 容器实例中，并最终渲染为高级别的平台相关的组件。这里以 iOS 为例，打开 HelloWorld/AppDelegate.m 文件，可以看到如下的代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objective-c data-lang=objective-c><span class=line><span class=cl><span class=p>.....................</span>
</span></span><span class=line><span class=cl><span class=n>RCTRootView</span> <span class=o>*</span><span class=n>rootView</span> <span class=o>=</span> <span class=p>[[</span><span class=n>RCTRootView</span> <span class=n>alloc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nl>initWithBundleURL</span><span class=p>:</span><span class=n>jsCodeLocation</span>
</span></span><span class=line><span class=cl><span class=nl>moduleName</span><span class=p>:</span><span class=s>@&#34;HelloWorld&#34;</span>
</span></span><span class=line><span class=cl><span class=nl>launchOptions</span><span class=p>:</span><span class=n>launchOptions</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>.....................</span>
</span></span></code></pre></div><p>AppDelegate.m 文件本身是 iOS 程序的入口，相信每一个有 iOS 开发经验的同学都不会陌生，这也是本地的 Objective-C 代码与 React Native 的 JavaScript 代码胶合的地方。而这种胶合的关键就是 RCTRootView 这个组件，可以从 React 声明的组件中加载到 Native 的组件。RCTRootView 组件是一个由 React Native 提供的原生的 Objective-C 类，可以读取 React 的 JavaScript 代码并且执行，除此之外，也允许我们从 JavaScript 代码中调用 iOS UI 的组件。</p><p>到这里我们可以看出，React Native 并没有将 JavaScript 代码编译转化为原生的 Objective-C 或者 Swift 代码，但是这些在 React 中创建的组件渲染的方式也非常类似于传统的 Objective-C 或者 Swift 创建的基于 UIKit 的组件，并不是类似于 WebView 中网页渲染的结果。</p><p>这种架构也就很好地解释了为什么可以动态加载我们的应用，当我们仅仅改变了 JS 代码而没有原生的代码改变的时候，不需要去重新编译。RCTRootView 组件会监听<code>Command+R</code>组合键然后重新执行 JavaScript 代码。</p><ul><li>Virtual Dom 的扩展</li></ul><p>Virtual Dom 是 React 的核心机制之一，对于 Virtual Dom 的详细说明可以参考笔者 React 系列文章。在 React 组件被用于原生渲染之前，Clipboard 已经将 React 用于渲染到 HTML 的 Canvas 中，可以查看<a href=https://github.com/Flipboard/react-canvas target=_blank rel=noopener>render React to the HTML element</a>这篇文章。对于 React Web 而言，就是将 React 组件渲染为 DOM 节点，而对于 React Natively 而言，就是利用原生的接口把 React 组件渲染为原生的接口，其大概示意图可以如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://www.safaribooksonline.com/library/view/learning-react-native/9781491929049/assets/render-targets.png alt="React Native behaves much like React, but can render to many different targets." loading=lazy data-zoomable></div></div></figure></p><p>虽然 React 最初是以 Web 的形式呈现，但是 React 声明的组件可以通过<em>bridge</em>，即不同的桥接器转化器会将同样声明的组件转化为不同的具体的实现。React 在组件的 render 函数中返回具体的平台中应该如何去渲染这些组件。对于 React Native 而言，<code>&lt;View/></code>这个组件会被转化为 iOS 中特定的<code>UIView</code>组件。</p><ul><li>载入 JavaScript 代码</li></ul><p>React Native 提供了非常方便的动态调试机制，具体的表现而言即是允许以一种类似于中间件服务器的方式动态的加载 JS 代码，即</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objective-c data-lang=objective-c><span class=line><span class=cl><span class=n>jsCodeLocation</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSURL</span> <span class=nl>URLWithString</span><span class=p>:</span><span class=s>@&#34;http://localhost:8081/index.ios.bundle&#34;</span><span class=p>];</span>
</span></span></code></pre></div><p>另一种发布环境下，可以将 JavaScript 代码打包编译，即<code>npm build</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objective-c data-lang=objective-c><span class=line><span class=cl><span class=n>jsCodeLocation</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSBundle</span> <span class=n>mainBundle</span><span class=p>]</span> <span class=nl>URLForResource</span><span class=p>:</span><span class=s>@&#34;main&#34;</span> <span class=nl>withExtension</span><span class=p>:</span><span class=s>@&#34;jsbundle&#34;</span><span class=p>];</span>
</span></span></code></pre></div><p>如果在 Xcode 中直接运行程序会自动调用<code>npm start</code>命令来启动一个动态编译的服务器，如果没有自动启动可以手动的使用<code>npm start</code>命令，就如定义在 package.json 文件中的，它会启动 node_modules/react-native/packager/packager.sh 这个脚本。</p><h3 id=react-native-中的现代-javascript-代码>React Native 中的现代 JavaScript 代码</h3><p>从上文中可以看出，React Native 中使用的是所谓的 JSX 以及大量的 ES6 的语法，在打包器打包之前需要将 JavaScript 代码进行一些转换。这是因为 iOS 与 Android 中的 JavaScript 解释器目前主要还是支持到了 ES5 版本，并不能完全识别 React Native 中提供的语法或者关键字。当然，并不是说我们不能使用 ES5 的语法去编写 React Native 程序，只是最新的一些语法细则规范可以辅助我们快速构建高可维护的应用程序。</p><p>譬如我们以 JSX 的语法编写了如下渲染函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>View</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>styles</span><span class=p>.</span><span class=nx>container</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>TextInput</span>
</span></span><span class=line><span class=cl>      <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>styles</span><span class=p>.</span><span class=nx>nameInput</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>onNameChanged</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>placeholder</span><span class=o>=</span><span class=s1>&#39;Who should be greeted?&#39;</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>Text</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>styles</span><span class=p>.</span><span class=nx>welcome</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>Hello</span><span class=p>,</span> <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>!&lt;</span><span class=err>/Text&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>Text</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>styles</span><span class=p>.</span><span class=nx>instructions</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>To</span> <span class=nx>get</span> <span class=nx>started</span><span class=p>,</span> <span class=nx>edit</span> <span class=nx>index</span><span class=p>.</span><span class=nx>ios</span><span class=p>.</span><span class=nx>js</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/Text&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>Text</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>styles</span><span class=p>.</span><span class=nx>instructions</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>Press</span> <span class=nx>Cmd</span><span class=o>+</span><span class=nx>R</span> <span class=nx>to</span> <span class=nx>reload</span><span class=p>,{</span><span class=s1>&#39;\n&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>Cmd</span><span class=o>+</span><span class=nx>Control</span><span class=o>+</span><span class=nx>Z</span> <span class=k>for</span> <span class=nx>dev</span> <span class=nx>menu</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/Text&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/View&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>在 JS 代码载入之前，React 打包器需要首先将 JSX 语法转化为 ES5 的表达式：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  	<span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>View</span><span class=p>,</span> <span class=p>{</span><span class=nx>style</span><span class=o>:</span> <span class=nx>styles</span><span class=p>.</span><span class=nx>container</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>TextInput</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>style</span><span class=o>:</span> <span class=nx>styles</span><span class=p>.</span><span class=nx>nameInput</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>onChange</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>onNameChanged</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>placeholder</span><span class=o>:</span> <span class=s2>&#34;Who should be greeted?&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>    <span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>Text</span><span class=p>,</span> <span class=p>{</span><span class=nx>style</span><span class=o>:</span> <span class=nx>styles</span><span class=p>.</span><span class=nx>welcome</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Hello, &#34;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=s2>&#34;!&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>Text</span><span class=p>,</span> <span class=p>{</span><span class=nx>style</span><span class=o>:</span> <span class=nx>styles</span><span class=p>.</span><span class=nx>instructions</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;To get started, edit index.ios.js&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>Text</span><span class=p>,</span> <span class=p>{</span><span class=nx>style</span><span class=o>:</span> <span class=nx>styles</span><span class=p>.</span><span class=nx>instructions</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Press Cmd+R to reload,&#34;</span><span class=p>,</span> <span class=s1>&#39;\n&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Cmd+Control+Z for dev menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>另一些比较常用的语法转换，一个是模块导入时候的结构器，即我们常常见到模块导入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>React</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;react-native&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=p>{</span> <span class=nx>AppRegistry</span><span class=p>,</span> <span class=nx>StyleSheet</span><span class=p>,</span> <span class=nx>Text</span><span class=p>,</span> <span class=nx>TextInput</span><span class=p>,</span> <span class=nx>View</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>React</span><span class=p>;</span>
</span></span></code></pre></div><p>上文中的用法即是所谓的解构赋值，一个简单的例子如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>fruits</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>banana</span><span class=o>:</span> <span class=s2>&#34;A banana&#34;</span><span class=p>,</span> <span class=nx>orange</span><span class=o>:</span> <span class=s2>&#34;An orange&#34;</span><span class=p>,</span> <span class=nx>apple</span><span class=o>:</span> <span class=s2>&#34;An apple&#34;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=p>{</span> <span class=nx>banana</span><span class=p>,</span> <span class=nx>orange</span><span class=p>,</span> <span class=nx>apple</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>fruits</span><span class=p>;</span>
</span></span></code></pre></div><p>那么我们在某个组件中进行导出的时候，就可以用如下语法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>displayName</span> <span class=o>=</span> <span class=s2>&#34;Name&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>Component</span> <span class=o>=</span> <span class=nx>Component</span><span class=p>;</span>
</span></span></code></pre></div><p>而导入时，即是：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=p>{</span> <span class=nx>Component</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;component.js&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>另一个常用的 ES6 的语法即是所谓的 Arrow Function，这有点类似于 Lambda 表达式：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>AppRegistry</span><span class=p>.</span><span class=nx>registerComponent</span><span class=p>(</span><span class=s2>&#34;HelloWorld&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>HelloWorld</span><span class=p>);</span>
</span></span></code></pre></div><p>会被转化为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>AppRegistry</span><span class=p>.</span><span class=nx>registerComponent</span><span class=p>(</span><span class=s2>&#34;HelloWorld&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>HelloWorld</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>RN 需要一个 JS 的运行环境，在 IOS 上直接使用内置的 javascriptcore，在 Android 则使用 webkit.org 官方开源的 jsc.so。此外还集成了其他开源组件，如 fresco 图片组件，okhttp 网络组件等。</p><p>RN 会把应用的 JS 代码(包括依赖的 framework)编译成一个 js 文件(一般命名为 index.android.bundle),, RN 的整体框架目标就是为了解释运行这个 js 脚本文件，如果是 js 扩展的 API，则直接通过 bridge 调用 native 方法; 如果是 UI 界面，则映射到 virtual DOM 这个虚拟的 JS 数据结构中，通过 bridge 传递到 native，然后根据数据属性设置各个对应的真实 native 的 View。bridge 是一种 JS 和 Java 代码通信的机制，用 bridge 函数传入对方 module 和 method 即可得到异步回调的结果。</p><p>对于 JS 开发者来说，画 UI 只需要画到 virtual DOM 中，不需要特别关心具体的平台, 还是原来的单线程开发，还是原来 HTML 组装 UI(JSX)，还是原来的样式模型(部分兼容 )。RN 的界面处理除了实现 View 增删改查的接口之外，还自定义一套样式表达 CSSLayout，这套 CSSLayout 也是跨平台实现。RN 拥有画 UI 的跨平台能力，主要是加入 Virtual DOM 编程模型，该方法一方面可以照顾到 JS 开发者在 html DOM 的部分传承，让 JS 开发者可以用类似 DOM 编程模型就可以开发原生 APP，另一方面则可以让 Virtual DOM 适配实现到各个平台，实现跨平台的能力，并且为未来增加更多的想象空间，比如 react-cavas, react-openGL。而实际上 react-native 也是从 react-js 演变而来。</p><p>对于 Android 开发者来说，RN 是一个普通的安卓程序加上一堆事件响应，事件来源主要是 JS 的命令。主要有二个线程，UI main thread, JS thread。UI thread 创建一个 APP 的事件循环后，就挂在 looper 等待事件, 事件驱动各自的对象执行命令。JS thread 运行的脚本相当于底层数据采集器，不断上传数据，转化成 UI 事件，通过 bridge 转发到 UI thread, 从而改变真实的 View。后面再深一层发现，UI main thread 跟 JS thread 更像是 CS 模型，JS thread 更像服务端，UI main thread 是客户端，UI main thread 不断询问 JS thread 并且请求数据，如果数据有变，则更新 UI 界面。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://unbug.gitbooks.io/react-native-training/content/21.jpg alt loading=lazy data-zoomable></div></div></figure></p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://unbug.gitbooks.io/react-native-training/content/Pasted%20Graphic.jpg alt loading=lazy data-zoomable></div></div></figure></p><h1 id=利用-create-react-native-app-快速创建-react-native-应用>利用 Create React Native App 快速创建 React Native 应用</h1><p><a href=https://github.com/react-community/create-react-native-app target=_blank rel=noopener>Create React Native App</a> 是由 Facebook 与 <a href=https://expo.io/ target=_blank rel=noopener>Expo</a> 联合开发的用于快速创建 React Native 应用的工具，其深受我们在前文介绍的 <a href=https://github.com/facebookincubator/create-react-app target=_blank rel=noopener>Create React App</a> 的影响。很多没有移动端开发经验的 Web 开发者在初次尝试 React Native 应用开发时可能会困扰于大量的原生依赖与开发环境，特别对于 Android 开发者而言。而 Create React Native App 则能够让用户在未安装 Xcode 或者 Android Studio 时，即使是在 Linux 或者 Windows 环境下也能开始 React Native 的开发与调试。这一点主要基于我们可以选择将应用运行在 Expo 的客户端应用内，该应用能够加载远端的纯粹的 JavaScript 代码而不用进行任何的原生代码编译操作。我们可以使用 NPM 快速安装命令行工具：</p><pre tabindex=0><code>$ npm i -g create-react-native-app
$ create-react-native-app my-project
$ cd my-project
$ npm start
</code></pre><p>命令行中会输出如下界面，我们可以在 Expo 移动端应用中扫描二维码，即可以开始远程调试。我们也可以选择使用 Expo 的桌面端辅助开发工具 <a href=https://github.com/exponent/xde target=_blank rel=noopener>XDE</a>，其内置了命令行工具与发布工具，同时支持使用内部模拟器：<figure><div class="d-flex justify-content-center"><div class=w-100><img src="https://docs.expo.io/bb256105106a86d5d9484892e82f94f3-quality=50&pngCompressionLevel=9&width=2128.png" alt loading=lazy data-zoomable></div></div></figure></p><p>除此之外，Expo 还提供了 <a href=https://sketch.expo.io/Sk90tMVol target=_blank rel=noopener>Sketch</a> 这个在线编辑器，提供了组件拖拽、内建的 ESLint 等功能，允许开发者直接在网页中进行快速开发与共享，然后通过二维码在应用内预览。</p><p>Expo 支持标准的 React Native 组件，目前已经内置了相机、视频、通讯录等等常用的系统 API，并且预置了 Airbnb react-native-maps、Facebook authentication 等优秀的工具库，未来也在逐步将常用的微信、百度地图等依赖作为预置纳入到 SDK 中。我们也可以使用 <code>npm run eject</code> 来将其恢复为类似于 <code>react-native init</code> 创建的包含原生代码的初始化项目，这样我们就能够自由地添加原生模块。我们也可以使用 Expo 提供的 <code>exp</code> 命令行将项目编译为独立可发布的应用。我们需要使用 <code>npm install -g exp</code> 安装命令行工具，然后配置 exp.json 文件：</p><pre tabindex=0><code> {
   name: &#34;Playground&#34;,
   icon: &#34;https://s3.amazonaws.com/exp-us-standard/rnplay/app-icon.png&#34;,
   version: &#34;2.0.0&#34;,
   slug: &#34;rnplay&#34;,
   sdkVersion: &#34;8.0.0&#34;,
   ios: {
     bundleIdentifier: &#34;org.rnplay.exp&#34;,
   },
   android: {
     package: &#34;org.rnplay.exp&#34;,
   }
 }
</code></pre><p>配置完毕之后在应用目录内使用 <code>exp start</code> 命令来启动 Expo 打包工具，然后选择使用 <code>exp build:android</code> 或者 <code>exp build:ios</code> 分别构建 Android 或者 iOS 独立应用。</p><p>除此之外，我们还可以使用 <a href=https://github.com/futurice/pepperoni-app-kit target=_blank rel=noopener>PepperoniAppKit</a>，或者<a href=https://www.decosoftware.com target=_blank rel=noopener>Deco</a></p><h1 id=开发第一个应用程序>开发第一个应用程序</h1><p>在安装 React Native 开发环境时官方就推荐了 Flow 作为开发辅助工具，Flow 是一个用于静态类型检查的 JavaScript 的开发库。Flow 依赖于类型推导来检测代码中可能的类型错误，并且允许逐步向现存的项目中添加类型声明。如果需要使用 Flow，只需要用如下的命令：</p><pre tabindex=0><code>flow check
</code></pre><p>一般情况下默认的应用中都会包含一个*.flowconfig<em>文件，用于配置 Flow 的行为。如果不希望 flow 检查全部的文件，可以在</em>.flowconfig*文件中添加配置进行忽略：</p><pre tabindex=0><code>[ignore]
.*/node_modules/.*
</code></pre><p>最终检查的时候就可以直接运行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ flow check
</span></span><span class=line><span class=cl>$ Found <span class=m>0</span> errors.
</span></span></code></pre></div><p>React Native 支持使用 Jest 进行 React 组件的测试，Jest 是一个基于 Jasmine 的单元测试框架，它提供了自动的依赖 Mock，并且与 React 的测试工具协作顺利。</p><pre tabindex=0><code>npm install jest-cli --save-dev
</code></pre><p>可以将 test 脚本加入到 package.son 文件中：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;scripts&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;test&#34;</span><span class=o>:</span> <span class=s2>&#34;jest&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>直接使用<em>npm test</em>命令直接运行 jest 命令，下面可以创建 tests 文件夹，Jest 会递归搜索 tests 目录中的文件，这些测试文件中的代码如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=s2>&#34;use strict&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;a silly test&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;expects true to be true&#34;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=kc>true</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>而对于一些复杂的应用可以查看 React Native 的官方文档，以其中一个 getImageSource 为例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=nx>Taken</span> <span class=nx>from</span> <span class=nx>https</span><span class=o>:</span><span class=c1>//github.com/facebook/react-native/blob/master/Examples/Movies/__tests__/getImageSource-test.js
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=o>*</span><span class=err>/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s1>&#39;use strict&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>jest</span><span class=p>.</span><span class=nx>dontMock</span><span class=p>(</span><span class=s1>&#39;../getImageSource&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>getImageSource</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;../getImageSource&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;getImageSource&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;returns null for invalid input&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>getImageSource</span><span class=p>().</span><span class=nx>uri</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>因为 Jest 是默认自动 Mock 的，所以需要对待测试的方法设置 dontMock.</p></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>