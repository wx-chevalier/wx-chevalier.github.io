<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
  

  

  
  
  
    
  
  <meta name="description" content="Gesture gesture-detection-in-react-native Web-based interfaces are usually designed with mouse-based controllers in mind. We use things like hover state to indicate interactivity and respond to user interaction. For mobile, unsurprisingly, it’s touch that matters. Mobile platforms have their own norms around interactions that you’ll want to design for. This varies somewhat from platform to platform: iOS behaves differently from Android, which behaves differently yet again from Windows Phone. React Native provides a number of APIs for you to leverage as you build touch-ready interfaces. In this section, we’ll look" />

  
  <link rel="alternate" hreflang="zh" href="https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css" integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin="anonymous">
    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.0d97305106da5efa530e28b021b4c580.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-40NYXJ8823");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@wx-chevalier" />
    <meta property="twitter:creator" content="@wx-chevalier" />
  
  <meta property="og:site_name" content="Next-gen Tech Edu" />
  <meta property="og:url" content="https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/" />
  <meta property="og:title" content="事件与手势 | Next-gen Tech Edu" />
  <meta property="og:description" content="Gesture gesture-detection-in-react-native Web-based interfaces are usually designed with mouse-based controllers in mind. We use things like hover state to indicate interactivity and respond to user interaction. For mobile, unsurprisingly, it’s touch that matters. Mobile platforms have their own norms around interactions that you’ll want to design for. This varies somewhat from platform to platform: iOS behaves differently from Android, which behaves differently yet again from Windows Phone. React Native provides a number of APIs for you to leverage as you build touch-ready interfaces. In this section, we’ll look" /><meta property="og:image" content="https://ng-tech.icu/media/sharing.png" />
    <meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
    
  

  



  

  

  





  <title>事件与手势 | Next-gen Tech Edu</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="e8279b26742c332cbc72991c962acdcc" >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/books-gallery"><span>笔记（万篇）</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#knowledge-map"><span>知识图谱</span></a>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>实验室</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/galaxy-home/gh-craft"><span>Craft 方块世界</span></a>
              
                <a class="dropdown-item" href="/galaxy-home/glossary-cards"><span>3D 知识卡牌</span></a>
              
            </div>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>其他阅读渠道</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png"></img><span>知乎</span></a>
              
                <a class="dropdown-item" href="https://segmentfault.com/blog/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png"></img><span>SegmentFault</span></a>
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png"></img><span>掘金</span></a>
              
            </div>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link" href="https://github.com/wx-chevalier" aria-label="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>
        </li>
        

        
        
        

        
        
        
        <div></div>
        
        <style>
        @media only screen and (max-width: 600px) {
          .jimmysong-template {
            display: none!important;
          }
        }
        </style>
        
        <li class="jimmysong-template" style="color: white;font-size: 12px;">
          <a href="https://jimmysong.io" style="color: white">By Jimmy Song's Template</a>
        </li>
      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">
<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          语法基础
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      <ul class="nav docs-sidenav">
        <li style="display: inline-flex">
          <a style="cursor: pointer;" onclick="window.history.back()">
            <i class="fas fa-arrow-left pr-1"></i>
            Back
          </a>
          <span>|</span>
          <a href="/books/">
            <i class="fa-solid fa-house" style="margin-right: 4px"></i>
            Books
          </a>
        </li>
      </ul>

      
      
        
          
        
      



  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id6903ef05081fb0d99ab082d0aa7a30c1&#34;)" href="#id6903ef05081fb0d99ab082d0aa7a30c1" aria-expanded="false" aria-controls="id6903ef05081fb0d99ab082d0aa7a30c1" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/">React Native</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id6903ef05081fb0d99ab082d0aa7a30c1" aria-expanded="false" aria-controls="id6903ef05081fb0d99ab082d0aa7a30c1">
    
    <i class="fa-solid fa-angle-down" id="caret-id6903ef05081fb0d99ab082d0aa7a30c1"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id6903ef05081fb0d99ab082d0aa7a30c1">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id71b3cc57ce6abd27e9398966f0d9566d&#34;)" href="#id71b3cc57ce6abd27e9398966f0d9566d" aria-expanded="false" aria-controls="id71b3cc57ce6abd27e9398966f0d9566d" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-ida6ced0edc1c62a6b0d83abeb0e126d92&#34;)" href="#ida6ced0edc1c62a6b0d83abeb0e126d92" aria-expanded="false" aria-controls="ida6ced0edc1c62a6b0d83abeb0e126d92" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/">工程实践</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#ida6ced0edc1c62a6b0d83abeb0e126d92" aria-expanded="false" aria-controls="ida6ced0edc1c62a6b0d83abeb0e126d92">
    
        <i class="fa-solid fa-angle-right" id="caret-ida6ced0edc1c62a6b0d83abeb0e126d92"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="ida6ced0edc1c62a6b0d83abeb0e126d92">
      



  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/">调试与测试</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id3aadb9b2f9655bcd4f9de1f60f96d7f6&#34;)" href="#id3aadb9b2f9655bcd4f9de1f60f96d7f6" aria-expanded="false" aria-controls="id3aadb9b2f9655bcd4f9de1f60f96d7f6" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/">架构原理</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id3aadb9b2f9655bcd4f9de1f60f96d7f6" aria-expanded="false" aria-controls="id3aadb9b2f9655bcd4f9de1f60f96d7f6">
    
        <i class="fa-solid fa-angle-right" id="caret-id3aadb9b2f9655bcd4f9de1f60f96d7f6"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id3aadb9b2f9655bcd4f9de1f60f96d7f6">
      



  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/bridge/">Bridge</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">启动流程</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%AE%9E%E8%B7%B5%E6%8A%80%E5%B7%A7/">实践技巧</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86/%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%BA%E5%88%B6/">原理与机制</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id64f794c555077e4d9f1b0356c0d991dd&#34;)" href="#id64f794c555077e4d9f1b0356c0d991dd" aria-expanded="false" aria-controls="id64f794c555077e4d9f1b0356c0d991dd" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/">语法基础</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id64f794c555077e4d9f1b0356c0d991dd" aria-expanded="false" aria-controls="id64f794c555077e4d9f1b0356c0d991dd">
    
    <i class="fa-solid fa-angle-down" id="caret-id64f794c555077e4d9f1b0356c0d991dd"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id64f794c555077e4d9f1b0356c0d991dd">
      



  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%B8%83%E5%B1%80%E5%9F%BA%E7%A1%80/">布局基础</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%93%BE/">环境搭建与工具链</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/">界面开发</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA/">路由导航</a></li>




  <li class="child level active"><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/">事件与手势</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/">组件基础</a></li>




  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80.old/">组件基础.old</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id0e3d73df1c889a41a2d13e80ef31e953&#34;)" href="#id0e3d73df1c889a41a2d13e80ef31e953" aria-expanded="false" aria-controls="id0e3d73df1c889a41a2d13e80ef31e953" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E7%BB%84%E4%BB%B6%E4%BC%98%E5%8C%96/">组件优化</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id0e3d73df1c889a41a2d13e80ef31e953" aria-expanded="false" aria-controls="id0e3d73df1c889a41a2d13e80ef31e953">
    
        <i class="fa-solid fa-angle-right" id="caret-id0e3d73df1c889a41a2d13e80ef31e953"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id0e3d73df1c889a41a2d13e80ef31e953">
      



  <li class="child level "><a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E7%BB%84%E4%BB%B6%E4%BC%98%E5%8C%96/%E5%88%97%E8%A1%A8%E4%BC%98%E5%8C%96/">列表优化</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

    
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#using-touchablehighlight">Using TouchableHighlight</a></li>
    <li><a href="#the-gesture-responder-system">The Gesture Responder System</a></li>
  </ul>

  <ul>
    <li><a href="#react-native-keyboard-spacerhttpsgithubcomandr3whur5treact-native-keyboard-spacer"><a href="https://github.com/Andr3wHur5t/react-native-keyboard-spacer">react-native-keyboard-spacer</a></a></li>
  </ul>
</nav>

      
<div class="subscribe-module col-24 mt-1">
    <img src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png" alt="image" title="王下邀月熊的微信公众号"/>
</div>



    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          

          <h1>事件与手势</h1>

          <div class="article-style">
            <h1 id="gesture">Gesture</h1>
<ul>
<li><a href="http://blog.lum.pe/gesture-detection-in-react-native/" target="_blank" rel="noopener">gesture-detection-in-react-native</a></li>
</ul>
<p>Web-based interfaces are usually designed with mouse-based controllers in mind. We use things like hover state to indicate interactivity and respond to user interaction. For mobile, unsurprisingly, it’s touch that matters. Mobile platforms have their own norms around interactions that you’ll want to design for. This varies somewhat from platform to platform: iOS behaves differently from Android, which behaves differently yet again from Windows Phone.
React Native provides a number of APIs for you to leverage as you build touch-ready interfaces. In this section, we’ll look at the <code>&lt;TouchableHighlight&gt;</code> container component, as well as the lower-level APIs provided by PanResponder and the Gesture Responder system.</p>
<h2 id="using-touchablehighlight">Using TouchableHighlight</h2>
<p>Any interface elements that respond to user touch (think buttons, control elements, and so on) should usually have a <TouchableHighlight> wrapper. TouchableHighlight causes an overlay to appear when the view is touched, giving the user visual feedback. This is one of the key interactions that causes a mobile application to feel native, as opposed to a mobile-optimized website, where touch feedback is limited. As a general rule of thumb, you should use <TouchableHighlight/> anywhere that would be a button or a link on the web.
At its most basic usage, you just need to wrap your component in a <TouchableHighlight>, which will add a simple overlay when pressed. The <TouchableHighlight> component also gives you hooks for events such as onPressIn, onPressOut, onLongPress, and so on. You could use these, for instance, to build menus that only appear on long presses; and so on.
Here’s an example of how we can wrap a component in a <TouchableHighlight> in order to give the user feedback:</p>
<pre tabindex="0"><code>&lt;TouchableHighlight
  onPressIn={this._onPressIn}
  onPressOut={this._onPressOut}
  style={styles.touchable}&gt;
    &lt;View style={styles.button}&gt;
      &lt;Text style={styles.welcome}&gt;
        {this.state.pressing ? &#39;EEK!&#39; : &#39;PUSH ME&#39;}
      &lt;/Text&gt;
    &lt;/View&gt;
&lt;/TouchableHighlight&gt;
</code></pre><p>When the user taps the button, an overlay appears, and the text changes.

















  <figure  >
    <div class="d-flex justify-content-center">
      <div class="w-100" ><img src="http://7xi5sw.com1.z0.glb.clouddn.com/fasdadsfasdpress_demo_states.png" alt="" loading="lazy" data-zoomable /></div>
    </div></figure>
This is a contrived example, but it illustrates the basic interactions that make a button “feel” touchable on iOS. The overlay is a key piece of feedback that informs the user that an element can be pressed. Note that in order to apply the overlay, we don’t need to apply any logic to our styles; the <TouchableHighlight> handles the logic of that for us.Here’s the full code for this button component:</p>
<pre tabindex="0"><code>&#39;use strict&#39;;

var React = require(&#39;react-native&#39;);
var {
  AppRegistry,
  StyleSheet,
  Text,
  View,
  TouchableHighlight
} = React;

var Button = React.createClass({
  getInitialState: function() {
    return {pressing: false};
  },
  _onPressIn: function() {
    this.setState({pressing: true});
  },
  _onPressOut: function() {
    this.setState({pressing: false});
  },
  render: function() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;TouchableHighlight onPressIn={this._onPressIn}
                            onPressOut={this._onPressOut}
                            style={styles.touchable}&gt;
          &lt;View style={styles.button}&gt;
            &lt;Text style={styles.welcome}&gt;
              {this.state.pressing ? &#39;EEK!&#39; : &#39;PUSH ME&#39;}
            &lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
    );
  }
});

// Styles
var styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: &#39;center&#39;,
    alignItems: &#39;center&#39;,
    backgroundColor: &#39;#F5FCFF&#39;,
  },
  welcome: {
    fontSize: 20,
    textAlign: &#39;center&#39;,
    margin: 10,
    color: &#39;#FFFFFF&#39;
  },
  touchable: {
    borderRadius: 100
  },
  button: {
    backgroundColor: &#39;#FF0000&#39;,
    borderRadius: 100,
    height: 200,
    width: 200,
    justifyContent: &#39;center&#39;
  },
});

module.exports = Button;
</code></pre><h2 id="the-gesture-responder-system">The Gesture Responder System</h2>
<p>What if you want to do more than just make things “tappable”? React Native also exposes two APIs for custom touch handling: <code>GestureResponder</code> and <code>PanResponder</code>. GestureResponder is a lower-level API, while PanResponder provides a useful abstraction. We’ll start by looking at how the GestureResponder system works, because it’s the basis for <code>PanResponder</code>’s API.</p>
<p>Touch on mobile is fairly complicated. Most mobile platforms support multitouch, which means that there can be multiple touch points active on the screen at once. (Not all of these are necessarily fingers, either; think about the difficulty of, e.g., detecting the user’s palm resting on the corner of the screen.) Additionally, there’s the issue of which view should handle a given touch. This problem is similar to how mouse events are processed on the web, and the default behavior is also similar: the topmost child handles the touch event by default. With React Native’s gesture responder system, however, we can override this behavior if we so choose.</p>
<p>The <em>touch responder</em> is the view which handles a given touch event. In the previous section, we saw that the `` component acts as a touch responder. We can cause our own components to become the touch responder, too. The lifecycle by which this process is negotiated is a little complicated. A view which wishes to obtain touch responder status should implement four props:</p>
<ul>
<li><code>View.props.onStartShouldSetResponder</code></li>
<li><code>View.props.onMoveShouldSetResponder</code></li>
<li><code>View.props.onResponderGrant</code></li>
<li><code>View.props.onResponderReject</code></li>
</ul>
<p>These then get invoked according to the following flow, in order to determine if the view will receive responder status:

















  <figure  >
    <div class="d-flex justify-content-center">
      <div class="w-100" ><img src="http://7xi5sw.com1.z0.glb.clouddn.com/fadscadsclaiming_touch.png" alt="" loading="lazy" data-zoomable /></div>
    </div></figure></p>
<p>Yikes, that looks complicated! Let’s tease this apart. First, a touch event has three main lifecycle stages: start, move, and release. (These correspond to mouseDown, mouseMove, and mouseUp in the browser.) A view can request to be the touch responder during the start or the move phase. This behavior is specified by onStartShouldSetResponder and onMoveShouldSetResponder. When one of those functions returns true, the view attempts to claim responder status.
After a view has attempted to claim responder status, its attempt may be granted or rejected. The appropriate callback — either onResponderGrant or onResponderReject — will be invoked.
The responder negotiation functions are called in a bubbling pattern. If multiple views attempt to claim responder status, the deepest component will become the responder. This is typically the desired behavior; otherwise, you would have difficulty adding touchable components such as buttons to a larger view. If you want to override this behavior, parent components can make use of onStartShouldSetResponderCapture and onMoveShouldSetResponderCapture. Returning true from either of these will prevent a component’s children from becoming the touch responder.
After a view has successfully claimed touch responder status, its relevant event handlers may be called. Here’s the excerpt from the Gesture Responder documentation:
View.props.onResponderMove
The user is moving their finger
View.props.onResponderRelease
Fired at the end of the touch, ie “touchUp”
View.props.onResponderTerminationRequest
Something else wants to become responder. Should this view release the responder? Returning true allows release
View.props.onResponderTerminate
The responder has been taken from the View. Might be taken by other views after a call to onResponderTerminationRequest, or might be taken by the OS without asking (happens with control center/ notification center on iOS)
Most of the time, you will primarily be concerned with onResponderMove and onResponderRelease.
All of these methods receive a synthetic touch event object, which adheres to the following format (again, excerpted from the documentation):
changedTouches - Array of all touch events that have changed since the last event
identifier - The ID of the touch
locationX - The X position of the touch, relative to the element
locationY - The Y position of the touch, relative to the element
pageX - The X position of the touch, relative to the screen
pageY - The Y position of the touch, relative to the screen
target - The node id of the element receiving the touch event
timestamp - A time identifier for the touch, useful for velocity calculation
touches - Array of all current touches on the screen
You can make use of this information when deciding whether or not to respond to a touch event. Perhaps your view only cares about two-finger touches, for example.
This is a fairly low-level API; if you want to detect and respond to gestures in this way, you will need to spend a decent amount of time tuning the correct parameters and figuring out which values you should care about. In the next section, we will take a look at PanResponder, which supplies a somewhat higher-level interpretation of user gestures.
PanResponder
Unlike <TouchableHighlight>, PanResponder is not a component, but rather a class provided by React Native. It provides a slightly higher-level API than the basic events returned by the Gesture Responder system, while still providing access to those raw events. A PanResponder gestureState object gives you access to the following, in accordance with the PanResponder documentation:
stateID - ID of the gestureState- persisted as long as there at least one touch on screen
moveX - the latest screen coordinates of the recently-moved touch
moveY - the latest screen coordinates of the recently-moved touch
x0 - the screen coordinates of the responder grant
y0 - the screen coordinates of the responder grant
dx - accumulated distance of the gesture since the touch started
dy - accumulated distance of the gesture since the touch started
vx - current velocity of the gesture
vy - current velocity of the gesture
numberActiveTouches - Number of touches currently on screeen
As you can see, in addition to raw position data, a gestureState object also includes information such as the current velocity of the touch and the accumulated distance.
To make use of PanResponder in a component, we need to create a PanResponder object and then attach it to a component in the render method.
Creating a PanResponder requires us to specify the proper handlers for PanResponder events:
this._panResponder = PanResponder.create({
onStartShouldSetPanResponder: this._handleStartShouldSetPanResponder,
onMoveShouldSetPanResponder: this._handleMoveShouldSetPanResponder,
onPanResponderGrant: this._handlePanResponderGrant,
onPanResponderMove: this._handlePanResponderMove,
onPanResponderRelease: this._handlePanResponderEnd,
onPanResponderTerminate: this._handlePanResponderEnd,
});
Then, we use spread syntax to attach the PanResponder to the view in the component’s render method.
render: function() {
return (
&lt;View
{&hellip;this._panResponder.panHandlers}&gt;
{ /_ View contents here _/ }
</View>
);
}
After this, the handlers that you passed to the PanResponder.create call will be invoked during the appropriate move events, if the touch originates within this view.
Here’s a modified version of the PanResponder example code provided by React Native. This version listens to touch events on the container view, as opposed to just the circle, and so that the values are printed to the screen as you interact with the application. If you plan on implementing your own gesture recognizers, I suggest experimenting with this application on a real device, so that you can get a feel for how these values respond.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// Adapted from https://github.com/facebook/react-native/blob/master/Examples/UIExplorer/PanResponderExample.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">React</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;react-native&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="p">{</span> <span class="nx">StyleSheet</span><span class="p">,</span> <span class="nx">PanResponder</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Text</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">React</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">CIRCLE_SIZE</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">CIRCLE_COLOR</span> <span class="o">=</span> <span class="s2">&#34;blue&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">CIRCLE_HIGHLIGHT_COLOR</span> <span class="o">=</span> <span class="s2">&#34;green&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">PanResponderExample</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">statics</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;PanResponder Sample&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">description</span><span class="o">:</span> <span class="s2">&#34;Basic gesture handling example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_panResponder</span><span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_previousLeft</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_previousTop</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_circleStyles</span><span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">circle</span><span class="o">:</span> <span class="p">(</span><span class="kc">null</span><span class="o">:</span> <span class="o">?</span><span class="p">{</span> <span class="nx">setNativeProps</span><span class="p">(</span><span class="nx">props</span><span class="o">:</span> <span class="nb">Object</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">numberActiveTouches</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">moveX</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">moveY</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">x0</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">y0</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">dx</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">dy</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">vx</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">vy</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">componentWillMount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_panResponder</span> <span class="o">=</span> <span class="nx">PanResponder</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onStartShouldSetPanResponder</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handleStartShouldSetPanResponder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onMoveShouldSetPanResponder</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handleMoveShouldSetPanResponder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onPanResponderGrant</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handlePanResponderGrant</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onPanResponderMove</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handlePanResponderMove</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onPanResponderRelease</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handlePanResponderEnd</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onPanResponderTerminate</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_handlePanResponderEnd</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_previousLeft</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_previousTop</span> <span class="o">=</span> <span class="mi">84</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_circleStyles</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">left</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_previousLeft</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">top</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_previousTop</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_updatePosition</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span> <span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">_panResponder</span><span class="p">.</span><span class="nx">panHandlers</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">View</span>
</span></span><span class="line"><span class="cl">          <span class="nx">ref</span><span class="o">=</span><span class="p">{(</span><span class="nx">circle</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">this</span><span class="p">.</span><span class="nx">circle</span> <span class="o">=</span> <span class="nx">circle</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">circle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">numberActiveTouches</span><span class="p">}</span> <span class="nx">touches</span><span class="p">,</span> <span class="nx">dx</span><span class="o">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">dx</span><span class="p">},</span> <span class="nx">dy</span><span class="o">:</span><span class="p">{</span><span class="s2">&#34; &#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">dy</span><span class="p">},</span> <span class="nx">vx</span><span class="o">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">vx</span><span class="p">},</span> <span class="nx">vy</span><span class="o">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">vy</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_highlight</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">circle</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">circle</span><span class="p">.</span><span class="nx">setNativeProps</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">backgroundColor</span><span class="o">:</span> <span class="nx">CIRCLE_HIGHLIGHT_COLOR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_unHighlight</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">circle</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">circle</span><span class="p">.</span><span class="nx">setNativeProps</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">backgroundColor</span><span class="o">:</span> <span class="nx">CIRCLE_COLOR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_updatePosition</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">circle</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">circle</span><span class="p">.</span><span class="nx">setNativeProps</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_circleStyles</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_handleStartShouldSetPanResponder</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">e</span><span class="o">:</span> <span class="nb">Object</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">gestureState</span><span class="o">:</span> <span class="nb">Object</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Should we become active when the user presses down on the circle?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_handleMoveShouldSetPanResponder</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">e</span><span class="o">:</span> <span class="nb">Object</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">gestureState</span><span class="o">:</span> <span class="nb">Object</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Should we become active when the user moves a touch over the circle?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_handlePanResponderGrant</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="o">:</span> <span class="nb">Object</span><span class="p">,</span> <span class="nx">gestureState</span><span class="o">:</span> <span class="nb">Object</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_highlight</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">_handlePanResponderMove</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="o">:</span> <span class="nb">Object</span><span class="p">,</span> <span class="nx">gestureState</span><span class="o">:</span> <span class="nb">Object</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">stateID</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">stateID</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">moveX</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">moveX</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">moveY</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">moveY</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">x0</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">x0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">y0</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">y0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">dx</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dx</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">dy</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dy</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">vx</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">vx</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">vy</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">vy</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">numberActiveTouches</span><span class="o">:</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">numberActiveTouches</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_circleStyles</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_previousLeft</span> <span class="o">+</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_circleStyles</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_previousTop</span> <span class="o">+</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dy</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_updatePosition</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_handlePanResponderEnd</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="o">:</span> <span class="nb">Object</span><span class="p">,</span> <span class="nx">gestureState</span><span class="o">:</span> <span class="nb">Object</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_unHighlight</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_previousLeft</span> <span class="o">+=</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">_previousTop</span> <span class="o">+=</span> <span class="nx">gestureState</span><span class="p">.</span><span class="nx">dy</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">circle</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">width</span><span class="o">:</span> <span class="nx">CIRCLE_SIZE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">height</span><span class="o">:</span> <span class="nx">CIRCLE_SIZE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">borderRadius</span><span class="o">:</span> <span class="nx">CIRCLE_SIZE</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">backgroundColor</span><span class="o">:</span> <span class="nx">CIRCLE_COLOR</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">position</span><span class="o">:</span> <span class="s2">&#34;absolute&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">left</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">container</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">flex</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">paddingTop</span><span class="o">:</span> <span class="mi">64</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">PanResponderExample</span><span class="p">;</span>
</span></span></code></pre></div><p>Choosing How to Handle Touch
How should you decide when to use the touch and gesture APIs discussed in this section? It depends on what you want to build.
In order to provide the user with basic feedback, and indicate that something is “tappable,” like a button, use the <TouchableHighlight> component.
In order to implement your own, custom touch interfaces, use either the raw Gesture Responder system, or a PanResponder. Chances are that you will almost always prefer the PanResponder approach, because it also gives you access to the simpler touch events provided by the Gesture Responder system. If you are designing a game, or an application with an unusual interface, you’ll need to spend some time building out the interactions you want by using these APIs.
For many applications, you won’t need to implement any custom touch handling with either the Gesture Responder system or the PanResponder. In the next section, we’ll look at some of the higher-level components which implement common UI patterns for you.</p>
<h1 id="keyboard-event">Keyboard Event</h1>
<ul>
<li><a href="https://shift.infinite.red/avoiding-the-keyboard-in-react-native-56d05b9a1e81#.qu4fvst6j" target="_blank" rel="noopener">Avoiding the Keyboard in React Native</a></li>
</ul>
<p>
















  <figure  >
    <div class="d-flex justify-content-center">
      <div class="w-100" ><img src="https://cdn-images-1.medium.com/max/600/1*0kl8Fx5KxyI42L-sYfz2gg.png" alt="" loading="lazy" data-zoomable /></div>
    </div></figure></p>
<p>
















  <figure  >
    <div class="d-flex justify-content-center">
      <div class="w-100" ><img src="https://cdn-images-1.medium.com/max/800/1*yANxSg6C260tIpeje4KZSA.gif" alt="" loading="lazy" data-zoomable /></div>
    </div></figure></p>
<h2 id="react-native-keyboard-spacerhttpsgithubcomandr3whur5treact-native-keyboard-spacer"><a href="https://github.com/Andr3wHur5t/react-native-keyboard-spacer" target="_blank" rel="noopener">react-native-keyboard-spacer</a></h2>
<p>
















  <figure  >
    <div class="d-flex justify-content-center">
      <div class="w-100" ><img src="https://camo.githubusercontent.com/53bca6c523803afc2598d1df6e0dce4c5e439c3c/687474703a2f2f6661742e6766796361742e636f6d2f496e636f6e73657175656e7469616c426f7468416d65726963616e6b65737472656c2e676966" alt="" loading="lazy" data-zoomable /></div>
    </div></figure></p>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <div class="col-6 post-nav-item">
    <div class="meta-nav">上一页</div>
    <a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA/" rel="next">路由导航</a>
  </div>
  
  
  
  <div class="col-6 post-nav-item">
    <div class="meta-nav">下一页</div>
    <a href="/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/react-native/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/" rel="prev">组件基础</a>
  </div>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 0001-01-01</p>

          



          


  
  
  

  

  
  <section id="comments" class="mb-3 pt-0">
    
<div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); 
    s.async = true;
    s.src = 'https://' + "ngte" + '.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </section>
  



          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2022 NGTE all rights reserved</p>
        </div>
    </div>
  </div>

  <script type="text/javascript" id="clstr_globe" async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script>
  
</footer>


    </main>
  </div>
</div>
<script src="//unpkg.com/heti/umd/heti-addon.min.js"></script>
<script>
  const heti = new Heti('.article');
  heti.autoSpacing();
</script>
<script type="text/javascript">
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "12adcc35-9621-4313-8262-62dc654b29d8";
  (function () {
    setTimeout(function() {
      d = document;
      s = d.createElement("script");
      s.src = "https://client.crisp.chat/l.js";
      s.async = 1;
      d.getElementsByTagName("head")[0].appendChild(s);
    }, 2500);
  })();
</script>
  </div>

  <div class="page-footer">
    
    
  </div>

      

    
    <script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>

    
    
    
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
      

    

    
    
    

    
    
    
      
      <script id="search-hit-algolia-template" type="text/html">
        <div class="search-hit">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a>
            </div>
            <div class="article-metadata search-hit-type">{{type}}</div>
            <p class="search-hit-description">{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js" crossorigin="anonymous"></script>
      
      
    

    
    

    
    
    
    
      <script id="dsq-count-scr" src="https://ngte.disqus.com/count.js" async></script>
      
    

    
    
      
      
      
      
      
      
      
    

    
    <script src="/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js" type="module"></script>
    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":false}</script>

    
    
    
    
    
    
    
    
    
    
    <script src="/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js"></script>

    
    
    
    
    
    
    <script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>


    

    
    
    <script src="https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    <script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>

    


</body>
</html>
