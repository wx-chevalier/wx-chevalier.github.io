<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="title: iOS-Gesture&Event tags: Cocoa,ViewController,Gesture Introduction 触摸(Cocoa Touch)就是用户的手指放在屏幕上，系统和硬件联合工作，会知道何时触摸屏幕以及触摸屏幕的未知。触摸事件是在 UIView 上进行的，而不是一个 UIResponder 对象。触摸本身是一个 UITouch 对象，每一个手指即会"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/"><meta property="og:title" content="事件与手势 | Next-gen Tech Edu"><meta property="og:description" content="title: iOS-Gesture&Event tags: Cocoa,ViewController,Gesture Introduction 触摸(Cocoa Touch)就是用户的手指放在屏幕上，系统和硬件联合工作，会知道何时触摸屏幕以及触摸屏幕的未知。触摸事件是在 UIView 上进行的，而不是一个 UIResponder 对象。触摸本身是一个 UITouch 对象，每一个手指即会"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>事件与手势 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=4ea57458c506e9b8ba0cfa4b4da1cdd1><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">界面开发</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcd1ef311397a3c257b43be491a02b287")' href=#idcd1ef311397a3c257b43be491a02b287 aria-expanded=false aria-controls=idcd1ef311397a3c257b43be491a02b287 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/>iOS</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcd1ef311397a3c257b43be491a02b287 aria-expanded=false aria-controls=idcd1ef311397a3c257b43be491a02b287><i class="fa-solid fa-angle-down" id=caret-idcd1ef311397a3c257b43be491a02b287></i></a></div><ul class="nav docs-sidenav collapse show" id=idcd1ef311397a3c257b43be491a02b287><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id39a7a0ec45ee1259af5f29731d7a2b6a")' href=#id39a7a0ec45ee1259af5f29731d7a2b6a aria-expanded=false aria-controls=id39a7a0ec45ee1259af5f29731d7a2b6a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9d9664ffa4574440542721abf316e152")' href=#id9d9664ffa4574440542721abf316e152 aria-expanded=false aria-controls=id9d9664ffa4574440542721abf316e152 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/objective-c/>Objective-C</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9d9664ffa4574440542721abf316e152 aria-expanded=false aria-controls=id9d9664ffa4574440542721abf316e152><i class="fa-solid fa-angle-right" id=caret-id9d9664ffa4574440542721abf316e152></i></a></div><ul class="nav docs-sidenav collapse" id=id9d9664ffa4574440542721abf316e152><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/objective-c/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/>语法基础</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id15a1051cfb3441add45c80fcf6fdd55c")' href=#id15a1051cfb3441add45c80fcf6fdd55c aria-expanded=false aria-controls=id15a1051cfb3441add45c80fcf6fdd55c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/swift/>Swift</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id15a1051cfb3441add45c80fcf6fdd55c aria-expanded=false aria-controls=id15a1051cfb3441add45c80fcf6fdd55c><i class="fa-solid fa-angle-right" id=caret-id15a1051cfb3441add45c80fcf6fdd55c></i></a></div><ul class="nav docs-sidenav collapse" id=id15a1051cfb3441add45c80fcf6fdd55c><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/swift/linkedin-%E6%A0%B7%E5%BC%8F%E6%8C%87%E5%8D%97/>Linkedin 样式指南</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id569675cf808ed9ac3c93d869e0b5f785")' href=#id569675cf808ed9ac3c93d869e0b5f785 aria-expanded=false aria-controls=id569675cf808ed9ac3c93d869e0b5f785 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/>界面开发</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id569675cf808ed9ac3c93d869e0b5f785 aria-expanded=false aria-controls=id569675cf808ed9ac3c93d869e0b5f785><i class="fa-solid fa-angle-down" id=caret-id569675cf808ed9ac3c93d869e0b5f785></i></a></div><ul class="nav docs-sidenav collapse show" id=id569675cf808ed9ac3c93d869e0b5f785><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/tablegrid/>TableGrid</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/uitableview/>UITableView</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E7%95%8C%E9%9D%A2%E5%9F%BA%E7%A1%80/>界面基础</a></li><li class="child level active"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%89%8B%E5%8A%BF/>事件与手势</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide44ea53fac0e6439130bcbb17de7c99e")' href=#ide44ea53fac0e6439130bcbb17de7c99e aria-expanded=false aria-controls=ide44ea53fac0e6439130bcbb17de7c99e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/>系统功能</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide44ea53fac0e6439130bcbb17de7c99e aria-expanded=false aria-controls=ide44ea53fac0e6439130bcbb17de7c99e><i class="fa-solid fa-angle-right" id=caret-ide44ea53fac0e6439130bcbb17de7c99e></i></a></div><ul class="nav docs-sidenav collapse" id=ide44ea53fac0e6439130bcbb17de7c99e><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/healthcheck/>HealthCheck</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/>数据存储</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/>网络请求</a></li><li class="child level"><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B/>系统进程</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#tags-cocoaviewcontrollergesture>title: iOS-Gesture&Event
tags: Cocoa,ViewController,Gesture</a></li></ul><ul><li><a href=#ios-事件分类>iOS 事件分类</a></li></ul><ul><li><a href=#uicontrol-控件事件分类>UIControl 控件事件分类</a><ul><li><a href=#自动关联>自动关联</a></li><li><a href=#手动关联>手动关联</a></li></ul></li><li><a href=#手势关联>手势关联</a><ul><li><a href=#uipangesturerecognizer>UIPanGestureRecognizer</a></li></ul></li></ul><ul><li><a href=#gesture-recognizers手势识别器>Gesture Recognizers(手势识别器)</a><ul><li><a href=#常用手势识别类>常用手势识别类</a></li><li><a href=#连续和不连续动作>连续和不连续动作</a></li></ul></li><li><a href=#drag拖拽>Drag(拖拽)</a></li><li><a href=#zoom缩放>Zoom(缩放)</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>事件与手势</h1><div class=article-style><hr><h2 id=tags-cocoaviewcontrollergesture>title: iOS-Gesture&Event
tags: Cocoa,ViewController,Gesture</h2><h1 id=introduction>Introduction</h1><p>触摸(Cocoa Touch)就是用户的手指放在屏幕上，系统和硬件联合工作，会知道何时触摸屏幕以及触摸屏幕的未知。触摸事件是在 UIView 上进行的，而不是一个 UIResponder 对象。触摸本身是一个 UITouch 对象，每一个手指即会对应一个 UITouch 对象，多个 UITouch 对象包含在一个 UIEvent 中。系统会将 UIEvent 发送到应用程序中，最后应用程序将 UIEvent 传递给当前一个 UIView。</p><blockquote><p>参考资料</p><ul><li><a href=http://ryantang.me/blog/2013/12/07/ios-event-dispatch-1/ target=_blank rel=noopener>iOS 事件机制</a></li></ul></blockquote><h2 id=ios-事件分类>iOS 事件分类</h2><p>对于 IOS 设备用户来说，他们操作设备的方式主要有三种：触摸屏幕、晃动设备、通过遥控设施控制设备。对应的事件类型有以下三种：</p><p>1、触屏事件(Touch Event)：单点、多点触控以及各种手势操作</p><p>2、运动事件(Motion Event)：重力、加速度传感器等</p><p>3、远端控制事件(Remote-Control Event)：远程遥控 iOS 设备多媒体播放等</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://ryantang.me/images/2013/12/ios_event_dispatch/1.png alt=iOS事件图例 loading=lazy data-zoomable></div></div></figure></p><h1 id=事件封装与响应>事件封装与响应</h1><h2 id=uicontrol-控件事件分类>UIControl 控件事件分类</h2><blockquote><p>参考资料</p><ul><li><a href=http://blog.csdn.net/g5dsk/article/details/6613943 target=_blank rel=noopener>iOS UIControl 几个事件的说明</a></li></ul></blockquote><p>在控件事件中，简单解释下下面几个事件。</p><p>说明：由于是在“iOS 模拟器”中测试的，所以不能用手指，只能用鼠标。</p><p>1)UIControlEventTouchDown</p><p>指鼠标左键按下(注：只是“按下”)的动作</p><p>2)UIControlEventTouchDownRepeat</p><p>指鼠标左键连续多次重复按下(注：只是“按下”)的动作，比如，鼠标连续双击、三击、……、多次连击。</p><p>说明：多次重复按下时，事件序列是这样的：</p><p>UIControlEventTouchDown -></p><p>(UIControlEventTouchUpInside) -></p><p>UIControlEventTouchDown -></p><p>UIControlEventTouchDownRepeat -></p><p>(UIControlEventTouchUpInside) -></p><p>UIControlEventTouchDown -></p><p>UIControlEventTouchDownRepeat -></p><p>(UIControlEventTouchUpInside) -></p><p>&mldr;</p><p>除了第一次按下外，后面每次摁下都是一个 UIControlEventTouchDown 事件，然后紧跟一个 UIControlEventTouchDownRepeat 事件。</p><p>3)UIControlEventTouchDragInside</p><p>指按下鼠标，然后在控件边界范围内拖动。</p><p>4)UIControlEventTouchDragOutside</p><p>与 UIControlEventTouchDragInside 不同的是，拖动时，鼠标位于控件边界范围之外。但首先得有个 UIControlEventTouchDown 事件，然后接一个 UIControlEventTouchDragInside 事件，再接一个 UIControlEventTouchDragExit 事件，这时，鼠标已经位于控件外了，继续拖动就是 UIControlEventTouchDragOutside 事件了。</p><p>具体操作是：在控件里面按下鼠标，然后拖动到控件之外。</p><p>5)UIControlEventTouchDragEnter</p><p>指拖动动作中，从控件边界外到内时产生的事件。</p><p>6)UIControlEventTouchDragExit</p><p>指拖动动作中，从控件边界内到外时产生的事件。</p><p>7)UIControlEventTouchUpInside</p><p>指鼠标在控件范围内抬起，前提先得按下，即 UIControlEventTouchDown 或 UIControlEventTouchDownRepeat 事件。</p><p>8)UIControlEventTouchUpOutside</p><p>指鼠标在控件边界范围外抬起，前提先得按下，然后拖动到控件外，即 UIControlEventTouchDown -> UIControlEventTouchDragInside(n 个) -> UIControlEventTouchDragExit -> UIControlEventTouchDragOutside(n 个) 时间序列，再然后就是抬起鼠标，产生 UIControlEventTouchUpOutside 事件。</p><h3 id=自动关联>自动关联</h3><p>可以通过 Xib 里面的关联口 IBAction 实现。</p><h3 id=手动关联>手动关联</h3><pre tabindex=0><code>[button addTarget:self action:@selector(navigatePics:) forControlEvents:UIControlEventTouchUpInside];
</code></pre><h2 id=手势关联>手势关联</h2><p>每一个特定的手势必须关联到 view 对象中才会有作用，一个 view 对象可以关联多个不同的特定手势，但是每一个特定的手势只能与一个 view 相关联。当用户触摸了 view，这个 GestureRecognizer 就会接受到消息，它可以响应特定的触摸事件。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://images.cnitblog.com/blog/133128/201304/30154250-3cc837e5df9b44f59d504c57eee6b8aa.png alt="enter description here" loading=lazy data-zoomable></div></div></figure></p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://images.cnitblog.com/blog/133128/201304/30154335-9b65e3e1d4024132beba1a3c8360c4b5.png alt="enter description here" loading=lazy data-zoomable></div></div></figure></p><p>通俗来说，关联手势与响应分为以下三步:</p><ul><li>创建 GestureRecognizer 实例</li><li>addGestureRecognizer</li><li>实现处理手势的方法</li></ul><h3 id=uipangesturerecognizer>UIPanGestureRecognizer</h3><pre tabindex=0><code>_panGestureRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handlerPanGesture:)];
    _panGestureRecognizer.delegate = self;
    _panGestureRecognizer.maximumNumberOfTouches = 2;
    _panGestureRecognizer.minimumNumberOfTouches = 2;
    [self.view addGestureRecognizer:_panGestureRecognizer];

- (void)handlerPanGesture:(UIPanGestureRecognizer *)recognizer
{
    if ((recognizer.state == UIGestureRecognizerStateBegan) ||
        (recognizer.state == UIGestureRecognizerStateChanged))
    {
        CGPoint offset = [recognizer translationInView:self.view];
        CGRect frame = self.rightViewController.view.frame;
        frame.origin.x += offset.x;
        if (frame.origin.x &gt;= 0 &amp;&amp; frame.origin.x &lt;= kScreenWidth)
        {
            self.rightViewController.view.frame = frame;
        }

        [recognizer setTranslation:CGPointZero inView:self.view];
    }
    else if (recognizer.state == UIGestureRecognizerStateEnded)
    {
        BOOL isVisible = self.rightViewController.view.frame.origin.x &lt; kScreenWidth / 2;
        [self showRightView:isVisible];
    }
}
</code></pre><h1 id=事件分发event-delivery>事件分发(Event Delivery)</h1><p>第一响应者(First responder)指的是当前接受触摸的响应者对象(通常是一个 UIView 对象)，即表示当前该对象正在与用户交互，它是响应者链的开端。整个响应者链和事件分发的使命都是找出第一响应者。</p><p>UIWindow 对象以消息的形式将事件发送给第一响应者，使其有机会首先处理事件。如果第一响应者没有进行处理，系统就将事件(通过消息)传递给响应者链中的下一个响应者，看看它是否可以进行处理。</p><p>iOS 系统检测到手指触摸(Touch)操作时会将其打包成一个 UIEvent 对象，并放入当前活动 Application 的事件队列，单例的 UIApplication 会从事件队列中取出触摸事件并传递给单例的 UIWindow 来处理，UIWindow 对象首先会使用 hitTest:withEvent:方法寻找此次 Touch 操作初始点所在的视图(View)，即需要将触摸事件传递给其处理的视图，这个过程称之为 hit-test view。</p><h1 id=复杂手势控制complex-gesture-event>复杂手势控制(Complex Gesture Event)</h1><p>在 iOS 中一个事件用一个 UIEvent 对象表示，UITouch 用来表示一次对屏幕的操作动作，由多个 UITouch 对象构成了一个 UIEvent 对象。另外，UIResponder 是所有响应者的父类，UIView、UIViewController、UIWindow、UIApplication 都直接或间接的集成了 UIResponder。</p><h2 id=gesture-recognizers手势识别器>Gesture Recognizers(手势识别器)</h2><p>Gesture Recognizers 是一类手势识别器对象，它可以附属在你指定的 View 上，并且为其设定指定的手势操作，例如是点击、滑动或者是拖拽。当触控事件 发生时，设置了 Gesture Recognizers 的 View 会先通过识别器去拦截触控事件，如果该触控事件是事先为 View 设定的触控监听事件，那么 Gesture Recognizers 将会发送动作消息给目标处理对象，目标处理对象则对这次触控事件进行处理，先看看如下流程图。</p><p><a href=http://ryantang.me/images/2013/12/ios_event_dispatch/2.png target=_blank rel=noopener>Action 传递模型</a></p><p>在 iOS 中，View 就是我们在屏幕上看到的各种 UI 控件，当一个触控事件发生时，Gesture Recognizers 会先获取到指定的事件，然后发送动作消息(action message)给目标对象(target)，目标对象就是 ViewController，在 ViewController 中通过事件方法完成对该事件的处理。Gesture Recognizers 能设置诸如单击、滑动、拖拽等事件，通过 Action-Target 这种设计模式，好处是能动态为 View 添加各种事件监听，而不用去实现一个 View 的子类去完成这些功能。</p><p>以上过程就是我们在开发中在方法中常见的设置 action 和设置 target，例如为 UIButton 设置监听事件等。</p><h3 id=常用手势识别类>常用手势识别类</h3><p>在 UIKit 框架中，系统为我们事先定义好了一些常用的手势识别器，包括点击、双指缩放、拖拽、滑动、旋转以及长按。通过这些手势识别器我们可以构造丰富的操作方式。</p><p><a href=http://ryantang.me/images/2013/12/ios_event_dispatch/3.png target=_blank rel=noopener>手势识别类列表</a></p><p>在上表中可以看到，UIKit 框架中已经提供了诸如 UITapGestureRecognizer 在内的六种手势识别器，如果你需要实现自定义的手势识别器，也可以通过继承 UIGestureRecognizer 类并重写其中的方法来完成，这里我们就不详细讨论了。</p><p>每一个 Gesture Recognizer 关联一个 View，但是一个 View 可以关联多个 Gesture Recognizer，因为一个 View 可能还能响应多种触控操作方式。当一个触控事件发生时，Gesture Recognizer 接收一个动作消息要先于 View 本身，结果就是 Gesture Recognizer 作为 View 处理触控事件的代表，或者叫代理。当 Gesture Recognizer 接收到指定的事件时，它就会发送一条动作消息(action message)给 ViewController 并处理。</p><h3 id=连续和不连续动作>连续和不连续动作</h3><p><a href=http://ryantang.me/images/2013/12/ios_event_dispatch/4.png target=_blank rel=noopener>连续与不连续动作</a></p><p>触控动作同时分为连续动作(continuous)和不连续动作(discrete)，连续动作例如滑动和拖拽，它会持续一小段时间，而不连续动作例如单击，它瞬间就会完成，在这两类事件的处理上又稍有不同。对于不连续动作，Gesture Recognizer 只会给 ViewContoller 发送一个单一的动作消息(action message),而对于连续动作，Gesture Recognizer 会发送多条动作消息给 ViewController，直到所有的事件都结束。</p><p>为一个 View 添加 GestureRecognizer 有两种方式，一种是通过 InterfaceBuilder 实现，另一种就是通过代码实现，我们看看通过代码来如何实现。</p><h2 id=drag拖拽>Drag(拖拽)</h2><h2 id=zoom缩放>Zoom(缩放)</h2></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/frontend-notes/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/ios/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E7%95%8C%E9%9D%A2%E5%9F%BA%E7%A1%80/ rel=next>界面基础</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>