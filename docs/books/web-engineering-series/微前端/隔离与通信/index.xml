<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>éš”ç¦»ä¸é€šä¿¡ | Next-gen Tech Edu</title>
    <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/</link>
      <atom:link href="https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/index.xml" rel="self" type="application/rss+xml" />
    <description>éš”ç¦»ä¸é€šä¿¡</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language>
    <image>
      <url>https://ng-tech.icu/media/sharing.png</url>
      <title>éš”ç¦»ä¸é€šä¿¡</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/</link>
    </image>
    
    <item>
      <title>iframe</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/iframe/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/iframe/</guid>
      <description>&lt;h1 id=&#34;iframe&#34;&gt;iframe&lt;/h1&gt;
&lt;p&gt;iframe èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åµŒå…¥æ›´ä¸ºä¸°å¯Œçš„è§†å›¾å†…å®¹ï¼Œè­¬å¦‚ VSCode è¿™æ ·çš„ IDE ä¹Ÿæ˜¯å…¸å‹çš„å¾®å‰ç«¯æ¡†æ¶ï¼Œä»–ä½¿ç”¨äº† Electron ä½œä¸ºåº•å±‚ï¼Œå¹¶ä¸”ä½¿ç”¨ webview æ ‡ç­¾ä½œä¸ºè§†å›¾çš„å®¹å™¨ã€‚è€Œåœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬å¾€å¾€ä½¿ç”¨ iframe æ¥åŠ è½½ä¸åŒåŸŸçš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;iframe å¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ç‹¬ç«‹çš„å®¿ä¸»ç¯å¢ƒï¼Œiframe çš„é¡µé¢å’Œçˆ¶é¡µé¢æ˜¯åˆ†å¼€çš„ï¼Œä½œä¸ºç‹¬ç«‹åŒºåŸŸè€Œä¸å—çˆ¶é¡µé¢çš„ CSS æˆ–è€…å…¨å±€çš„ JavaScript å½±å“ã€‚iframe çš„ä¸è¶³æˆ–ç¼ºé™·ä¹Ÿéå¸¸æ˜æ˜¾ï¼Œå…¶ä¼šè¿›è¡Œèµ„æºçš„é‡å¤åŠ è½½ï¼Œå ç”¨é¢å¤–çš„å†…å­˜ï¼›å…¶ä¼šé˜»å¡ä¸»é¡µé¢çš„ onload äº‹ä»¶ï¼Œå’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸŸçš„è¿æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½ã€‚&lt;/p&gt;
&lt;p&gt;iframe çš„æ”¹é€ é—¨æ§›è¾ƒä½ï¼Œä½†æ˜¯ä»åŠŸèƒ½éœ€æ±‚çš„è§’åº¦çœ‹ï¼Œå…¶æ— æ³•æä¾› SEOï¼Œå¹¶ä¸”éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰åº”ç”¨ç®¡ç†ä¸åº”ç”¨é€šè®¯æœºåˆ¶ã€‚iframe çš„åº”ç”¨ç®¡ç†ä¸ä»…è¦å…³æ³¨å…¶åŠ è½½ä¸ç”Ÿå‘½å‘¨æœŸï¼Œè¿˜éœ€è¦è€ƒè™‘åˆ°æµè§ˆå™¨ç¼©æ”¾ç­‰åœºæ™¯ä¸‹çš„ç•Œé¢é‡é€‚é…é—®é¢˜ï¼Œä»¥æä¾›ç”¨æˆ·ä¸€è‡´çš„äº¤äº’ä½“éªŒï¼›è¿™é‡Œæˆ‘ä»¬å†ç®€è¦è®¨è®ºä¸‹åŒæºåœºæ™¯ä¸­çš„è·¨ç•Œé¢é€šè®¯è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“– è¯¦ç»†è§£è¯»å‚é˜… &lt;a href=&#34;https://parg.co/YlB&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;DOM CheatSheet&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;broadcastchannel&#34;&gt;BroadcastChannel&lt;/h2&gt;
&lt;p&gt;BroadcastChannel èƒ½å¤Ÿç”¨äºåŒæºä¸åŒé¡µé¢ä¹‹é—´å®Œæˆé€šä¿¡çš„åŠŸèƒ½ã€‚å®ƒä¸ window.postMessage çš„åŒºåˆ«å°±æ˜¯ï¼ŒBroadcastChannel åªèƒ½ç”¨äºåŒæºçš„é¡µé¢ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œè€Œ window.postMessage å´å¯ä»¥ç”¨äºä»»ä½•çš„é¡µé¢ä¹‹é—´ï¼›BroadcastChannel å¯ä»¥è®¤ä¸ºæ˜¯ window.postMessage çš„ä¸€ä¸ªå®ä¾‹ï¼Œå®ƒæ‰¿æ‹…äº† window.postMessage çš„ä¸€ä¸ªæ–¹é¢çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;channel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;BroadcastChannel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;channel-name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;postMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;some message&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;postMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;onmessage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;sharedworker-api&#34;&gt;SharedWorker API&lt;/h2&gt;
&lt;p&gt;Shared Worker ç±»ä¼¼äº Web Workersï¼Œä¸è¿‡å…¶ä¼šè¢«æ¥è‡ªåŒæºçš„ä¸åŒæµè§ˆä¸Šä¸‹æ–‡é—´å…±äº«ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç”¨ä½œæ¶ˆæ¯çš„ä¸­è½¬ç«™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// main.js
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;worker&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;SharedWorker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;shared-worker.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;worker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;postMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;some message&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;worker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;onmessage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// shared-worker.js
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;connections&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;onconnect&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;connections&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;onmessage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;connections&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;connection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;postMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;local-storage&#34;&gt;Local Storage&lt;/h2&gt;
&lt;p&gt;localStorage æ˜¯å¸¸è§çš„æŒä¹…åŒ–åŒæºå­˜å‚¨æœºåˆ¶ï¼Œå…¶ä¼šåœ¨å†…å®¹å˜åŒ–æ—¶è§¦å‘äº‹ä»¶ï¼Œä¹Ÿå°±å¯ä»¥ç”¨ä½œåŒæºç•Œé¢çš„æ•°æ®é€šä¿¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;localStorage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;setItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;key&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;window&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;onstorage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;newValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// previous value at e.oldValue
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;çº¿ç¨‹ç‹¬ç«‹æ€§é—®é¢˜&#34;&gt;çº¿ç¨‹ç‹¬ç«‹æ€§é—®é¢˜&lt;/h1&gt;
&lt;p&gt;åœ¨ Electron ä¸­çš„ï¼Œwebview å¤©ç„¶åœ°å’Œå¤–éƒ¨çš„ browserWindow æ‹¥æœ‰åˆ†å¼€çš„çº¿ç¨‹å’Œ js ä¸Šä¸‹æ–‡ï¼Œç”šè‡³è¿ devtools éƒ½è¦å•ç‹¬å¯ç”¨ã€‚å› ä¸ºå®ƒå…¶å®æ˜¯ Chromium ä¸­çš„ Out-of-Process iframes çš„å®ç°ï¼ˆç»è¿‡äº† Electron æ–¹é¢çš„å°è£…ï¼‰ã€‚å¯¹åº”çš„æ¦‚å¿µå°±æ˜¯ Chrome App ä¸­çš„ Webview ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;iframe ä½œä¸ºå‡çº§ç‰ˆçš„ frameï¼Œä¸€èˆ¬æ¥è¯´éƒ½ä¼šè¢«è®¤ä¸ºå’Œä¸Šå±‚çš„ parent å®¹å™¨å¤„åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­, å› ä¸ºåŸºäº html çš„ specï¼Œä»–ä»¬ä¼šæ‹¥æœ‰çˆ¶å®¹å™¨çš„ä¸€ä¸ªå­©å­ BrowserContextã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œiframe å½“ä¸­çš„ js è¿è¡Œæ—¶ä¾¿ä¼šé˜»å¡å¤–éƒ¨çš„ js è¿è¡Œï¼Œç‰¹åˆ«æ˜¯å½“å¦‚æœ iframe ä¸­çš„ä»£ç è´¨é‡ä¸é«˜è€Œå¯¼è‡´æ€§èƒ½é—®é¢˜æ—¶ï¼Œå¤–å±‚è¿è¡Œçš„å®¹å™¨ä¼šå—åˆ°ç›¸å½“å¤§çš„å½±å“ã€‚è¿™æ˜¾ç„¶æ˜¯æˆ‘ä»¬ä¸æ„¿æ„çœ‹åˆ°çš„ï¼Œå› ä¸º webview ä¸­çš„å†…å®¹ä»…ä»…ä¼šä½œä¸º IDE æ‹“å±•æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°æˆ‘ä»¬çš„å¤–éƒ¨ UI å’Œç¨‹åºè¢« iframe é˜»å¡ä»è€Œå¯¼è‡´æ€§èƒ½è¡¨ç°ä¸ä½³ã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://s2.ax1x.com/2019/09/11/nwcdzR.png&#34; alt=&#34;iframe çº¿ç¨‹&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼ŒChromium åœ¨ 67 ç‰ˆæœ¬ä¹‹åé»˜è®¤å¼€å¯äº† Site Isolationã€‚åŸºäºå®ƒçš„æè¿°ï¼Œå¦‚æœ iframe ä¸­çš„åŸŸåå’Œå½“å‰çˆ¶åŸŸåä¸åŒï¼ˆä¹Ÿå°±æ˜¯å¤§å®¶ç†Ÿæ‚‰çš„è·¨åŸŸæƒ…å†µï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ª iframe ä¸­çš„æ¸²æŸ“å†…å®¹å°±ä¼šè¢«æ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„æ¸²æŸ“è¿›ç¨‹ä¸­ã€‚è€Œè¿™å°±ç»™æˆ‘ä»¬è§£å†³çº¿ç¨‹ç‹¬ç«‹æ€§çš„é—®é¢˜å¸¦æ¥äº†æ›™å…‰ã€‚åªéœ€è¦å°† IDE ä¸»åº”ç”¨çš„é¡µé¢æŒ‚åœ¨ a.com çš„åŸŸåï¼Œè€ŒåŒæ—¶å°† iframe çš„çš„é¡µé¢æŒ‚åœ¨å¦å¤–ä¸€ä¸ªåŸŸåä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ª iframe çš„è¿›ç¨‹å°±å’Œä¸»è¿›ç¨‹åˆ†å¼€äº†ã€‚åœ¨è¿™ç§æ¨¡å‹ä¸‹ï¼Œiframe å’Œä¸»è¿›ç¨‹ä»…ä»…èƒ½é€šè¿‡ postMessage å’Œ message äº‹ä»¶è¿›è¡Œæ•°æ®é€šè®¯ã€‚ä½†æ˜¯åœ¨ä¸Šé¢çš„æ¨¡å‹ä¸­ï¼Œä»ç„¶æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚åŸºäº Site Isolation çš„ç‰¹æ€§ï¼ŒåŒä¸€ä¸ªé¡µé¢ä¸­å¦‚æœæœ‰å¤šä¸ªï¼Œæ‹¥æœ‰åŒä¸€ä¸ªåŸŸåçš„å¤šä¸ª iframe ä¹‹é—´æ˜¯å…±äº«è¿›ç¨‹çš„ï¼Œå› æ­¤ä»–ä»¬ä»ç„¶ä¼šäº’ç›¸å¡é¡¿ã€‚å¦‚æœæŸä¸ªä¸šåŠ¡åœºæ™¯éœ€è¦ä¸€ä¸ªæ›´ä¸ºç‹¬ç«‹çš„ iframe è¿›ç¨‹ï¼Œå®ƒå¿…é¡»å’Œå…¶ä»– iframe æ‹¥æœ‰ä¸åŒçš„åŸŸåã€‚&lt;/p&gt;
&lt;h1 id=&#34;iframe-ç”Ÿå‘½å‘¨æœŸ&#34;&gt;iframe ç”Ÿå‘½å‘¨æœŸ&lt;/h1&gt;
&lt;h2 id=&#34;æŒä¹…åŒ–&#34;&gt;æŒä¹…åŒ–&lt;/h2&gt;
&lt;p&gt;å¯¹äºéœ€è¦æŒä¹…çš„ iframe å…ƒç´ ï¼Œæˆ‘ä»¬å§‹ç»ˆå°†å®ƒæŒ‚è½½åœ¨ä¸€ä¸ª body æ ¹èŠ‚ç‚¹ä¸‹çš„å›ºå®šåŒºåŸŸä¸­ã€‚åŒæ—¶ï¼Œä¸ºå…¶æŒ‡å®šä¸€ä¸ªè§‚å¯Ÿç›®æ ‡ï¼Œä½¿ç”¨ MutationObserver å’Œ ResizeObserver(Chrome 61 ä¹‹åæ”¯æŒ)å¯¹è¿™ä¸ªç›®æ ‡è¿›è¡Œè§‚å¯Ÿï¼Œä»¥ä¾¿èƒ½å³ä½¿çŸ¥é“è¿™ä¸ªç›®æ ‡åœ¨å¯è§†åŒºåŸŸä¸­æ‰€å¤„çš„ä½ç½®ã€‚æœ€åï¼Œæ ¹æ®è®¡ç®—å‡ºçš„ä½ç½®ï¼Œå°†è¿™ä¸ª iframe ç›–åœ¨ç›®æ ‡åŒºåŸŸä¸Šï¼Œä»è€Œçœ‹èµ·æ¥å°±å¥½åƒä¸€ç›´åµŒåœ¨ç›®æ ‡ä¸­ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://s2.ax1x.com/2019/09/11/nwcoef.png&#34; alt=&#34;iframe æŒä¹…åŒ–&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&#34;why-not-iframe&#34;&gt;Why Not Iframe&lt;/h1&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¸ç”¨ iframeï¼Œè¿™å‡ ä¹æ˜¯æ‰€æœ‰å¾®å‰ç«¯æ–¹æ¡ˆç¬¬ä¸€ä¸ªä¼šè¢« challenge çš„é—®é¢˜ã€‚ä½†æ˜¯å¤§éƒ¨åˆ†å¾®å‰ç«¯æ–¹æ¡ˆåˆä¸çº¦è€ŒåŒæ”¾å¼ƒäº† iframe æ–¹æ¡ˆï¼Œè‡ªç„¶æ˜¯æœ‰åŸå› çš„ï¼Œå¹¶ä¸æ˜¯ä¸ºäº† &amp;ldquo;ç‚«æŠ€&amp;rdquo; æˆ–è€…åˆ»æ„è¿½æ±‚ &amp;ldquo;ç‰¹ç«‹ç‹¬è¡Œ&amp;rdquo;ã€‚å¦‚æœä¸è€ƒè™‘ä½“éªŒé—®é¢˜ï¼Œiframe å‡ ä¹æ˜¯æœ€å®Œç¾çš„å¾®å‰ç«¯è§£å†³æ–¹æ¡ˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;iframe æœ€å¤§çš„ç‰¹æ€§å°±æ˜¯æä¾›äº†æµè§ˆå™¨åŸç”Ÿçš„ç¡¬éš”ç¦»æ–¹æ¡ˆï¼Œä¸è®ºæ˜¯æ ·å¼éš”ç¦»ã€js éš”ç¦»è¿™ç±»é—®é¢˜ç»Ÿç»Ÿéƒ½èƒ½è¢«å®Œç¾è§£å†³ã€‚ä½†ä»–çš„æœ€å¤§é—®é¢˜ä¹Ÿåœ¨äºä»–çš„éš”ç¦»æ€§æ— æ³•è¢«çªç ´ï¼Œå¯¼è‡´åº”ç”¨é—´ä¸Šä¸‹æ–‡æ— æ³•è¢«å…±äº«ï¼Œéšä¹‹å¸¦æ¥çš„å¼€å‘ä½“éªŒã€äº§å“ä½“éªŒçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;url ä¸åŒæ­¥ã€‚æµè§ˆå™¨åˆ·æ–° iframe url çŠ¶æ€ä¸¢å¤±ã€åé€€å‰è¿›æŒ‰é’®æ— æ³•ä½¿ç”¨ã€‚æµè§ˆå™¨å‰è¿›/åé€€é—®é¢˜ï¼šiframe é¡µé¢åˆ·æ–°ä¼šé‡ç½®ï¼ˆæ¯”å¦‚è¯´ä»åˆ—è¡¨é¡µè·³è½¬åˆ°è¯¦æƒ…é¡µï¼Œç„¶ååˆ·æ–°ï¼Œä¼šè¿”å›åˆ°åˆ—è¡¨é¡µï¼‰ï¼Œå› ä¸ºæµè§ˆå™¨çš„åœ°å€æ æ²¡æœ‰å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;iframe çš„é¡µé¢è·³è½¬åˆ°å…¶ä»–é¡µé¢å‡ºé—®é¢˜ï¼Œæ¯”å¦‚ä¸¤ä¸ª iframe ä¹‹é—´ç›¸äº’è·³è½¬ï¼Œç›´æ¥è·³è½¬ä¼šåªåœ¨ iframe èŒƒå›´å†…è¿›è¡Œã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€ä¸Šä¸‹æ–‡å®Œå…¨éš”ç¦»ï¼Œå†…å­˜å˜é‡ä¸å…±äº«ã€‚iframe å†…å¤–ç³»ç»Ÿçš„é€šä¿¡ã€æ•°æ®åŒæ­¥ç­‰éœ€æ±‚ï¼Œä¸»åº”ç”¨çš„ cookie è¦é€ä¼ åˆ°æ ¹åŸŸåéƒ½ä¸åŒçš„å­åº”ç”¨ä¸­å®ç°å…ç™»æ•ˆæœã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢åŠ è½½é—®é¢˜: å½±å“ä¸»é¡µé¢åŠ è½½ï¼Œé˜»å¡ onload äº‹ä»¶ï¼Œæœ¬èº«åŠ è½½ä¹Ÿå¾ˆæ…¢ï¼Œé¡µé¢ç¼“å­˜è¿‡å¤šä¼šå¯¼è‡´ç”µè„‘å¡é¡¿ã€‚(æ— æ³•è§£å†³)&lt;/li&gt;
&lt;li&gt;å¸ƒå±€é—®é¢˜ï¼šiframe å¿…é¡»ç»™ä¸€ä¸ªæŒ‡å®šçš„é«˜åº¦ï¼Œå¦åˆ™ä¼šå¡Œé™·ã€‚&lt;/li&gt;
&lt;li&gt;å¼¹çª—åŠé®ç½©å±‚é—®é¢˜ï¼šåªèƒ½åœ¨ iframe èŒƒå›´å†…å‚ç›´æ°´å¹³å±…ä¸­ï¼Œæ²¡æ³•åœ¨æ•´ä¸ªé¡µé¢å‚ç›´æ°´å¹³å±…ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­æœ‰çš„é—®é¢˜æ¯”è¾ƒå¥½è§£å†³(é—®é¢˜ 1)ï¼Œæœ‰çš„é—®é¢˜æˆ‘ä»¬å¯ä»¥çä¸€åªçœ¼é—­ä¸€åªçœ¼(é—®é¢˜ 4)ï¼Œä½†æœ‰çš„é—®é¢˜æˆ‘ä»¬åˆ™å¾ˆéš¾è§£å†³(é—®é¢˜ 3)ç”šè‡³æ— æ³•è§£å†³(é—®é¢˜ 2)ï¼Œè€Œè¿™äº›æ— æ³•è§£å†³çš„é—®é¢˜æ°æ°åˆä¼šç»™äº§å“å¸¦æ¥éå¸¸ä¸¥é‡çš„ä½“éªŒé—®é¢˜ï¼Œ æœ€ç»ˆå¯¼è‡´æˆ‘ä»¬èˆå¼ƒäº† iframe æ–¹æ¡ˆã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JS æ²™ç®±</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/js-%E6%B2%99%E7%AE%B1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/js-%E6%B2%99%E7%AE%B1/</guid>
      <description>&lt;h1 id=&#34;js-æ²™ç®±&#34;&gt;JS æ²™ç®±&lt;/h1&gt;
&lt;p&gt;éš”ç¦»é—®é¢˜æœ€å¼€å§‹æˆ‘ä»¬å°±æ˜¯è¦åš JS çš„éš”ç¦»ã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œæœ‰çš„æ—¶å€™ä½ ä¸éš”ç¦»å…¶å®ä¹Ÿå¯ä»¥è¿è¡Œçš„ï¼Œåªä¸è¿‡ä¸éš”ç¦»ï¼Œç›´æ¥è£¸ç”¨ Single-SPA çš„è¯ï¼Œä¸€æ—¦åº”ç”¨ä¹‹é—´çš„å‘ç”Ÿäº†å†²çªï¼Œä½ çš„åº”ç”¨å¾ˆå¯èƒ½å°±è·‘ä¸ä¸‹å»äº†ï¼Œæ‰€ä»¥ JS æ²™ç®±å¤§éƒ¨åˆ†æƒ…å†µæ˜¯å¿…è¦çš„ã€‚å† qiankun æ²™ç®±çš„å®ç°é‡Œï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸¤ä¸ªç¯å¢ƒï¼šä¸€ä¸ªä»£è¡¨çš„æ˜¯å¤–éƒ¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æˆ‘ä»¬çš„å…¨å±€ç¯å¢ƒ Global Envï¼ŒæŒ‡çš„æ˜¯ä½ æ¡†æ¶åº”ç”¨æ‰€è¿è¡Œçš„å…¨å±€ç¯å¢ƒã€‚è€Œå­åº”ç”¨åŠ è½½çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åº”è¯¥è·‘åœ¨ä¸€ä¸ªå†…éƒ¨çš„æ²™ç®±ç¯å¢ƒé‡Œé¢ï¼Œå°±æ˜¯è¿™å¼ å›¾ä¸Šæ‰€è¡¨ç¤ºçš„ Render Envã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic.imgdb.cn/item/607ee8468322e6675c0f2b65.jpg&#34; alt=&#34;åº”ç”¨æ²™ç®±&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ²™ç®±å®ç°æ€è·¯æœ‰ä¸¤æ¡ï¼šå…¶ä¸­æœ€ç»å…¸çš„å®è·µæ€è·¯å…¶å®æ˜¯å¿«ç…§æ²™ç®±ã€‚å¿«ç…§æ²™ç®±å°±æ˜¯åœ¨åº”ç”¨æ²™ç®±æŒ‚è½½å’Œå¸è½½çš„æ—¶å€™è®°å½•å¿«ç…§ï¼Œåœ¨åº”ç”¨åˆ‡æ¢çš„æ—¶å€™ä¾æ®å¿«ç…§æ¢å¤ç¯å¢ƒï¼Œå½“æˆ‘å­åº”ç”¨åŠ è½½ã€å¯åŠ¨äº†ä¹‹åï¼Œæ­¤æ—¶çš„ç¯å¢ƒå…¶å®å°±æ˜¯ Render Environmentï¼Œæ˜¯å†…éƒ¨æ²™ç®±ç¯å¢ƒé‡Œï¼Œè¿™ä¸ªæ—¶å€™æˆ‘è®°å½•ä¸€ä¸‹å½“æ—¶çš„å¿«ç…§çŠ¶æ€ã€‚è€Œåœ¨æˆ‘æœ€åå­åº”ç”¨ unmount çš„æ—¶å€™ï¼Œæˆ‘æŠŠå½“å‰çš„ç¯å¢ƒå’Œè®°å½•çš„å¿«ç…§è¿›è¡Œä¸€ä¸ªå¯¹æ¯”ï¼ŒæŠŠå®ƒæ¢å¤å›åŸæ¥çš„å…¨å±€çŠ¶æ€ã€‚è¿™å°±æ˜¯è¯´å½“æˆ‘åº”ç”¨æŒ‚è½½äº†åˆå¸è½½äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹èµ°äº†ä¸€éä¹‹åï¼Œæˆ‘å½“å‰æ•´ä¸ª Windows è¿è¡Œç¯å¢ƒæ¢å¤æˆåŸæ¥çš„æ ·å­ï¼Œåº”ç”¨å†…éƒ¨æ‰€åšçš„ä¿®æ”¹ï¼Œåœ¨å®ƒå¸è½½çš„æ—¶å€™å°±ä¼šè¢«æ¢å¤ï¼Œè¿™æ˜¯å¿«ç…§æ²™ç®±æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬åœ¨ A åº”ç”¨è¿è¡Œæ—¶ï¼Œè¿½åŠ äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæˆ‘ä»¬è¯´ window.a = 123 ï¼Œè¿™ä¸ªæ—¶å€™ window.a å°±å˜æˆäº† 123 ï¼Œä½†æ˜¯åœ¨åº”ç”¨ A å¸è½½ä¹‹åï¼Œå¿«ç…§è¿˜åŸï¼Œ window.a ä¼šè¢«é‡æ–°åˆ é™¤ï¼Œä½ åœ¨å…¨å±€ç¯å¢ƒä¸­å¹¶ä¸ä¼šç»§ç»­çœ‹åˆ° a å˜é‡ï¼š&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic.imgdb.cn/item/607eea258322e6675c13cba2.jpg&#34; alt=&#34;JS æ²™ç®±ç¯å¢ƒ&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¿«ç…§æ€ä¹ˆæ‰“ï¼Ÿå…¶å®ä¹Ÿæœ‰ä¸¤ç§æ€è·¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ç§æ˜¯ç›´æ¥ç”¨ windows diffã€‚æŠŠå½“å‰çš„ç¯å¢ƒå’ŒåŸæ¥çš„ç¯å¢ƒåšä¸€ä¸ªæ¯”è¾ƒï¼Œæˆ‘ä»¬è·‘ä¸¤ä¸ªå¾ªç¯ï¼ŒæŠŠä¸¤ä¸ªç¯å¢ƒä½œä¸€æ¬¡æ¯”è¾ƒï¼Œç„¶åå»å…¨é‡åœ°æ¢å¤å›åŸæ¥çš„ç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;å¦ä¸€ç§æ€è·¯å…¶å®æ˜¯å€ŸåŠ© ES6 çš„ proxy å°±æ˜¯ä»£ç†ã€‚é€šè¿‡åŠ«æŒ window ï¼Œæˆ‘ä»¬å¯ä»¥åŠ«æŒåˆ°å­åº”ç”¨å¯¹å…¨å±€ç¯å¢ƒçš„ä¸€äº›ä¿®æ”¹ã€‚å½“å­åº”ç”¨å¾€ window ä¸ŠæŒ‚ä¸œè¥¿ã€ä¿®æ”¹ä¸œè¥¿å’Œåˆ é™¤ä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ“ä½œè®°å½•ä¸‹æ¥ã€‚å½“æˆ‘ä»¬æ¢å¤å›å¤–é¢çš„å…¨å±€ç¯å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åå‘æ‰§è¡Œä¹‹å‰çš„æ“ä½œå³å¯ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨æ²™ç®±å†…éƒ¨è®¾äº†ä¸€ä¸ªæ–°çš„å˜é‡ window.a = 123 ã€‚é‚£åœ¨ç¦»å¼€çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠ a å˜é‡åˆ äº†å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¿«ç…§æ²™ç®±è¿™ä¸ªæ€è·¯ä¹Ÿæ­£æ˜¯ qiankun1.0 æ‰€ä½¿ç”¨çš„æ€è·¯ï¼Œå®ƒç›¸å¯¹å®Œå–„ï¼Œä½†æ˜¯ç¼ºç‚¹åœ¨äºæ— æ³•æ”¯æŒå¤šä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä¸¤ä¸ªæ²™ç®±ä¸å¯èƒ½åŒæ—¶æ¿€æ´»ï¼Œæˆ‘ä¸èƒ½åŒæ—¶æŒ‚è½½ä¸¤ä¸ªåº”ç”¨ï¼Œä¸ç„¶çš„è¯è¿™ä¸¤ä¸ªæ²™ç®±ä¹‹é—´ä¼šæ‰“æ¶ï¼Œå¯¼è‡´é”™è¯¯ã€‚æ‰€ä»¥è¯´æˆ‘ä»¬æŠŠç›®å…‰åˆæŠ•å‘äº†å¦ä¸€æ¡æ€è·¯ï¼Œæˆ‘ä»¬è®©å­åº”ç”¨é‡Œé¢çš„ç¯å¢ƒå’Œå¤–é¢çš„ç¯å¢ƒå®Œå…¨éš”ç¦»ã€‚å°±å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„ A åº”ç”¨å°±æ´»åœ¨ A åº”ç”¨çš„æ²™ç®±é‡Œé¢ï¼ŒB åº”ç”¨å°±æ´»åœ¨ B åº”ç”¨çš„æ²™ç®±é‡Œé¢ï¼Œä¸¤è€…ä¹‹é—´è¦ä¸å‘ç”Ÿå¹²æ‰°ï¼Œè¿™ä¸ªæ²™ç®±çš„å®ç°æ€è·¯å…¶å®ä¹Ÿæ˜¯é€šè¿‡ ES6 çš„ proxyï¼Œä¹Ÿé€šè¿‡ä»£ç†ç‰¹æ€§å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic.imgdb.cn/item/607eeaae8322e6675c151acc.jpg&#34; alt=&#34;Proxy å¤šæ²™ç®±éš”ç¦»&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€»è¾‘éš”ç¦»</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E9%80%BB%E8%BE%91%E9%9A%94%E7%A6%BB/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E9%80%BB%E8%BE%91%E9%9A%94%E7%A6%BB/</guid>
      <description>&lt;h1 id=&#34;å•ä½“åº”ç”¨è½¯éš”ç¦»&#34;&gt;å•ä½“åº”ç”¨è½¯éš”ç¦»&lt;/h1&gt;
&lt;p&gt;ä¸ç¡¬éš”ç¦»ç›¸å¯¹çš„ï¼Œç¬”è€…ç§°ä¸ºå•ä½“åº”ç”¨è½¯éš”ç¦»ï¼Œå…¶æ›´å¤šåœ°ä¾èµ–äºåº”ç”¨æ¡†æ¶æˆ–è€…å¼€å‘æ„å»ºæµç¨‹ï¼Œæ¥å®ç°å®¹é”™ä¸æ ·å¼ã€DOM ç­‰éš”ç¦»ã€‚å•ä½“åº”ç”¨è½¯éš”ç¦»åˆå¯ä»¥ä»åº”ç”¨çš„ç»„åˆæ—¶æœºä¸æŠ€æœ¯æ ˆçš„æ”¯æŒæƒ…å†µè¿™ä¸¤ä¸ªç»´åº¦ï¼Œåˆ’åˆ†ä¸åŒçš„è§£å†³æ–¹æ¡ˆã€‚å¯¹äºéœ€è¦æ”¯æŒä¸åŒæŠ€æœ¯æ ˆ(React, Angular, Vue.js, etc.)çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å½»åº•çš„ç±»åç«¯å¾®æœåŠ¡åŒ–ï¼Œæ¯ä¸ªå‰ç«¯åº”ç”¨éƒ½æ˜¯ç‹¬ç«‹çš„æœåŠ¡åŒ–åº”ç”¨ï¼Œè€Œå®¿ä¸»åº”ç”¨åˆ™æä¾›ç»Ÿä¸€çš„åº”ç”¨ç®¡ç†å’Œå¯åŠ¨æœºåˆ¶ï¼›æ­¤æ—¶è‹¥éœ€è¦è§£å†³èµ„æºé‡å¤åŠ è½½ã€å†—ä½™çš„é—®é¢˜ï¼Œåˆ™éœ€è¦ä¾èµ–ç»Ÿä¸€æ„å»ºæˆ–è€…ç”±å®¿ä¸»åº”ç”¨æä¾›å…¬å…±ä¾èµ–åº“ï¼Œå­åº”ç”¨æ‰“åŒ…æ—¶ä»…æ‰“åŒ…è‡ªèº«æˆ–éå…¬ç”¨åº“ä»£ç ã€‚å¦‚æœæ˜¯ç›¸åŒæŠ€æœ¯æ ˆçš„åœºæ™¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°åˆ©ç”¨æ¡†æ¶æœ¬èº«çš„æ‡’åŠ è½½èƒ½åŠ›ï¼Œåœ¨å¼€å‘é˜¶æ®µä»¥æ¨¡å—åˆ’åˆ†ä¸ºå¾®åº”ç”¨è¿›è¡Œå¼€å‘ï¼Œæ„å»ºæ—¶ä»¥å•ä½“åº”ç”¨çš„å½¢å¼æ„å»ºï¼Œåœ¨è¿è¡Œæ—¶æ˜¯ä»¥åº”ç”¨æ¨¡å—çš„å½¢å¼å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://user-images.githubusercontent.com/5803001/44003230-de68ac5c-9e81-11e8-81f5-8092f7a9b421.png&#34; alt=&#34;image&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ æœ¬éƒ¨åˆ†ä¼šéšç€ç¬”è€…çš„å®è·µé€æ­¥å®Œå–„ä¸°å¯Œï¼Œå¯ä»¥ä¿æŒå…³æ³¨ &lt;a href=&#34;https://github.com/wx-chevalier/Web-Series&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Web å¼€å‘å¯¼è®º&lt;/a&gt; æˆ–è€… &lt;a href=&#34;https://github.com/wx-chevalier/Ueact&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ueact&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;application-composition--åº”ç”¨ç»„åˆ&#34;&gt;Application Composition | åº”ç”¨ç»„åˆ&lt;/h2&gt;
&lt;p&gt;å…¸å‹çš„åº”ç”¨ç»„åˆæ–¹å¼åˆ†ä¸ºæ„å»ºæ—¶(Build Time)ç»„åˆä¸è¿è¡Œæ—¶(Runtime)ç»„åˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºå³æ˜¯å…¸å‹çš„æ„å»ºæ—¶ç»„åˆæ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ— å›¾ç‰‡æºè‡ª &lt;a href=&#34;https://parg.co/o32&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Building application in a &amp;ldquo;Microfrontends&amp;rdquo; way&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://user-images.githubusercontent.com/5803001/43635855-fa36c57c-9742-11e8-80b4-71eda09bb20b.png&#34; alt=&#34;image&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ„å»ºæ—¶ç»„åˆçš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿè¿›è¡Œè¾ƒå¥½åœ°ä¾èµ–ç®¡ç†ï¼ŒæŠ½å–å…¬å…±æ¨¡å—ï¼Œå‡å°‘æœ€ç»ˆçš„åŒ…ä½“å¤§å°ï¼Œä¸è¿‡å…¶æœ€ç»ˆçš„äº§å‡ºä»æ˜¯å•ä½“åº”ç”¨ï¼Œå„ä¸ªåº”ç”¨æ¨¡å—æ— æ³•è¿›è¡Œç‹¬ç«‹éƒ¨ç½²ã€‚ä¸ä¹‹ç›¸å¯¹çš„ï¼Œè¿è¡Œæ—¶ç»„åˆèƒ½å¤Ÿä¿éšœçœŸæ­£åœ°ç‹¬ç«‹å¼€å‘ä¸ç‹¬ç«‹éƒ¨ç½²ï¼š&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://user-images.githubusercontent.com/5803001/43637055-609be510-9746-11e8-9e67-da452dd08b74.png&#34; alt=&#34;image&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿è¡Œæ—¶ç»„åˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨ä½¿ç”¨ Tailor è¿™æ ·çš„å·¥å…·è¿›è¡ŒæœåŠ¡ç«¯ç»„åˆ(SSI)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ JSPM, SystemJS è¿™æ ·çš„åŠ¨æ€å¯¼å…¥å·¥å…·ï¼Œè¿›è¡Œå®¢æˆ·ç«¯ç»„åˆã€‚è¿è¡Œæ—¶ç»„åˆåŒæ—¶èƒ½æä¾›æŒ‰éœ€åŠ è½½çš„ç‰¹æ€§ï¼Œä¼˜åŒ–é¦–é¡µçš„åŠ è½½é€Ÿåº¦ã€‚ä¸è¿‡è¿è¡Œæ—¶ç»„åˆå¯èƒ½é‡å¤åŠ è½½ä¾èµ–é¡¹ï¼ˆé€šè¿‡æµè§ˆå™¨ç¼“å­˜æˆ– HTTP2 é€‚åº¦è§£å†³ï¼‰ï¼Œå¹¶ä¸”ä¸åŒäº iFrame çš„ç¡¬éš”ç¦»ï¼Œè¿è¡Œæ—¶ç»„åˆä»å¯èƒ½é¢ä¸´éš¾ä»¥é¢„æ–™çš„ç¬¬ä¸‰æ–¹ä¾èµ–å†²çªã€‚&lt;/p&gt;
&lt;p&gt;React è¿™æ ·çš„å£°æ˜å¼ç»„ä»¶æ¡†æ¶ï¼Œå¤©ç„¶å°±æ”¯æŒåº”ç”¨çš„ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥æ¸²æŸ“é”šç‚¹ä»¥è¿›è¡Œåº”ç”¨ç»„åˆï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒæ¡†æ¶çš„åº”ç”¨å°è£…ä¸º Web Componentsã€‚é¦–å…ˆæˆ‘ä»¬å¯ä»¥å°† React åº”ç”¨å®šä¹‰ä¸ºè‡ªå®šä¹‰å…ƒç´ ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“ å®Œæ•´ä»£ç å‚è€ƒ &lt;a href=&#34;https://github.com/wx-chevalier/fe-boilerplates&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;fe-boilerplate/micro-frontend&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;window&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;customElements&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;define&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;react-app&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kr&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ReactApp&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;HTMLElement&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;App&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨å‰ç«¯ä¸­ç›´æ¥ä½¿ç”¨è¯¥è‡ªå®šä¹‰å…ƒç´ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;react-app&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;React Separate Running App&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å•ä½“åº”ç”¨ä¸­ï¼Œæ¡†æ¶å°†è·¯ç”±æŒ‡å®šåˆ°å¯¹åº”çš„ç»„ä»¶æˆ–è€…å†…éƒ¨æœåŠ¡ä¸­ï¼›è€Œå¾®å‰ç«¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†åº”ç”¨å†…çš„ç»„ä»¶è°ƒç”¨å˜æˆäº†æ›´ç»†ç²’åº¦çš„åº”ç”¨é—´ç»„ä»¶è°ƒç”¨ï¼Œå³åŸå…ˆæˆ‘ä»¬åªæ˜¯å°†è·¯ç”±åˆ†å‘åˆ°åº”ç”¨çš„ç»„ä»¶æ‰§è¡Œï¼Œç°åœ¨åˆ™éœ€è¦æ ¹æ®è·¯ç”±æ¥æ‰¾åˆ°å¯¹åº”çš„åº”ç”¨ï¼Œå†ç”±åº”ç”¨åˆ†å‘åˆ°å¯¹åº”çš„ç»„ä»¶ä¸Šã€‚å…·ä½“çš„å®è·µä¸­ï¼Œå¯èƒ½å®¿ä¸»åº”ç”¨ä½¿ç”¨ Hash Router å·²ç»å ç”¨äº† Hash æ ‡è®°ä½ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸ºå­åº”ç”¨æä¾›ä¸“å±çš„æŸ¥è¯¢é”®ï¼Œæ¥è¿›è¡Œå­åº”ç”¨å†…è·³è½¬ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åº”ç”¨éš”ç¦»ä¸æ²»ç†&#34;&gt;åº”ç”¨éš”ç¦»ä¸æ²»ç†&lt;/h2&gt;
&lt;p&gt;åœ¨ React ä¸­å¯ä»¥ä½¿ç”¨ ErrorBoundaryï¼Œæ¥é™åˆ¶åº”ç”¨å´©æºƒçš„å½±å“ï¼›å¦‚æœæ˜¯è‡ªå®šä¹‰çš„åº”ç”¨åŠ è½½å™¨ï¼Œä¹Ÿå¯ä»¥å®ç° Promise å®¹é”™æ–¹æ¡ˆã€‚Redux å¯ä»¥è€ƒè™‘åœ¨å®¿ä¸»åº”ç”¨åˆ›å»ºç»Ÿä¸€çš„ Storeï¼Œæ¯ä¸ªåº”ç”¨ä¸­æŒ‰ç…§å‘½åç©ºé—´åˆ’åˆ†ä½¿ç”¨å­çŠ¶æ€ç©ºé—´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;subConnect&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;subAppName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mapStateToProps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mapDispatchToProps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mapStateToProps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;subAppName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;mapDispatchToProps&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äº Action å¯ä»¥ä½¿ç”¨å‘½åç©ºé—´å½¢å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`app/service-name/action`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€Œå¯¹äºåº”ç”¨æ²»ç†æ–¹é¢ï¼Œ&lt;a href=&#34;https://single-spa.js.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;single-spa&lt;/a&gt; æˆ–è€… &lt;a href=&#34;https://github.com/wx-chevalier/Ueact&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ueact-component&lt;/a&gt; éƒ½å®šä¹‰äº†è·¨æ¡†æ¶çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œè­¬å¦‚åœ¨ single-spa ä¸­ï¼Œå¯ä»¥å°† React ç”Ÿå‘½å‘¨æœŸå½’ä¸€åŒ–ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;reactLifecycles&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;singleSpaReact&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;React&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;ReactDOM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;rootComponent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;domElementGetter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getElementById&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;main-content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bootstrap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;reactLifecycles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bootstrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;reactLifecycles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unmount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;reactLifecycles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unmount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°†å…¶å¯¼å‡ºä¸ºå•ä¸€åº”ç”¨å¹¶ä¸”å¼‚æ­¥åŠ è½½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// src/index.js
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;registerApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;single-spa&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;registerApplication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Name of our single-spa application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;root&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Our loading function
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./root.app.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Our activity function
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>æ ·å¼éš”ç¦»</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB/</guid>
      <description>&lt;h1 id=&#34;åº”ç”¨éš”ç¦»æ ·å¼éš”ç¦»&#34;&gt;åº”ç”¨éš”ç¦»ï¼šæ ·å¼éš”ç¦»&lt;/h1&gt;
&lt;p&gt;æ— è®ºæ˜¯åˆšæ‰çš„å¿«ç…§æ²™ç®±è¿˜æ˜¯å¦å¤–çš„ä»£ç†æ²™ç®±ï¼Œå…¶å®éƒ½å¯ä»¥è§£å†³ JS ä¹‹é—´çš„å‰¯ä½œç”¨å†²çªã€‚è§£å†³å®Œ JS ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è§£å†³çš„æ˜¯ CSS ä¹‹é—´çš„å†²çªã€‚åœ¨å¾®å‰ç«¯æ¡†æ¶é‡Œæ‰€é¢ä¸´çš„æ ·å¼å†²çªå™¨å°±ä¸¤ç§ï¼šä¸€ç§æ˜¯ä¸»å­åº”ç”¨æ ·å¼å†²çªï¼Œä½ çš„ä¸»åº”ç”¨å’Œä½ çš„å­åº”ç”¨ä¸¤è€…ä¹‹é—´æ ·å¼ä¼šå‘ç”Ÿå†²çªï¼Œå¦ä¸€ç§æ˜¯å­åº”ç”¨ä¹‹é—´æ ·å¼å†²çªï¼Œå½“ä½ æŒ‚è½½äº†åº”ç”¨ A åˆæŒ‚è½½äº†åº”ç”¨ B çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªåº”ç”¨æ˜¯å¹³çº§çš„ï¼Œå®ƒä»¬ä¹‹é—´æ ·å¼ä¹Ÿä¼šå‘ç”Ÿå†²çªã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic.imgdb.cn/item/607eeb1e8322e6675c163223.jpg&#34; alt=&#34;åº”ç”¨æ ·å¼éš”ç¦»&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ ·å¼éš”ç¦»dynamic-stylesheet&#34;&gt;æ ·å¼éš”ç¦»ï¼šDynamic Stylesheet&lt;/h2&gt;
&lt;p&gt;qiankun æ‰€åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å…¶å®æ˜¯åŠ¨æ€æ ·å¼è¡¨ã€‚å½“ä½ ä»å­åº”ç”¨ A åˆ‡æ¢åˆ°å­åº”ç”¨ B çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æŠŠå­åº”ç”¨çš„æ ·å¼è¡¨ A çš„æ ·å¼ç»™åˆ é™¤ï¼ŒæŠŠå­åº”ç”¨ B çš„æ ·å¼è¡¨ç»™æŒ‚è½½ã€‚è¿™æ ·å°±é¿å…äº†å­åº”ç”¨ A çš„æ ·å¼å’Œå­åº”ç”¨ B çš„æ ·å¼åŒæ—¶å­˜åœ¨äºè¿™ä¸ªé¡¹ç›®ä¸­ï¼Œå°±åšåˆ°äº†æœ€åŸºæœ¬çš„éš”ç¦»ã€‚å½“ä½ ä»åº”ç”¨ A åˆ‡åˆ°åº”ç”¨ B çš„æ—¶å€™ï¼Œä½ çš„æ ·å¼ä¹Ÿä¼šè‡ªç„¶çš„ä»åº”ç”¨ A çš„æ ·å¼åˆ‡æ¢åˆ°åº”ç”¨ B çš„æ ·å¼ï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨çš„å¸®ä½ åšåº”ç”¨æ ·å¼çš„åˆ é™¤å’ŒåŠ è½½ã€‚å½“ç„¶è¿™æ ·åšåªä»…ä»…èƒ½å¤Ÿä¿è¯ä½ åœ¨å•åº”ç”¨æ¨¡å¼ä¸‹ï¼ˆå°±æ˜¯åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªåº”ç”¨æ´»è·ƒçš„æƒ…å†µä¸‹ï¼‰ä¿è¯å­åº”ç”¨å’Œå­åº”ç”¨ä¹‹é—´çš„æ ·å¼ä¸ä¼šå†²çªã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶åŠ¨æ€æ ·å¼è¡¨å®ç°ä¹‹åï¼Œæˆ‘ä»¬è¿˜æ˜¯æ²¡æœ‰è§£å†³ä¸»åº”ç”¨å’Œä¸»åº”ç”¨ä¹‹é—´çš„æ ·å¼å†²çªã€‚å®é™…ä¸Šè¿™ä¸ªé—®é¢˜æœ€å¥½çš„æ‰‹æ®µè¿˜æ˜¯é€šè¿‡ä¸€äº›å·¥ç¨‹åŒ–çš„æ‰‹æ®µæ¥è§£ï¼Œæ¯”å¦‚è¯´ BEMï¼Œå°±æ˜¯è¯´å¤§å®¶çº¦å®šä¸€ä¸‹ï¼Œä½ åº”ç”¨ A æ ·å¼å°±ç»Ÿä¸€åŠ ä¸€ä¸ª &lt;code&gt;a-&lt;/code&gt; çš„å‰ç¼€ï¼Œåº”ç”¨ B æ ·å¼å°±ç»Ÿä¸€åŠ ä¸€ä¸ª &lt;code&gt;b-&lt;/code&gt; çš„å‰ç¼€ï¼Œä½ çš„æ¡†æ¶åº”ç”¨ä¹Ÿç»Ÿä¸€åŠ ä¸ªå‰ç¼€ã€‚å¤§å®¶é€šè¿‡ä¸€äº›çº¦å®šï¼ˆæ¯”å¦‚çº¦å®šå¤§å®¶éƒ½åŠ ä¸Šä¸€ä¸ªåº”ç”¨åçš„å‰ç¼€ï¼‰æ¥é¿å…å†²çªï¼Œè¿™æ˜¯éå¸¸æœ‰æ•ˆçš„ä¸€ä¸ªæ–¹æ¡ˆã€‚å°¤å…¶æ˜¯ä¸»å­åº”ç”¨ä¹‹é—´çš„å†²çªï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½ åªè¦ä¿è¯ä¸»åº”ç”¨çš„æ ·å¼åšå¥½æ”¹é€ ï¼Œä¿è¯ä¸»åº”ç”¨çš„æ ·å¼æ˜¯å¾ˆå…·è±¡çš„è§„åˆ™ï¼Œä¸ä¼šè·Ÿå­åº”ç”¨å†²çªï¼Œé‚£ä¸»å­åº”ç”¨ä¹‹é—´çš„å†²çªå…¶å®ä¹Ÿè§£å†³äº†ã€‚ä¸è¿‡è¿™ç§æ–¹æ¡ˆç»ˆå½’æ˜¯ä¾èµ–çº¦å®šï¼Œå¾€å¾€å®¹æ˜“å‡ºçº°æ¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ ·å¼éš”ç¦»å·¥ç¨‹åŒ–æ‰‹æ®µ&#34;&gt;æ ·å¼éš”ç¦»ï¼šå·¥ç¨‹åŒ–æ‰‹æ®µ&lt;/h2&gt;
&lt;p&gt;å½“å‰ css module å…¶å®éå¸¸æˆç†Ÿä¸€ç§åšæ³•ï¼Œå°±æ˜¯é€šè¿‡ç¼–è¯‘ç”Ÿæˆä¸å†²çªçš„é€‰æ‹©å™¨åã€‚ä½ åªè¦æŠŠä½ æƒ³è¦é¿å…å†²çªçš„åº”ç”¨ï¼Œé€šè¿‡ css module ï¼ˆåœ¨æ„å»ºå·¥å…·é‡ŒåŠ ä¸€äº› css é¢„å¤„ç†å™¨å³å¯å®ç°ï¼‰å°±èƒ½å¾ˆç®€å•çš„åšåˆ°ã€‚css module æ„å»ºæ‰“åŒ…ä¹‹åï¼Œåº”ç”¨ä¹‹é—´çš„é€‰æ‹©å™¨åå°±ä¸åŒäº†ï¼Œä¹Ÿå°±ä¸ä¼šç›¸äº’å†²çªäº†ã€‚&lt;/p&gt;
&lt;p&gt;css-in-js ä¹Ÿæ˜¯ä¸€ç§æµè¡Œçš„æ–¹æ¡ˆï¼Œé€šè¿‡è¿™ç§æ–¹å¼ç¼–ç çš„æ ·å¼ä¹Ÿä¸ä¼šå†²çªï¼Œè¿™å‡ ä¸ªæ–¹æ¡ˆå®ç°èµ·æ¥éƒ½ä¸å¤æ‚ï¼Œè€Œä¸”éƒ½éå¸¸è¡Œä¹‹æœ‰æ•ˆã€‚æ‰€ä»¥ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¤§å®¶æ‰‹åŠ¨ç”¨å·¥ç¨‹åŒ–æ‰‹æ®µå¤„ç†ä¸€ä¸‹ä¸»å­åº”ç”¨ä¹‹é—´çš„æ ·å¼å†²çªï¼Œå°±å¯ä»¥è§£å†³æ‰æ ·å¼éš”ç¦»çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;th&gt;ä¼˜ç‚¹&lt;/th&gt;
&lt;th&gt;ç¼ºç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;BEM&lt;/td&gt;
&lt;td&gt;ä¸åŒé¡¹ç›®ç”¨ä¸åŒçš„å‰ç¼€/å‘½åè§„åˆ™é¿å¼€å†²çª&lt;/td&gt;
&lt;td&gt;ç®€å•&lt;/td&gt;
&lt;td&gt;ä¾èµ–çº¦å®šï¼Œè¿™ä¹Ÿæ˜¯è€¦åˆçš„ä¸€ç§ï¼Œå®¹æ˜“å‡ºçº°æ¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSS Modules&lt;/td&gt;
&lt;td&gt;é€šè¿‡ç¼–è¯‘ç”Ÿæˆä¸å†²çªçš„é€‰æ‹©å™¨å&lt;/td&gt;
&lt;td&gt;å¯é æ˜“ç”¨ï¼Œé¿å…äººå·¥çº¦æŸ&lt;/td&gt;
&lt;td&gt;åªèƒ½åœ¨æ„å»ºå™¨ä¸æ‰“åŒ…å·¥å…·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSS-in-JS&lt;/td&gt;
&lt;td&gt;CSS å’Œ JS ç¼–ç åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç”Ÿæˆä¸å†²çªçš„é€‰æ‹©å™¨&lt;/td&gt;
&lt;td&gt;åŸºæœ¬å½»åº•é¿å…å†²çª&lt;/td&gt;
&lt;td&gt;è¿è¡Œæ—¶å¼€é”€ï¼Œç•¥ç¼ºå¤±å®Œæ•´ CSS èƒ½åŠ›&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;æ ·å¼éš”ç¦»shadow-dom&#34;&gt;æ ·å¼éš”ç¦»ï¼šShadow DOM&lt;/h2&gt;
&lt;p&gt;Web Components çš„ç›®æ ‡æ˜¯å‡å°‘å•é¡µåº”ç”¨ä¸­éš”ç¦» HTMLï¼ŒCSS ä¸ JavaScript çš„å¤æ‚åº¦ï¼Œå…¶ä¸»è¦åŒ…å«äº† Custom Elements, Shadow DOM, Template Elementï¼ŒHTML Importsï¼ŒCustom Properties ç­‰å¤šä¸ªç»´åº¦çš„è§„èŒƒä¸å®ç°ã€‚Shadow DOM å®ƒå…è®¸åœ¨æ–‡æ¡£ï¼ˆdocumentï¼‰æ¸²æŸ“æ—¶æ’å…¥ä¸€æ£µ DOM å…ƒç´ å­æ ‘ï¼Œä½†æ˜¯è¿™æ£µå­æ ‘ä¸åœ¨ä¸» DOM æ ‘ä¸­ã€‚å› æ­¤å¼€å‘è€…å¯åˆ©ç”¨ Shadow DOM å°è£…è‡ªå·±çš„ HTML æ ‡ç­¾ã€CSS æ ·å¼å’Œ JavaScript ä»£ç ã€‚å­æ ‘ä¹‹é—´å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œå¯¹å…¶ä¸­çš„å†…å®¹è¿›è¡Œäº†å°è£…ï¼Œæœ‰é€‰æ‹©æ€§çš„è¿›è¡Œæ¸²æŸ“ã€‚è¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ’å…¥æ–‡æœ¬ã€é‡æ–°å®‰æ’å†…å®¹ã€æ·»åŠ æ ·å¼ç­‰ç­‰ã€‚å…¶ç»“æ„ç¤ºæ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://user-images.githubusercontent.com/5803001/43813782-c17e5d34-9af9-11e8-94df-7974298a2afc.png&#34; alt=&#34;image&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•çš„ Shadow DOM åˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hostElement&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// åˆ›å»º shadow DOM
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;shadow&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;querySelector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#hostElement&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;attachShadow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;open&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// ç»™ shadow DOM æ·»åŠ æ–‡å­—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;shadow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;innerHTML&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;p&amp;gt;Here is some new text&amp;lt;/p&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// æ·»åŠ CSSï¼Œå°†æ–‡å­—å˜çº¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;shadow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;innerHTML&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;style&amp;gt;p { color: red; }&amp;lt;/style&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† React åº”ç”¨å°è£…ä¸º Custom Element å¹¶ä¸”å°è£…åˆ° Shadow DOM ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;React&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;react&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;retargetEvents&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;react-shadow-dom-retarget-events&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;App&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;React&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Component&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;onClick&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;I have been clicked&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Click&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;me&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/div&amp;gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;proto&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;HTMLElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;prototype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;attachedCallback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mountPoint&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;span&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;shadowRoot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createShadowRoot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;shadowRoot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;appendChild&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mountPoint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;ReactDOM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;render&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;App&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mountPoint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;retargetEvents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;shadowRoot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;registerElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;my-custom-element&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;prototype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;proto&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Shadow DOM çš„å…¼å®¹æ€§è¾ƒå·®ï¼Œä»…åœ¨ Chrome è¾ƒé«˜ç‰ˆæœ¬æµè§ˆå™¨ä¸­å¯ä»¥ä½¿ç”¨ã€‚å½“ç„¶æ¥åˆ° qiankun2.0 ä¹‹åï¼Œæˆ‘ä»¬è¿½åŠ äº†ä¸€ä¸ªæ–°çš„é€‰é¡¹ï¼Œå«ä½œä¸¥æ ¼æ ·å¼éš”ç¦»ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ä½¿ç”¨è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ä¸¥æ ¼æ ·æ˜¯éš”ç¦»ä»£è¡¨ Shadow DOMã€‚Shadow DOM æ˜¯å¯ä»¥çœŸæ­£çš„åšåˆ° CSS ä¹‹é—´å®Œå…¨éš”ç¦»çš„ï¼Œåœ¨ Shadow Boundary è¿™ä¸ªé˜´å½±è¾¹ç•Œé˜»éš”ä¹‹ä¸‹ï¼Œä¸»åº”ç”¨çš„æ ·å¼å’Œå­åº”ç”¨çš„æ ·å¼å¯ä»¥å®Œå®Œå…¨å…¨çš„åˆ‡åˆ†å¼€æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ è¿˜æ˜¯ä¸èƒ½æ— è„‘çš„å¼€å¯ä¸¥æ ¼æ ·å¼éš”ç¦»çš„ã€‚åŸå› ä¹‹å‰çš„åŒå­¦ä¹Ÿå·²ç»æåˆ°è¿‡ä¸€äº›äº†ï¼Œæ¯”å¦‚è¯´ä½ åœ¨ä½¿ç”¨ä¸€äº›å¼¹çª—ç»„ä»¶çš„æ—¶å€™ï¼ˆå¼¹çª—å¾ˆå¤šæƒ…å†µä¸‹éƒ½æ˜¯é»˜è®¤æ·»åŠ åˆ°äº† document.bodyï¼‰è¿™ä¸ªæ—¶å€™å®ƒå°±è·³è¿‡äº†é˜´å½±è¾¹ç•Œï¼Œè·‘åˆ°äº†ä¸»åº”ç”¨é‡Œé¢ï¼Œæ ·å¼å°±ä¸¢äº†ã€‚åˆæ¯”æ–¹è¯´ä½ å­åº”ç”¨ä½¿ç”¨çš„æ˜¯ React æŠ€æœ¯æ ˆï¼Œè€Œ React äº‹ä»¶ä»£ç†å…¶å®æ˜¯æŒ‚åœ¨ document ä¸Šçš„ï¼Œå®ƒä¹Ÿä¼šå‡ºä¸€äº›é—®é¢˜ã€‚æ‰€ä»¥å®è·µé‡Œå½“ä½ å¼€å¯ Shadow DOM ä¹‹åï¼Œå½“ä½ çš„å­åº”ç”¨å¯èƒ½ä¼šé‡åˆ°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ï¼Œè¿™äº›é”™è¯¯éœ€è¦ä½ ä¸€ä¸€çš„å»æ‰‹åŠ¨ä¿®å¤ï¼Œè¿™æ˜¯æ¯”è¾ƒç´¯çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æä¾›äº† Shadow DOM è¿™ä¹ˆä¸€ç§æ ·å¼éš”ç¦»æ–¹å¼ã€‚ä½†æ˜¯å®é™…ä½¿ç”¨ä¸­è¿˜æ˜¯å·¥ç¨‹åŒ–çš„æ‰‹æ®µæœ€ä¸ºå¯é ã€æœ€ä¸ºç®€å•ã€‚å½“ç„¶åœ¨å…è®¸çš„æƒ…å†µä¸‹ï¼Œå¤§å®¶è¿˜æ˜¯å¯ä»¥å»å°è¯•å¼€å¯ä¸¥æ ¼æ ·å¼éš”ç¦»ï¼Œæ¯•ç«Ÿè¿™æ‰æ˜¯çœŸæ­£çš„éš”ç¦»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ ·å¼éš”ç¦»-rfcruntime-css-transformer&#34;&gt;æ ·å¼éš”ç¦» RFCï¼šruntime css transformer&lt;/h2&gt;
&lt;p&gt;qiankun è¿˜æ”¶åˆ°è¿‡ä¸€ä¸ªææ¡ˆï¼Œè®©æˆ‘ä»¬å¯ä»¥åŠ¨æ€è¿è¡Œæ—¶åœ°å»æ”¹å˜ cssã€‚å¦‚å›¾ï¼Œæ¯”å¦‚è¯´åŸæ¥å­åº”ç”¨é‡Œé¢çš„æ ·å¼æ˜¯è¿™ä¸ªæ ·å­ï¼Œé‚£è½¬æ¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå‰é¢åŠ ä¸€ä¸ªé™å®šï¼Œæˆ‘ä»¬è§„å®šåªæœ‰åœ¨ data-qiankun-app1 è¿™ä¸ªå­åº”ç”¨é‡Œé¢ï¼ˆè¿™ä¸ª div å°±æ˜¯åŒ…è£¹å­åº”ç”¨çš„æœ€å¤–å±‚çš„å®¹å™¨ï¼‰ï¼Œ .main è¿™æ¡æ ·å¼æ‰èƒ½çœŸæ­£çš„ç”Ÿæ•ˆã€‚é€šè¿‡è¿™æ ·ä¸€ä¸ªè¿è¡Œæ—¶çš„è½¬æ¢ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿè¾¾åˆ°æ ·å¼éš”ç¦»çš„ç›®çš„ã€‚å½“ç„¶è¿™ä¸ªæ–¹æ¡ˆçš„é—®é¢˜åœ¨äºè¿™ä¸ªè½¬æ¢ä¸æ˜¯é‚£ä¹ˆå¥½åšï¼Œé¦–å…ˆæˆ‘ä»¬å¢åŠ äº†ä¸€å®šçš„è¿è¡Œæ—¶å¼€é”€ï¼Œå…¶æ¬¡å¯¹äºä¸€äº›åª’ä½“æŸ¥è¯¢ï¼Œå¯¹äºä¸€äº›åŠ¨ç”»å¾ˆå¯èƒ½ä¼šå‡ºä¸€äº›æ„æ–™ä¹‹å¤–çš„æƒ…å†µã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åº”ç”¨é€šä¿¡</title>
      <link>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E5%BA%94%E7%94%A8%E9%80%9A%E4%BF%A1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ng-tech.icu/books/web-engineering-series/%E5%BE%AE%E5%89%8D%E7%AB%AF/%E9%9A%94%E7%A6%BB%E4%B8%8E%E9%80%9A%E4%BF%A1/%E5%BA%94%E7%94%A8%E9%80%9A%E4%BF%A1/</guid>
      <description>&lt;h1 id=&#34;åº”ç”¨é€šä¿¡&#34;&gt;åº”ç”¨é€šä¿¡&lt;/h1&gt;
&lt;h1 id=&#34;åŸºäº-url&#34;&gt;åŸºäº URL&lt;/h1&gt;
&lt;p&gt;å…¶å®æœ‰ä¸€ç§æœ€æœ´ç´ çš„é€šè®¯æ–¹æ¡ˆï¼Œå°±æ˜¯åŸºäº URLã€‚å‰ç«¯æœ‰ä¸€ç§è®¾è®¡å«åš URL ä¸­å¿ƒè®¾è®¡ï¼Œå°±æ˜¯è¯´ä½ çš„ URL å®Œå…¨å†³å®šäº†ä½ é¡µé¢å±•ç¤ºå‡ºæ¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚å‡å¦‚æˆ‘çš„åº”ç”¨é‡Œæœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œæœ‰ä¸€ä¸ªåˆ†é¡µï¼Œå½“ä½ ç‚¹ä¸‹ä¸€é¡µçš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯å°±äº§ç”Ÿäº†ä¸€ä¸ªåœ¨ç¬¬äºŒé¡µçš„ query å‚æ•°ï¼Ÿä½ å¯èƒ½ä¼šæŠŠè¿™ä¸ªå‚æ•°åŒæ­¥åˆ°è·¯ç”±ä¸Šï¼Œè¿™æ ·ä½ æŠŠè¿™ä¸ªé“¾æ¥åˆ†äº«ç»™åˆ«äººçš„æ—¶å€™ï¼Œåˆ«äººå°±èƒ½çœ‹åˆ°è·Ÿä½ ä¸€æ ·çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…¶å®å®Œå…¨å¯ä»¥æŠŠè¿™ç§è·¯ç”±ç¿»è¯‘æˆçœ‹ä½œæ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ¯”å¦‚è¯´è¿™é‡Œçš„è·¯ç”± b/function-logï¼Œquery å‚æ•° data æ˜¯ aaa ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè·¯ç”± URL ç†è§£ä¸ºæˆ‘åœ¨è°ƒç”¨ B åº”ç”¨çš„ log å‡½æ•°ï¼Œè¿™å°±åƒä¸€æ¬¡å‡½æ•°è°ƒç”¨ä¸€æ ·ã€‚å½“æˆ‘ä»¬ä»åº”ç”¨ A è·³å»åº”ç”¨ Bï¼Œå¯¹åº”è·¯ç”±å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå°±æ˜¯è§¦å‘äº†ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œè§¦å‘äº†ä¸€æ¬¡é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è·¯ç”±å®é™…ä¸Šä¹Ÿæœ‰é€šä¿¡çš„åŠŸèƒ½ã€‚è¿™ç§é€šä¿¡æ–¹å¼æ˜¯å®Œå…¨è§£è€¦çš„ï¼Œä½†æ˜¯ç¼ºç‚¹å°±æ˜¯æ¯”è¾ƒå¼±ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å‘å¸ƒè®¢é˜…æ¨¡å‹&#34;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å‹&lt;/h1&gt;
&lt;p&gt;å¦ä¸€ç§åº”ç”¨é—´é€šä¿¡çš„æ¨¡å‹å°±æ˜¯æˆ‘ä»¬å¯ä»¥æŒ‚ä¸€ä¸ªäº‹ä»¶æ€»çº¿ã€‚åº”ç”¨ä¹‹é—´ä¸ç›´æ¥ç›¸äº’äº¤äº’ï¼Œæˆ‘éƒ½ç»Ÿä¸€å»äº‹ä»¶æ€»çº¿ä¸Šæ³¨å†Œäº‹ä»¶ã€ç›‘å¬äº‹ä»¶ï¼Œé€šè¿‡è¿™ä¹ˆä¸€ä¸ªå‘å¸ƒè®¢é˜…æ¨¡å‹æ¥åšåˆ°åº”ç”¨ä¹‹é—´çš„ç›¸äº’é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ¡†æ¶éƒ½ä¸éœ€è¦å¼•å…¥ï¼Œä»€ä¹ˆç¬¬ä¸‰æ–¹åº“éƒ½ä¸éœ€è¦å¼•å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤©ç„¶çš„äº‹ä»¶æ€»çº¿ï¼šwindow çš„ CustomEvent ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ window ä¸Šç›‘å¬ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œç„¶ååœ¨ä»»æ„åœ°æ–¹æ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¤©ç„¶çš„é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶æ¥åšåˆ°åº”ç”¨ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;
















  &lt;figure  &gt;
    &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
      &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://pic.imgdb.cn/item/6080d19aee52a14d78624863.jpg&#34; alt=&#34;åŸºäº CustomEvent çš„å‘å¸ƒ/è®¢é˜…æ¨¡å‹&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&#34;åŸºäº-props&#34;&gt;åŸºäº Props&lt;/h1&gt;
&lt;p&gt;å¤§å®¶å†™è¿‡ React æˆ– Vue éƒ½ä¼šçŸ¥é“ï¼Œæˆ‘ä»¬åœ¨å†™ä¸€ä¸ª input çš„æ—¶å€™ï¼Œä¼šæŠŠ value å’Œ onChange ä¸¤ä¸ª props éƒ½ä¼ ç»™äº†åº•ä¸‹çš„è¾“å…¥æ¡†ã€‚è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŒæ ·åšï¼Œæˆ‘ä»¬ä¸»åº”ç”¨æ˜¯å¯ä»¥ä¼ é€’ä¸€äº› props ç»™å­ç”¨çš„ã€‚æˆ‘ä»¬æŠŠ state å’Œ onGlobalStateChange ï¼ˆå°±æ˜¯ç›‘å¬å‡½æ•°ï¼‰ï¼Œè¿˜æœ‰æˆ‘ä»¬çš„ onChange ï¼ˆå°±æ˜¯ setGlobalStateï¼‰ä¸‰ä¸ªéƒ½ä¼ ç»™å­åº”ç”¨ã€‚æˆ‘ä»¬åŸºäº props ä¹Ÿå°±å¯ä»¥å®ç°ä¸€ä¸ªç®€å•çš„ä¸»å­åº”ç”¨ä¹‹é—´é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å½“æˆ‘ä»¬è¿™æ ·å­å®ç°äº†ä¸»å­åº”ç”¨ä¹‹é—´é€šä¿¡ä¹‹åï¼Œæˆ‘ä»¬å­åº”ç”¨ä¸å­åº”ç”¨ä¹‹é—´é€šä¿¡æ€ä¹ˆåšï¼Ÿè®©å¤§å®¶éƒ½è·Ÿä¸»åº”ç”¨é€šä¿¡å°±è¡Œäº†ã€‚å­åº”ç”¨å’Œå­åº”ç”¨ä¹‹é—´å°±ä¸è¦å†å¤šåŠ ä¸€æ¡é€šä¿¡é“¾è·¯äº†ï¼Œæˆ‘ä»¬å¤§å®¶éƒ½åŸºäº props å’Œä¸»åº”ç”¨é€šä¿¡ï¼Œè¿™æ ·ä¹Ÿèƒ½è§£é€šä¿¡é—®é¢˜ã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
