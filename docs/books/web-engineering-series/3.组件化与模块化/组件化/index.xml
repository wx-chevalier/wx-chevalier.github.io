<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ÁªÑ‰ª∂Âåñ | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/</link><atom:link href="https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/index.xml" rel="self" type="application/rss+xml"/><description>ÁªÑ‰ª∂Âåñ</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>ÁªÑ‰ª∂Âåñ</title><link>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/</link></image><item><title>‰æùËµñÊ≥®ÂÖ•</title><link>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/</guid><description>&lt;h1 id="web-ÁªÑ‰ª∂ÁöÑ‰æùËµñÊ≥®ÂÖ•">Web ÁªÑ‰ª∂ÁöÑ‰æùËµñÊ≥®ÂÖ•&lt;/h1>
&lt;p>‰æùËµñÊ≥®ÂÖ•ÁöÑÊ¶ÇÂøµÊúÄÊó©Áî± Google Angular ÂºïÂÖ•Âà∞ Web ÂâçÁ´ØÁºñÁ†Å‰∏≠ÔºåËÄåÈöèÁùÄÁªÑ‰ª∂ÂåñÊ¶ÇÂøµÁöÑÊµÅË°åÔºåÁâπÂà´ÊòØÁ±ªÁªÑ‰ª∂ÁöÑÊñπÂºèÈÄêÊ≠•Êàê‰∏∫‰∏ªÊµÅÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âú®ÂâçÁ´ØÁºñÁ†Å‰∏≠ÂÆûË∑µ‰æùËµñÊ≥®ÂÖ•ÊàñËÄÖÊéßÂà∂ÂèçËΩ¨ÁöÑÊ®°Âºè„ÄÇ&lt;/p>
&lt;p>ÊéßÂà∂ÂèçËΩ¨Âπ∂ÈùûÂ§ö‰πàÂ§çÊùÇÁöÑÊ®°ÂºèÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÈÇ£‰∫õÈÄöËøá Props ‰º†ÂÖ•ÁöÑ Every function passed in via props is an ‚Äúinjection of a dependency‚Äù, and every component that declares a prop for handling events or user interaction is observing ‚Äúinversion of control‚Äù. The borrowed terms have now been rendered obsolete through ubiquity, save perhaps for use as shibboleth for JavaScripters who have lived through the reign of Angular.&lt;/p>
&lt;p>#‚ÄäConstructor Injection&lt;/p>
&lt;p>As the name implies, this component would receive its dependencies via the constructor. Here‚Äôs what such a component would look like:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Knight&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">weapon&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">weapon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`üê¥ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">weapon&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And you would use it like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Knight&lt;/span> &lt;span class="nx">weapon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">sword&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Of course, you should typically use the prop directly instead of duplicating it.&lt;/p>
&lt;h1 id="setter-injection">Setter Injection&lt;/h1>
&lt;p>Instead of setting dependencies in the constructor, a component would have methods available that can be called after initialization, with dependencies passed in as the argument.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Knight&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setWeapon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">weapon&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">weapon&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`üê¥ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">weapon&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Usage:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">componentDidMount&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">knight&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setWeapon&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sword&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">render&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Knight&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">knight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Again, you almost certainly would not want do this instead of passing dependencies directly via props.&lt;/p>
&lt;h1 id="interface-injection">Interface Injection&lt;/h1>
&lt;p>The props of a component are its interface to its clients, thus ‚Äúrequired props‚Äù would come the closest to an analogy for interface injection with React:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Knight&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">weapon&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">any&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`üê¥ &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">weapon&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>and you would use it simply as&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Knight&lt;/span> &lt;span class="nx">weapon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">sword&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I hope these examples illustrate how commonplace Dependency Injection has become, and gave you some talking points should the topic ever comes up.&lt;/p></description></item><item><title>ÁªÑ‰ª∂ËßÑËåÉ</title><link>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E7%BB%84%E4%BB%B6%E8%A7%84%E8%8C%83/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E7%BB%84%E4%BB%B6%E8%A7%84%E8%8C%83/</guid><description>&lt;h1 id="usage">Usage&lt;/h1>
&lt;h1 id="lifecycle">LifeCycle&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>created / componentWillMount&lt;/p>
&lt;/li>
&lt;li>
&lt;p>mounted / componentDidMount&lt;/p>
&lt;/li>
&lt;li>
&lt;p>shouldComponentUpdate&lt;/p>
&lt;/li>
&lt;li>
&lt;p>updated / componentDidUpdate&lt;/p>
&lt;/li>
&lt;li>
&lt;p>unmounted / componentWillUnMount&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>beforeCreate‚Ää‚Äî‚Ääcalled after the instance has been initialized but before watchers/events have been setup&lt;/p>
&lt;p>created‚Ää‚Äî‚Ääcalled after the instance has been initialized, the computed props, data watchers and events have been setup but the component has not been mounted to the el dom element&lt;/p>
&lt;p>beforeMount‚Ää‚Äî‚Ääcalled right before mounting process begins&lt;/p>
&lt;p>mounted‚Ää‚Äî‚Ääcalled after the instance has been mounted and the el in the DOM is replaced with your component.&lt;/p>
&lt;p>beforeUpdate‚Ää‚Äî‚Ääcalled after the data changes but before the virtual DOM has been updated&lt;/p>
&lt;p>updated‚Ää‚Äî‚Ääcalled after the DOM was updated&lt;/p>
&lt;p>beforeDestroy‚Ää‚Äî‚Ääcalled before an instance is about to be destroyed but full functionality of the instance is still available&lt;/p>
&lt;p>destroy‚Ää‚Äî‚Ääcalled after the instance has been destroyed&lt;/p></description></item><item><title>ÁªÑ‰ª∂È©±Âä®ÂºÄÂèë</title><link>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E7%BB%84%E4%BB%B6%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/web-engineering-series/3.%E7%BB%84%E4%BB%B6%E5%8C%96%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96/%E7%BB%84%E4%BB%B6%E5%8C%96/%E7%BB%84%E4%BB%B6%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/</guid><description>&lt;h1 id="ÁªÑ‰ª∂È©±Âä®ÂºÄÂèë">ÁªÑ‰ª∂È©±Âä®ÂºÄÂèë&lt;/h1>
&lt;p>Component Driven Development is a way of building user interfaces (UIs) by starting with their smallest parts: the components. Emphasis on components is a theme in UI development that has been gaining momentum since the introduction of modern UI libraries like React.&lt;/p>
&lt;p>CDD denotes a set of tools (such as React Storybook) and a way of developing applications to really take advantage of this change in emphasis. Some advantages of CDD include:&lt;/p>
&lt;ul>
&lt;li>The ability to parallelize work as different people work on different components.&lt;/li>
&lt;li>The ability to use a ‚ÄúVisual TDD‚Äù approach to allow building UIs in a more rigorous fashion.&lt;/li>
&lt;li>Increased communication opportunities between designers and other product people and the developers building the components.&lt;/li>
&lt;li>Reuse of components between applications and features.&lt;/li>
&lt;/ul>
&lt;p>I‚Äôll talk more about why I think CDD is great in future posts, but hopefully some of these advantages will become clear as we develop our todo list app.&lt;/p>
&lt;h1 id="ÁªÑ‰ª∂‰ª£Á†ÅÈ£éÊ†º">ÁªÑ‰ª∂‰ª£Á†ÅÈ£éÊ†º&lt;/h1>
&lt;p>Êú¨Â∞èËäÇÊàë‰ª¨ÂÖ≥Ê≥®Â¶Ç‰ΩïÂÜôÂá∫ÊºÇ‰∫ÆÁöÑÁªÑ‰ª∂Ôºå‰Ω†ÊàñËÆ∏ÂèØ‰ª•ËÆ§‰∏∫ËêùÂçúÈùíËèúÂêÑÊúâÊâÄÁà±Ôºå‰ΩÜÊòØ‰ª£Á†ÅÊú¨Ë∫´ÊòØÂ∫îÂΩì‰øùËØÅÂÖ∂ÂèØËØªÊÄßÔºåÁâπÂà´ÊòØÂú®‰∏Ä‰∏™Âõ¢Èòü‰∏≠Ôºå‰Ω†ÁöÑ‰ª£Á†ÅÊòØÊ≥®ÂÆöË¶ÅË¢´ÂÖ∂‰ªñ‰∫∫ÈòÖËØªÁöÑ„ÄÇËÆ°ÁÆóÊú∫ÊòØ‰∏ç‰ºöÂú®ÊÑèËøô‰∫õÁöÑÔºå‰∏çÁÆ°‰Ω†ÊúùÂÆÉ‰ª¨ÊâîËøáÂéª‰ªÄ‰πàÔºåÂÆÉ‰ª¨ÈÉΩ‰ºöËÄÅËÄÅÂÆûÂÆûÁöÑËß£ÈáäÔºå‰ΩÜÊòØ‰Ω†ÁöÑÈòüÂèã‰ª¨ÂèØ‰∏ç‰ºöËøôÊ†∑Ôºå‰ªñ‰ª¨‰ºöÊää‰∏ëÈôãÁöÑ‰ª£Á†ÅÊâîÂõûÂà∞‰Ω†ÁöÑËÑ∏‰∏ä„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÊºÇ‰∫ÆÁöÑÁªÑ‰ª∂Â∫îËØ•ÂÖ∑Â§á‰ª•‰∏ãÁâπÂæÅÔºö&lt;/p>
&lt;ul>
&lt;li>Âç≥‰ΩøÊ≤°Êúâ‰ªª‰ΩïÊ≥®ÈáäÁöÑÊÉÖÂÜµ‰∏ã‰πüÊòì‰∫éÁêÜËß£&lt;/li>
&lt;li>ÊØî‰π±È∫ªËà¨ÁöÑ‰ª£Á†ÅÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩË°®Áé∞&lt;/li>
&lt;li>Êõ¥Êòì‰∫éËøõË°å Bug ËøΩÊ∫Ø&lt;/li>
&lt;li>ÁÆÄÊ¥ÅÊòé‰∫ÜÔºå‰∏ÄÂè•È°∂‰∏Ä‰∏áÂè•&lt;/li>
&lt;/ul>
&lt;p>Âú®ËÆ®ËÆ∫ËØ≠Ê≥ïÁöÑËØ≠Ê≥ïÁªÜËäÇ‰πãÂâçÔºåÊàë‰ª¨Â∫îËØ•ÈÅµÂæ™Â¶Ç‰∏ãÁöÑÂü∫Êú¨ÂéüÂàôÔºö&lt;/p>
&lt;p>-¬† ÊØè‰∏™Êñá‰ª∂‰∏≠Âè™ÂåÖÂê´‰∏Ä‰∏™ React ÁªÑ‰ª∂„ÄÇ
-¬† Â∞ΩÂèØËÉΩÂú∞‰ΩøÁî® JSX ËØ≠Ê≥ï„ÄÇ
-¬† Èô§Èùû‰∏çÁî® JSX ËØ≠Ê≥ïÂàõÂª∫‰∏Ä‰∏™Â∫îÁî®ÔºåÂê¶Âàô‰∏çË¶Å‰ΩøÁî®&lt;code>React.createElement&lt;/code>ÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;h2 id="ÁªÑ‰ª∂ËßÑËåÉ">ÁªÑ‰ª∂ËßÑËåÉ&lt;/h2>
&lt;p>###¬†Class ‰∏é React.createClass ÊñπÊ≥ï&lt;/p>
&lt;p>Â∞ΩÂèØËÉΩÂú∞‰ΩøÁî® ES6 ‰∏≠ÁöÑÁ±ªÁöÑËØ≠Ê≥ïÔºåÈô§ÈùûÊúâÁâπÊÆäÁöÑÂØπ‰∫é Mixin ÁöÑÈúÄÊ±Ç„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">Listing&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createClass&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Listing&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>###¬† ÁªÑ‰ª∂ÂëΩÂêç&lt;/p>
&lt;p>-¬† Êâ©Â±ïÂêçÔºö‰ΩøÁî®.jsx ‰Ωú‰∏∫ React ÁªÑ‰ª∂ÁöÑÊâ©Â±ïÂêç„ÄÇ
-¬† Êñá‰ª∂ÂêçÔºö‰ΩøÁî®Â∏ïÊñØÂç°ÂëΩÂêçÊ≥ïÂëΩÂêçÊñá‰ª∂ÔºåË≠¨Â¶Ç ReservationCard.jsx„ÄÇ
-¬† ÂºïÁî®ÂëΩÂêçÔºö‰ΩøÁî®Â∏ïÊñØÂç°ÂëΩÂêçÊ≥ïÂëΩÂêçÁªÑ‰ª∂Âíå camelCase ÂëΩÂêçÂÆû‰æã„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">reservationCard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./ReservationCard&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ReservationCard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./ReservationCard&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ReservationItem&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">ReservationCard&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">reservationItem&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">ReservationCard&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>###¬†Props&lt;/p>
&lt;p>-¬† ÂØπ‰∫é Props ÁöÑÂëΩÂêç‰ΩøÁî® camelCase„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">UserName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">phone_number&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">12345678&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">userName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">phoneNumber&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">12345678&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>-¬† Â∞Ü Props ÊàñËÄÖ State ÁöÑÂ£∞ÊòéÂÜôÂú®Á±ªÂ§ñ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">PropTypes&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;react&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultProps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Hello¬†World&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">Link&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">methodsAreOk&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="nx">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/a&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Link&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">propTypes&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Link&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">defaultProps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defaultProps&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>###¬†Declaration(Â£∞Êòé)&lt;/p>
&lt;p>-¬† ‰∏çË¶Å‰ΩøÁî® displayName Êù•ÂëΩÂêçÁªÑ‰ª∂ÔºåËÄå‰ΩøÁî®ÂºïÁî®„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createClass&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">displayName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="s1">&amp;#39;ReservationCard&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="c1">//¬†stuff¬†goes¬†here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">ReservationCard&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="kr">extends&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ÂêàÁêÜ‰ΩøÁî®ÂØπË±°ÁªìÊûÑ‰∏éÂ±ûÊÄßÊâ©Â±ï">ÂêàÁêÜ‰ΩøÁî®ÂØπË±°ÁªìÊûÑ‰∏éÂ±ûÊÄßÊâ©Â±ï&lt;/h3>
&lt;p>Â§ßÁöÑÁªÑ‰ª∂ÂæÄÂæÄÂèóÂõ∞‰∫é&lt;code>this.props&lt;/code>ËøáÈïøÁöÑÁ™òÂ¢ÉÔºåÂÖ∏ÂûãÁöÑÂ¶Ç‰∏ãÊâÄÁ§∫:&lt;/p>
&lt;pre tabindex="0">&lt;code>render() {
¬† return (
¬† &amp;lt;ProductPrice
¬† hidePriceFulfillmentDisplay=
¬†{this.props.hidePriceFulfillmentDisplay}
¬† primaryOffer={this.props.primaryOffer}
¬† productType={this.props.productType}
¬† productPageUrl={this.props.productPageUrl}
¬† inventory={this.props.inventory}
¬† submapType={this.props.submapType}
¬† ppu={this.props.ppu}
¬† isLoggedIn={this.props.isLoggedIn}
¬† gridView={this.props.isGridView}
¬† /&amp;gt;
¬† );
}
&lt;/code>&lt;/pre>&lt;p>Ëøô‰πàÂ§öÁöÑ Props ‰º∞ËÆ°ÁúãÁùÄÈÉΩÂ§¥ÁñºÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÂ∞ÜËøô‰∫õ Props ÁªßÁª≠‰º†ÂÖ•‰∏ã‰∏ÄÂ±ÇÔºåÂ§ßÊ¶ÇÂ∞±Ë¶ÅÂèòÊàê‰∏ãÈù¢Ëøô‰∏™Ê†∑Â≠ê‰∫Ü:&lt;/p>
&lt;pre tabindex="0">&lt;code>render() {
¬† const {
¬† hidePriceFulfillmentDisplay,
¬† primaryOffer,
¬† productType,
¬† productPageUrl,
¬† inventory,
¬† submapType,
¬† ppu,
¬† isLoggedIn,
¬† gridView
¬† } = this.props;
¬† return (
¬† &amp;lt;ProductPrice
¬† hidePriceFulfillmentDisplay={hidePriceFulfillmentDisplay}
¬† primaryOffer={primaryOffer}
¬† productType={productType}
¬† productPageUrl={productPageUrl}
¬† inventory={inventory}
¬† submapType={submapType}
¬† ppu={ppu}
¬† isLoggedIn={isLoggedIn}
¬† gridView={isGridView}
¬† /&amp;gt;
¬† );
}
&lt;/code>&lt;/pre>&lt;p>ÊöÇÊó∂‰∏çËÄÉËôë unKnown PropsÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Ëß£ÊûÑËµãÂÄºÊù•ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩ:&lt;/p>
&lt;pre tabindex="0">&lt;code>render() {
¬† const props = this.props;
¬† return &amp;lt;ProductPrice {...props} /&amp;gt;
}
&lt;/code>&lt;/pre>&lt;h2 id="jsx-ËßÑËåÉ">JSX ËßÑËåÉ&lt;/h2>
&lt;p>###¬†Alignment(ÂØπÈΩê)&lt;/p>
&lt;p>-¬† Ë∑üÈöèÂ¶Ç‰∏ãÁöÑ JSX ÁöÑËØ≠Ê≥ï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">superLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†¬†&lt;/span>&lt;span class="nx">anotherSuperLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;baz&amp;#34;&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">superLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">anotherSuperLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;baz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†if¬†props¬†fit¬†in¬†one¬†line¬†then¬†keep¬†it¬†on¬†the¬†same¬†line
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">bar&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†children¬†get¬†indented¬†normally
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">superLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">anotherSuperLongParam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;baz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Spazz&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/Foo&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>###¬†Quotes&lt;/p>
&lt;p>ÂØπ‰∫é JSX ÁöÑÂ±ûÊÄßÁî®ÂèåÂºïÂè∑Ë°®Á§∫ÔºåÂØπ‰∫éÂÖ∂‰ªñÂ±ûÊÄßÔºåÁî®ÂçïÂºïÂè∑Ë°®Á§∫„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code>//¬†bad
&amp;lt;Foo¬†bar=&amp;#39;bar&amp;#39;¬†/&amp;gt;
//¬†good
&amp;lt;Foo¬†bar=&amp;#34;bar&amp;#34;¬†/&amp;gt;
//¬†bad
&amp;lt;Foo¬†style={{¬†left:¬†&amp;#34;20px&amp;#34;¬†}}¬†/&amp;gt;
//¬†good
&amp;lt;Foo¬†style={{¬†left:¬†&amp;#39;20px&amp;#39;¬†}}¬†/&amp;gt;
&lt;/code>&lt;/pre>&lt;p>###¬†Spacing(Á©∫Ê†º)&lt;/p>
&lt;p>-¬† Âú®Ëá™Èó≠ÂêàÁöÑÊ†áÁ≠æ‰∏≠‰ªÖ‰ΩøÁî®ÂçïÁ©∫Ê†º„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code>//¬†bad
&amp;lt;Foo/&amp;gt;
//¬†very¬†bad
&amp;lt;Foo¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†/&amp;gt;
//¬†bad
&amp;lt;Foo
¬†/&amp;gt;
//¬†good
&amp;lt;Foo¬†/&amp;gt;
&lt;/code>&lt;/pre>&lt;p>###¬† Â§öÊÆµ&lt;/p>
&lt;p>-¬† ÂΩì JSX ÂåÖÂê´Â§öË°å‰ª£Á†ÅÊó∂ÔºåÂ∞ÜÂÆÉ‰ª¨ÂåÖÂê´Âú®Â∞èÊã¨Âè∑‰∏≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">///¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyComponent&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;long¬†body&amp;#34;&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">foo&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyChild&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†¬†¬†¬†¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/MyComponent&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyComponent&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;long¬†body&amp;#34;&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">foo&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyChild&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/MyComponent&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good,¬†when¬†single¬†line
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="kr">const&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nx">hello&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/div&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyComponent&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/MyComponent&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÊñπÊ≥ïËßÑËåÉ">ÊñπÊ≥ïËßÑËåÉ&lt;/h2>
&lt;p>###¬†Naming(ÊñπÊ≥ïÂëΩÂêç)&lt;/p>
&lt;p>-¬† ÂØπ‰∫é‰∏Ä‰∏™ React ÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®ÊñπÊ≥ïÔºå‰∏çË¶Å‰ΩøÁî®‰∏ãÂàíÁ∫ø‰Ωú‰∏∫ÂâçÁºÄ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createClass&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">_onClickSubmit&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†&lt;/span>&lt;span class="c1">//¬†do¬†stuff
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">¬†¬†&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="c1">//¬†other¬†stuff
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//¬†good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="kr">extends&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="nx">onClickSubmit&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">¬†&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†¬†¬†&lt;/span>&lt;span class="c1">//¬†do¬†stuff
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">¬†¬†&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">¬†¬†&lt;/span>&lt;span class="c1">//¬†other¬†stuff
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>###¬†Ordering(È°∫Â∫è)&lt;/p>
&lt;p>-¬†React.Component Â≠êÁ±ª&lt;/p>
&lt;p>1.¬†constructor
2.¬†optional¬†static¬†methods
3.¬†getChildContext
4.¬†componentWillMount
5.¬†componentDidMount
6.¬†componentWillReceiveProps
7.¬†shouldComponentUpdate
8.¬†componentWillUpdate
9.¬†componentDidUpdate
10.¬†componentWillUnmount
11.¬†&lt;em>clickHandlers¬†or¬†eventHandlers&lt;/em>¬†like¬†onClickSubmit()¬†or¬†onChangeDescription()
12.¬†&lt;em>getter¬†methods¬†for¬†render&lt;/em>¬†like¬†getSelectReason()¬†or¬†getFooterContent()
13.¬†&lt;em>Optional¬†render¬†methods&lt;/em>¬†like¬†renderNavigation()¬†or¬†renderProfilePicture()
14.¬†render&lt;/p>
&lt;p>-¬†React.createClass&lt;/p>
&lt;p>1.¬†displayName
2.¬†propTypes
3.¬†contextTypes
4.¬†childContextTypes
5.¬†mixins
6.¬†statics
7.¬†defaultProps
8.¬†getDefaultProps
9.¬†getInitialState
10.¬†getChildContext
11.¬†componentWillMount
12.¬†componentDidMount
13.¬†componentWillReceiveProps
14.¬†shouldComponentUpdate
15.¬†componentWillUpdate
16.¬†componentDidUpdate
17.¬†componentWillUnmount
18.¬†&lt;em>clickHandlers¬†or¬†eventHandlers&lt;/em>¬†like¬†onClickSubmit()¬†or¬†onChangeDescription()
19.¬†&lt;em>getter¬†methods¬†for¬†render&lt;/em>¬†like¬†getSelectReason()¬†or¬†getFooterContent()
20.¬†&lt;em>Optional¬†render¬†methods&lt;/em>¬†like¬†renderNavigation()¬†or¬†renderProfilePicture()
21.¬†render&lt;/p>
&lt;h3 id="‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞ÂáèÂ∞ëÂÜó‰Ωô‰ª£Á†Å">‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞ÂáèÂ∞ëÂÜó‰Ωô‰ª£Á†Å&lt;/h3>
&lt;p>ÁÆ≠Â§¥ÂáΩÊï∞ÊòØ ES6 ÂºïÂÖ•ÁöÑÊñ∞ÁâπÊÄß‰πã‰∏ÄÔºåÂÖ∂‰∏ç‰ªÖÂèØ‰ª•Â∏ÆÊàë‰ª¨ÈÅøÂÖçÊâãÂä®ÁªëÂÆö&lt;code>this&lt;/code>ÊåáÈíàÔºåËøòËÉΩËÆ©Êàë‰ª¨‰∏çÁî®Â£∞ÊòéËøáÂ§öÁöÑ&lt;code>function&lt;/code>ÂÖ≥ÈîÆÂ≠óÔºåË≠¨Â¶ÇÊàëËßâÂæóÈùûÂ∏∏ÈÄÇÁî® Arrow Function ÁöÑÂú∞ÊñπÂ∞±ÊòØ Redux ÁöÑ mapStateToProps ÂáΩÊï∞:&lt;/p>
&lt;pre tabindex="0">&lt;code>const mapStateToProps = ({isLoading}) =&amp;gt; {
¬† return ({
¬† loading: isLoading,
¬† });
};
&lt;/code>&lt;/pre>&lt;p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûú‰Ω†ËøîÂõûÁöÑÊòØ ObjectÔºå‰Ω†ÈúÄË¶ÅÂåÖË£πÂú®Â§ßÊã¨Âè∑ÂÜÖ:&lt;/p>
&lt;pre tabindex="0">&lt;code>const mapStateToProps = ({isLoading}) =&amp;gt; ({
¬† loading: isLoading
});
&lt;/code>&lt;/pre>&lt;p>#¬†Communication
React ÁªÑ‰ª∂‰∏Ä‰∏™ÂæàÂ§ßÁöÑÁâπÊÄßÂú®‰∫éÂÖ∂Êã•ÊúâËá™Â∑±ÂÆåÊï¥ÁöÑÁîüÂëΩÂë®ÊúüÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•Â∞Ü React ÁªÑ‰ª∂ËßÜ‰ΩúÂèØËá™ËøêË°åÁöÑÂ∞èÂûãÁ≥ªÁªüÔºåÂÆÉÊã•ÊúâËá™Â∑±ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅ„ÄÅËæìÂÖ•‰∏éËæìÂá∫„ÄÇ&lt;/p>
&lt;h2 id="input">Input&lt;/h2>
&lt;p>ÂØπ‰∫é React ÁªÑ‰ª∂ËÄåË®ÄÔºåÂÖ∂ËæìÂÖ•ÁöÑÊù•Ê∫êÂ∞±ÊòØ PropsÔºåÊàë‰ª¨‰ºöÁî®Â¶Ç‰∏ãÊñπÂºèÂêëÊüê‰∏™ React ÁªÑ‰ª∂‰º†ÂÖ•Êï∞ÊçÆ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">class Title extends React.Component {
render() {
return &amp;lt;h1&amp;gt;{ this.props.text }&amp;lt;/h1&amp;gt;;
}
};
Title.propTypes = {
text: React.PropTypes.string
};
Title.defaultProps = {
text: &amp;#39;Hello world&amp;#39;
};
// App.jsx
class App extends React.Component {
render() {
return &amp;lt;Title text=&amp;#39;Hello React&amp;#39; /&amp;gt;;
}
};
&lt;/code>&lt;/pre>&lt;p>&lt;code>text&lt;/code>ÊòØ&lt;code>Text&lt;/code>ÁªÑ‰ª∂Ëá™Â∑±ÁöÑËæìÂÖ•ÂüüÔºåÁà∂ÁªÑ‰ª∂&lt;code>App&lt;/code>Âú®‰ΩøÁî®Â≠êÁªÑ‰ª∂&lt;code>Title&lt;/code>Êó∂ÂÄôÂ∫îËØ•Êèê‰æõ&lt;code>text&lt;/code>Â±ûÊÄßÂÄº„ÄÇÈô§‰∫ÜÊ†áÂáÜÁöÑÂ±ûÊÄßÂêç‰πãÂ§ñÔºåÊàë‰ª¨Ëøò‰ºöÁî®Âà∞Â¶Ç‰∏ã‰∏§‰∏™ËÆæÁΩÆ:&lt;/p>
&lt;ul>
&lt;li>propTypes:Áî®‰∫éÂÆö‰πâ Props ÁöÑÁ±ªÂûãÔºåËøôÊúâÂä©‰∫éËøΩË∏™ËøêË°åÊó∂ËØØËÆæÁΩÆÁöÑ Prop ÂÄº„ÄÇ&lt;/li>
&lt;li>defaultProps:ÂÆö‰πâ Props ÁöÑÈªòËÆ§ÂÄºÔºåËøô‰∏™Âú®ÂºÄÂèëÊó∂ÂæàÊúâÂ∏ÆÂä©&lt;/li>
&lt;/ul>
&lt;p>Props ‰∏≠ËøòÊúâ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂ±ûÊÄß&lt;code>props.children&lt;/code>ÂèØ‰ª•ÂÖÅËÆ∏Êàë‰ª¨‰ΩøÁî®Â≠êÁªÑ‰ª∂:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-class" data-lang="class"> render() {
return (
&amp;lt;h1&amp;gt;
{ this.props.text }
{ this.props.children }
&amp;lt;/h1&amp;gt;
);
}
};
class App extends React.Component {
render() {
return (
&amp;lt;Title text=&amp;#39;Hello React&amp;#39;&amp;gt;
&amp;lt;span&amp;gt;community&amp;lt;/span&amp;gt;
&amp;lt;/Title&amp;gt;
);
}
};
&lt;/code>&lt;/pre>&lt;p>Ê≥®ÊÑèÔºåÂ¶ÇÊûúÊàë‰ª¨‰∏ç‰∏ªÂä®Âú®&lt;code>Title&lt;/code>ÁªÑ‰ª∂ÁöÑ&lt;code>render&lt;/code>ÂáΩÊï∞‰∏≠ËÆæÁΩÆ&lt;code>{this.props.children}&lt;/code>ÔºåÈÇ£‰πà&lt;code>span&lt;/code>Ê†áÁ≠æÊòØ‰∏ç‰ºöË¢´Ê∏≤ÊüìÂá∫Êù•ÁöÑ„ÄÇÈô§‰∫Ü Props ‰πãÂ§ñÔºåÂè¶‰∏Ä‰∏™ÈöêÊÄßÁöÑÁªÑ‰ª∂ÁöÑËæìÂÖ•Âç≥ÊòØ&lt;code>context&lt;/code>ÔºåÊï¥‰∏™ React ÁªÑ‰ª∂Ê†ë‰ºöÊã•Êúâ‰∏Ä‰∏™&lt;code>context&lt;/code>ÂØπË±°ÔºåÂÆÉÂèØ‰ª•Ë¢´Ê†ë‰∏≠ÊåÇËΩΩÁöÑÊØè‰∏™ÁªÑ‰ª∂ÊâÄËÆøÈóÆÂà∞ÔºåÂÖ≥‰∫éÊ≠§ÈÉ®ÂàÜÊõ¥Â§öÁöÑÂÜÖÂÆπËØ∑ÂèÇËÄÉ&lt;a href="https://github.com/krasimir/react-in-patterns/tree/master/patterns/dependency-injection" target="_blank" rel="noopener">‰æùËµñÊ≥®ÂÖ•&lt;/a>Ëøô‰∏ÄÁ´†ËäÇ„ÄÇ&lt;/p>
&lt;h2 id="output">Output&lt;/h2>
&lt;p>ÁªÑ‰ª∂ÊúÄÊòéÊòæÁöÑËæìÂá∫Â∞±ÊòØÊ∏≤ÊüìÂêéÁöÑ HTML ÊñáÊú¨ÔºåÂç≥ÊòØ React ÁªÑ‰ª∂Ê∏≤ÊüìÁªìÊûúÁöÑÂèØËßÜÂåñÂ±ïÁ§∫„ÄÇÂΩìÁÑ∂ÔºåÈÉ®ÂàÜÂåÖÂê´‰∫ÜÈÄªËæëÁöÑÁªÑ‰ª∂‰πüÂèØËÉΩÂèëÈÄÅÊàñËÄÖËß¶ÂèëÊüê‰∫õ Action ÊàñËÄÖ Event„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-class" data-lang="class"> render() {
return (
&amp;lt;h1&amp;gt;
&amp;lt;a onClick={ this.props.logoClicked }&amp;gt;
&amp;lt;img src=&amp;#39;path/to/logo.png&amp;#39; /&amp;gt;
&amp;lt;/a&amp;gt;
&amp;lt;/h1&amp;gt;
);
}
};
class App extends React.Component {
render() {
return &amp;lt;Title logoClicked={ this.logoClicked } /&amp;gt;;
}
logoClicked() {
console.log(&amp;#39;logo clicked&amp;#39;);
}
};
&lt;/code>&lt;/pre>&lt;p>Âú®&lt;code>App&lt;/code>ÁªÑ‰ª∂‰∏≠Êàë‰ª¨Âêë&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰º†ÂÖ•‰∫ÜÂèØ‰ª•‰ªé&lt;code>Title&lt;/code>Ë∞ÉÁî®ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂú®&lt;code>logoClicked&lt;/code>ÂáΩÊï∞‰∏≠Êàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÊàñËÄÖ‰øÆÊîπÈúÄË¶Å‰º†ÂõûÁà∂ÁªÑ‰ª∂ÁöÑÊï∞ÊçÆ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåReact Âπ∂Ê≤°ÊúâÊèê‰æõÂèØ‰ª•ËÆøÈóÆÂ≠êÁªÑ‰ª∂Áä∂ÊÄÅÁöÑ APIÔºåÊç¢Ë®Ä‰πãÔºåÊàë‰ª¨‰∏çËÉΩ‰ΩøÁî®&lt;code>this.props.children[0].state&lt;/code>ÊàñËÄÖÁ±ª‰ººÁöÑÊñπÊ≥ï„ÄÇÊ≠£Á°ÆÁöÑ‰ªéÂ≠êÁªÑ‰ª∂‰∏≠Ëé∑ÂèñÊï∞ÊçÆÁöÑÊñπÊ≥ïÂ∫îËØ•ÊòØÂú® Props ‰∏≠‰º†ÂÖ•ÂõûË∞ÉÂáΩÊï∞ÔºåËÄåËøôÁßçÈöîÁ¶ª‰πüÊúâÂä©‰∫éÊàë‰ª¨ÂÆö‰πâÊõ¥Âä†Ê∏ÖÊô∞ÁöÑ API Âπ∂‰∏î‰øÉËøõ‰∫ÜÊâÄË∞ìÂçïÂêëÊï∞ÊçÆÊµÅ„ÄÇ&lt;/p>
&lt;h1 id="composition">Composition&lt;/h1>
&lt;p>React ÊúÄÂ§ßÁöÑÁâπÊÄß‰πã‰∏ÄÂç≥ÊòØÂÖ∂Âº∫Â§ßÁöÑÁªÑ‰ª∂ÁöÑÂèØÁªÑÂêàÊÄßÔºåÂÆûÈôÖ‰∏äÈô§‰∫Ü React ‰πãÂ§ñÔºåÁ¨îËÄÖÂπ∂‰∏çÁü•ÈÅìËøòÊúâÂì™‰∏™Ê°ÜÊû∂ËÉΩÂ§üÊèê‰æõÂ¶ÇÊ≠§ÁÆÄÂçïÊòìÁî®ÁöÑÊñπÂºèÊù•ÂàõÂª∫‰∏éÁªÑÂêàÂêÑÂºèÂêÑÊ†∑ÁöÑÁªÑ‰ª∂„ÄÇÊú¨Á´†Êàë‰ª¨‰ºö‰∏ÄËµ∑ËÆ®ËÆ∫‰∫õÂ∏∏Áî®ÁöÑÁªÑÂêàÊäÄÂ∑ßÔºåÊàë‰ª¨‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÊù•ËøõË°åËÆ≤Ëß£„ÄÇÂÅáËÆæÂú®Êàë‰ª¨ÁöÑÂ∫îÁî®‰∏≠Êúâ‰∏Ä‰∏™È°µÈ¶ñÊ†èÁõÆÔºåÂπ∂‰∏îÂÖ∂‰∏≠ÊîæÁΩÆ‰∫ÜÂØºËà™Ê†è„ÄÇÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏â‰∏™Áã¨Á´ãÁöÑ React ÁªÑ‰ª∂:&lt;code>App&lt;/code>,&lt;code>Header&lt;/code>‰ª•Âèä&lt;code>Navigation&lt;/code>„ÄÇÂ∞ÜËøô‰∏â‰∏™ÁªÑ‰ª∂‰æùÊ¨°ÂµåÂ•óÁªÑÂêàÔºåÂèØ‰ª•ÂæóÂà∞‰ª•‰∏ãÁöÑ‰ª£Á†Å:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-&lt;App>" data-lang="&lt;App>"> &amp;lt;Header&amp;gt;
&amp;lt;Navigation&amp;gt; ... &amp;lt;/Navigation&amp;gt;
&amp;lt;/Header&amp;gt;
&amp;lt;/App&amp;gt;
&lt;/code>&lt;/pre>&lt;p>ËÄåÂú® JSX ‰∏≠ÁªÑÂêàËøô‰∫õÁªÑ‰ª∂ÁöÑÊñπÂºèÂ∞±ÊòØÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂºïÁî®ÂÆÉ‰ª¨:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">import Header from &amp;#39;./Header.jsx&amp;#39;;
export default class App extends React.Component {
render() {
return &amp;lt;Header /&amp;gt;;
}
}
// Header.jsx
import Navigation from &amp;#39;./Navigation.jsx&amp;#39;;
export default class Header extends React.Component {
render() {
return &amp;lt;header&amp;gt;&amp;lt;Navigation /&amp;gt;&amp;lt;/header&amp;gt;;
}
}
// Navigation.jsx
export default class Navigation extends React.Component {
render() {
return (&amp;lt;nav&amp;gt; ... &amp;lt;/nav&amp;gt;);
}
}
&lt;/code>&lt;/pre>&lt;p>‰∏çËøáËøôÁßçÊñπÂºèÂç¥ÂèØËÉΩÂ≠òÂú®‰ª•‰∏ãÁöÑÈóÆÈ¢ò:&lt;/p>
&lt;ul>
&lt;li>Êàë‰ª¨Â∞Ü&lt;code>App&lt;/code>ÂΩìÂÅöÂêÑ‰∏™ÁªÑ‰ª∂Èó¥ÁöÑËøûÊé•Á∫øÔºå‰πüÊòØÊï¥‰∏™Â∫îÁî®ÁöÑÂÖ•Âè£ÔºåÂõ†Ê≠§Âú®&lt;code>App&lt;/code>‰∏≠ËøõË°åÂêÑ‰∏™Áã¨Á´ãÁªÑ‰ª∂ÁöÑÁªÑÂêàÊòØ‰∏™‰∏çÈîôÁöÑÊñπÊ≥ï„ÄÇ‰∏çËøá&lt;code>Header&lt;/code>ÂÖÉÁ¥†‰∏≠ÂèØËÉΩÂåÖÂê´ÂÉèÂõæÊ†á„ÄÅÊêúÁ¥¢Ê†èÊàñËÄÖ Slogan ËøôÊ†∑ÁöÑÂÖÉÁ¥†„ÄÇËÄåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂè¶‰∏Ä‰∏™‰∏çÂåÖÂê´&lt;code>Navigation&lt;/code>ÂäüËÉΩÁöÑ&lt;code>Header&lt;/code>ÁªÑ‰ª∂Êó∂ÔºåÂÉè‰∏äÈù¢ËøôÁßçÁõ¥Êé•Â∞Ü&lt;code>Navigation&lt;/code>ÁªÑ‰ª∂Á°¨ÁºñÁ†ÅËøõÂÖ•&lt;code>Header&lt;/code>ÁöÑÊñπÂºèÂ∞±‰ºöÈöæ‰∫é‰øÆÊîπ„ÄÇ&lt;/li>
&lt;li>ËøôÁßçÁ°¨ÁºñÁ†ÅÁöÑÊñπÂºè‰ºöÈöæ‰ª•ÊµãËØïÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®&lt;code>Header&lt;/code>‰∏≠Âä†ÂÖ•‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑ‰∏öÂä°ÈÄªËæë‰ª£Á†ÅÔºåÈÇ£‰πàÂú®ÊµãËØïÁöÑÊó∂ÂÄôÂΩìÊàë‰ª¨Ë¶ÅÂàõÂª∫&lt;code>Header&lt;/code>ÂÆû‰æãÊó∂ÔºåÂõ†‰∏∫ÂÖ∂‰æùËµñ‰∫éÂÖ∂‰ªñÁªÑ‰ª∂ËÄåÂØºËá¥‰∫ÜËøôÁßç‰æùËµñÂ±ÇÊ¨°ËøáÊ∑±(ËøôÈáå‰∏çÂåÖÂê´&lt;a href="https://facebook.github.io/react/docs/test-utils.html#shallow-rendering" target="_blank" rel="noopener">Shallow Rendering&lt;/a>ËøôÁßç‰ªÖÊ∏≤ÊüìÁà∂ÁªÑ‰ª∂ËÄå‰∏çÊ∏≤ÊüìÂµåÂ•óÁöÑÂ≠êÁªÑ‰ª∂ÊñπÂºè)„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="‰ΩøÁî®-react-ÁöÑchildrenapi">‰ΩøÁî® React ÁöÑ&lt;code>children&lt;/code>API&lt;/h2>
&lt;p>React ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü&lt;code>this.props.children&lt;/code>Êù•ÂÖÅËÆ∏Áà∂ÁªÑ‰ª∂ËÆøÈóÆÂÖ∂Â≠êÁªÑ‰ª∂ÔºåËøôÁßçÊñπÂºèÊúâÂä©‰∫é‰øùËØÅÊàë‰ª¨ÁöÑ&lt;code>Header&lt;/code>Áã¨Á´ãÂπ∂‰∏î‰∏çÈúÄË¶Å‰∏éÂÖ∂‰ªñÁªÑ‰ª∂Ëß£ËÄ¶Âêà„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">export default class App extends React.Component {
render() {
return (
&amp;lt;Header&amp;gt;
&amp;lt;Navigation /&amp;gt;
&amp;lt;/Header&amp;gt;
);
}
}
// Header.jsx
export default class Header extends React.Component {
render() {
return &amp;lt;header&amp;gt;{ this.props.children }&amp;lt;/header&amp;gt;;
}
};
&lt;/code>&lt;/pre>&lt;p>ËøôÁßçÊñπÂºè‰πüÊúâÂä©‰∫éÊµãËØïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©ËæìÂÖ•Á©∫ÁôΩÁöÑ&lt;code>div&lt;/code>ÂÖÉÁ¥†Ôºå‰ªéËÄåÂ∞ÜË¶ÅÊµãËØïÁöÑÁõÆÊ†áÂÖÉÁ¥†ÈöîÁ¶ªÂºÄÊù•ËÄå‰∏ìÊ≥®‰∫éÊàë‰ª¨ÈúÄË¶ÅÊµãËØïÁöÑÈÉ®ÂàÜ„ÄÇ&lt;/p>
&lt;h2 id="Â∞ÜÂ≠êÁªÑ‰ª∂‰ª•Â±ûÊÄßÊñπÂºè‰º†ÂÖ•">Â∞ÜÂ≠êÁªÑ‰ª∂‰ª•Â±ûÊÄßÊñπÂºè‰º†ÂÖ•&lt;/h2>
&lt;p>React ÁªÑ‰ª∂ÂèØ‰ª•Êé•Âèó Props ‰Ωú‰∏∫ËæìÂÖ•ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄâÊã©Â∞ÜÈúÄË¶ÅÂ∞ÅË£ÖÁöÑÁªÑ‰ª∂‰ª• Props ÊñπÂºè‰º†ÂÖ•:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">class App extends React.Component {
render() {
var title = &amp;lt;h1&amp;gt;Hello there!&amp;lt;/h1&amp;gt;;
return (
&amp;lt;Header title={ title }&amp;gt;
&amp;lt;Navigation /&amp;gt;
&amp;lt;/Header&amp;gt;
);
}
};
// Header.jsx
export default class Header extends React.Component {
render() {
return (
&amp;lt;header&amp;gt;
{ this.props.title }
&amp;lt;hr /&amp;gt;
{ this.props.children }
&amp;lt;/header&amp;gt;
);
}
};
&lt;/code>&lt;/pre>&lt;p>ËøôÁßçÊñπÂºèÂú®Êàë‰ª¨ÈúÄË¶ÅÂØπ‰º†ÂÖ•ÁöÑÂæÖÁªÑÂêàÁªÑ‰ª∂ËøõË°å‰∏Ä‰∫õ‰øÆÊ≠£Êó∂ÈùûÂ∏∏ÈÄÇÁî®„ÄÇ&lt;/p>
&lt;h1 id="higher-order-components">Higher-order components&lt;/h1>
&lt;p>Higher-Order Components Ê®°ÂºèÁúã‰∏äÂéªÈùûÂ∏∏Á±ª‰ºº‰∫éË£ÖÈ•∞Âô®Ê®°ÂºèÔºåÂÆÉ‰ºöÁî®‰∫éÂåÖË£πÊüê‰∏™ÁªÑ‰ª∂ÁÑ∂Âêé‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∫õÊñ∞ÁöÑÂäüËÉΩ„ÄÇËøôÈáåÂ±ïÁ§∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁî®‰∫éÊûÑÈÄ† Higher-Order Component ÁöÑÂáΩÊï∞:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var"> class Enhance extends React.Component {
render() {
return (
&amp;lt;Component
{...this.state}
{...this.props}
/&amp;gt;
)
}
};
export default enhanceComponent;
&lt;/code>&lt;/pre>&lt;p>ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊàë‰ª¨‰ºöÊûÑÂª∫‰∏Ä‰∏™Â∑•ÂéÇÂáΩÊï∞ÔºåÊé•Êî∂ÂéüÂßãÁöÑÁªÑ‰ª∂ÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™ÊâÄË∞ìÁöÑÂ¢ûÂº∫ÊàñËÄÖÂåÖË£πÂêéÁöÑÁâàÊú¨ÔºåË≠¨Â¶Ç:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var">class App extends React.Component {
render() {
return React.createElement(enhanceComponent(OriginalComponent));
}
};
&lt;/code>&lt;/pre>&lt;p>‰∏ÄËà¨Êù•ËØ¥ÔºåÈ´òÈò∂ÁªÑ‰ª∂ÁöÑÈ¶ñË¶ÅÂ∑•‰ΩúÂ∞±ÊòØÊ∏≤ÊüìÂéüÂßãÁöÑÁªÑ‰ª∂ÔºåÊàë‰ª¨ÁªèÂ∏∏‰πü‰ºöÂ∞Ü Props ‰∏é State ‰º†ÈÄíËøõÂéªÔºåÂ∞ÜËøô‰∏§‰∏™Â±ûÊÄß‰º†ÈÄíËøõÂéª‰ºöÊúâÂä©‰∫éÊàë‰ª¨Âª∫Á´ã‰∏Ä‰∏™Êï∞ÊçÆ‰ª£ÁêÜ„ÄÇHOC Ê®°ÂºèÂÖÅËÆ∏Êàë‰ª¨ÊéßÂà∂ÁªÑ‰ª∂ÁöÑËæìÂÖ•ÔºåÂç≥Â∞ÜÈúÄË¶Å‰º†ÂÖ•ÁöÑÊï∞ÊçÆ‰ª• Props ‰º†ÈÄíËøõÂéª„ÄÇË≠¨Â¶ÇÊàë‰ª¨ÈúÄË¶Å‰∏∫ÂéüÂßãÁªÑ‰ª∂Ê∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var">var enhanceComponent = (Component) =&amp;gt;
class Enhance extends React.Component {
render() {
return (
&amp;lt;Component
{...this.state}
{...this.props}
title={ config.appTitle }
/&amp;gt;
)
}
};
&lt;/code>&lt;/pre>&lt;p>ËøôÈáåÂØπ‰∫é&lt;code>configuration&lt;/code>ÁöÑÁªÜËäÇÂÆûÁé∞‰ºöË¢´ÈöêËóèÂà∞È´òÈò∂ÁªÑ‰ª∂‰∏≠ÔºåÂéüÂßãÁªÑ‰ª∂Âè™ÈúÄË¶Å‰∫ÜËß£‰ªé Props ‰∏≠Ëé∑ÂèñÂà∞&lt;code>title&lt;/code>ÂèòÈáèÁÑ∂ÂêéÊ∏≤ÊüìÂà∞ÁïåÈù¢‰∏ä„ÄÇÂéüÂßãÁªÑ‰ª∂Âπ∂‰∏ç‰ºöÂÖ≥ÂøÉÂèòÈáèÂ≠ò‰∫é‰ΩïÂú∞Ôºå‰ªé‰ΩïËÄåÊù•ÔºåËøôÁßçÊ®°ÂºèÊúÄÂ§ßÁöÑ‰ºòÂäøÂú®‰∫éÊàë‰ª¨ËÉΩÂ§ü‰ª•Áã¨Á´ãÁöÑÊ®°ÂºèÂØπËØ•ÁªÑ‰ª∂ËøõË°åÊµãËØïÔºåÂπ∂‰∏îÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞ÂØπËØ•ÁªÑ‰ª∂ËøõË°å Mocking„ÄÇÂú® HOC Ê®°Âºè‰∏ãÊàë‰ª¨ÁöÑÂéüÂßãÁªÑ‰ª∂‰ºöÂèòÊàêËøôÊ†∑Â≠ê:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var">&lt;/code>&lt;/pre>&lt;h1 id="dependency-injection">Dependency injection&lt;/h1>
&lt;p>Êàë‰ª¨ÂÜôÁöÑÂ§ßÈÉ®ÂàÜÁªÑ‰ª∂‰∏éÊ®°ÂùóÈÉΩ‰ºöÂåÖÂê´‰∏Ä‰∫õ‰æùËµñÔºåÂêàÈÄÇÁöÑ‰æùËµñÁÆ°ÁêÜÊúâÂä©‰∫éÂàõÂª∫ËâØÂ•ΩÂèØÁª¥Êä§ÁöÑÈ°πÁõÆÁªìÊûÑ„ÄÇËÄåÊâÄË∞ìÁöÑ‰æùËµñÊ≥®ÂÖ•ÊäÄÊúØÊ≠£ÊòØËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂ∏∏Áî®ÊäÄÂ∑ßÔºåÊó†ËÆ∫ÊòØÂú® Java ËøòÊòØÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫è‰∏≠Ôºå‰æùËµñÊ≥®ÂÖ•ÈÉΩÂèóÂà∞‰∫ÜÂπøÊ≥õÁöÑ‰ΩøÁî®„ÄÇËÄå React ‰∏≠ÂØπ‰∫é‰æùËµñÊ≥®ÂÖ•ÁöÑÈúÄË¶Å‰πüÊòØÊòæËÄåÊòìËßÅÁöÑÔºåËÆ©Êàë‰ª¨ÂÅáËÆæÊúâÂ¶Ç‰∏ãÁöÑÂ∫îÁî®Ê†ëÁªìÊûÑ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">export default function Title(props) {
return &amp;lt;h1&amp;gt;{ props.title }&amp;lt;/h1&amp;gt;;
}
// Header.jsx
import Title from &amp;#39;./Title.jsx&amp;#39;;
export default function Header() {
return (
&amp;lt;header&amp;gt;
&amp;lt;Title /&amp;gt;
&amp;lt;/header&amp;gt;
);
}
// App.jsx
import Header from &amp;#39;./Header.jsx&amp;#39;;
class App extends React.Component {
constructor(props) {
super(props);
this.state = { title: &amp;#39;React in patterns&amp;#39; };
}
render() {
return &amp;lt;Header /&amp;gt;;
}
};
&lt;/code>&lt;/pre>&lt;p>&lt;code>title&lt;/code>Ëøô‰∏™ÂèòÈáèÁöÑÂÄºÊòØÂú®&lt;code>App&lt;/code>ÁªÑ‰ª∂‰∏≠Ë¢´ÂÆö‰πâÂ•ΩÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÖ∂‰º†ÂÖ•Âà∞&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰∏≠„ÄÇÊúÄÁõ¥Êé•ÁöÑÊñπÊ≥ïÂ∞±ÊòØÂ∞ÜÂÖ∂‰ªé&lt;code>App&lt;/code>ÁªÑ‰ª∂‰º†ÂÖ•Âà∞&lt;code>Header&lt;/code>ÁªÑ‰ª∂ÔºåÁÑ∂ÂêéÂÜçÁî±&lt;code>Header&lt;/code>ÁªÑ‰ª∂‰º†ÂÖ•Âà∞&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰∏≠„ÄÇËøôÁßçÊñπÊ≥ïÂú®ËøôÈáåÊèèËø∞ÁöÑÁÆÄÂçïÁöÑ‰ªÖÊúâ‰∏â‰∏™ÁªÑ‰ª∂ÁöÑÂ∫îÁî®‰∏≠ËøòÊòØÈùûÂ∏∏Ê∏ÖÊô∞ÂèØÁª¥Êä§ÁöÑÔºå‰∏çËøáÈöèÁùÄÈ°πÁõÆÂäüËÉΩ‰∏éÂ§çÊùÇÂ∫¶ÁöÑÂ¢ûÂä†ÔºåËøôÁßçÂ±ÇÊ¨°ÂåñÁöÑ‰º†ÂÄºÊñπÂºè‰ºöÂØºËá¥ÂæàÂ§öÁöÑÁªÑ‰ª∂Ë¶ÅÂéªËÄÉËôëÂÆÉ‰ª¨Âπ∂‰∏çÈúÄË¶ÅÁöÑÂ±ûÊÄß„ÄÇÂú®‰∏äÊñáÊâÄËÆ≤ÁöÑ HOC Ê®°Âºè‰∏≠Êàë‰ª¨Â∑≤Áªè‰ΩøÁî®‰∫ÜÊï∞ÊçÆÊ≥®ÂÖ•ÁöÑÊñπÂºèÔºåËøôÈáåÊàë‰ª¨‰ΩøÁî®ÂêåÊ†∑ÁöÑÊäÄÊúØÊù•Ê≥®ÂÖ•&lt;code>title&lt;/code>ÂèòÈáè:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">var title = &amp;#39;React in patterns&amp;#39;;
var enhanceComponent = (Component) =&amp;gt;
class Enhance extends React.Component {
render() {
return (
&amp;lt;Component
{...this.state}
{...this.props}
title={ title }
/&amp;gt;
)
}
};
export default enhanceComponent;
// Header.jsx
import enhance from &amp;#39;./enhance.jsx&amp;#39;;
import Title from &amp;#39;./Title.jsx&amp;#39;;
var EnhancedTitle = enhance(Title);
export default function Header() {
return (
&amp;lt;header&amp;gt;
&amp;lt;EnhancedTitle /&amp;gt;
&amp;lt;/header&amp;gt;
);
}
&lt;/code>&lt;/pre>&lt;p>Âú®‰∏äÊñáËøôÁßç HOC Ê®°Âºè‰∏≠Ôºå&lt;code>title&lt;/code>ÂèòÈáèË¢´ÂåÖÂê´Âú®‰∫Ü‰∏Ä‰∏™ÈöêËóèÁöÑ‰∏≠Èó¥Â±Ç‰∏≠ÔºåÊàë‰ª¨Â∞ÜÂÖ∂‰Ωú‰∏∫ Props ÂÄº‰º†ÂÖ•Âà∞ÂéüÂßãÁöÑ&lt;code>Title&lt;/code>ÂèòÈáè‰∏≠Âπ∂‰∏îÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÁªÑ‰ª∂„ÄÇËøôÁßçÊñπÂºèÊÄùÊÉ≥ÊòØ‰∏çÈîôÔºå‰∏çËøáËøòÊòØÂè™Ëß£ÂÜ≥‰∫ÜÈÉ®ÂàÜÈóÆÈ¢ò„ÄÇÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•‰∏çÂéªÊòæÂºèÂú∞Â∞Ü&lt;code>title&lt;/code>ÂèòÈáè‰º†ÈÄíÂà∞&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰∏≠Âç≥ÂèØ‰ª•ËææÂà∞ÂêåÊ†∑ÁöÑ&lt;code>enhance.jsx&lt;/code>ÊïàÊûú„ÄÇ
React ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü&lt;code>context&lt;/code>ÁöÑÊ¶ÇÂøµÔºå&lt;code>context&lt;/code>ÊòØË¥ØÁ©ø‰∫éÊï¥‰∏™ React ÁªÑ‰ª∂Ê†ëÂÖÅËÆ∏ÊØè‰∏™ÁªÑ‰ª∂ËÆøÈóÆÁöÑÂØπË±°„ÄÇÊúâÁÇπÂÉèÊâÄË∞ìÁöÑ Event BusÔºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÂ¶Ç‰∏ãÊâÄÁ§∫:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">var context = { title: &amp;#39;React in patterns&amp;#39; };
class App extends React.Component {
getChildContext() {
return context;
}
...
};
App.childContextTypes = {
title: React.PropTypes.string
};
// a place where we need data
class Inject extends React.Component {
render() {
var title = this.context.title;
...
}
}
Inject.contextTypes = {
title: React.PropTypes.string
};
&lt;/code>&lt;/pre>&lt;p>Ê≥®ÊÑèÔºåÊàë‰ª¨Ë¶Å‰ΩøÁî® context ÂØπË±°ÂøÖÈ°ªË¶ÅÈÄöËøá&lt;code>childContextTypes&lt;/code>‰∏é&lt;code>contextTypes&lt;/code>ÊåáÊòéÂÖ∂ÊûÑÊàê„ÄÇÂ¶ÇÊûúÂú®&lt;code>context&lt;/code>ÂØπË±°‰∏≠Êú™ÊåáÊòéËøô‰∫õÈÇ£‰πà&lt;code>context&lt;/code>‰ºöË¢´ËÆæÁΩÆ‰∏∫Á©∫ÔºåËøôÂèØËÉΩ‰ºöÊ∑ªÂä†‰∫õÈ¢ùÂ§ñÁöÑ‰ª£Á†Å„ÄÇÂõ†Ê≠§Êàë‰ª¨ÊúÄÂ•Ω‰∏çË¶ÅÂ∞Ü&lt;code>context&lt;/code>ÂΩìÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑ object ÂØπË±°ËÄå‰∏∫ÂÖ∂ËÆæÁΩÆ‰∏Ä‰∫õÂ∞ÅË£ÖÊñπÊ≥ï:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">export default {
data: {},
get(key) {
return this.data[key];
},
register(key, value) {
this.data[key] = value;
}
}
&lt;/code>&lt;/pre>&lt;p>ËøôÊ†∑ÔºåÊàë‰ª¨ÁöÑ&lt;code>App&lt;/code>ÁªÑ‰ª∂‰ºöË¢´ÊîπÈÄ†ÊàêËøôÊ†∑Â≠ê:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-import" data-lang="import">dependencies.register(&amp;#39;title&amp;#39;, &amp;#39;React in patterns&amp;#39;);
class App extends React.Component {
getChildContext() {
return dependencies;
}
render() {
return &amp;lt;Header /&amp;gt;;
}
};
App.childContextTypes = {
data: React.PropTypes.object,
get: React.PropTypes.func,
register: React.PropTypes.func
};
&lt;/code>&lt;/pre>&lt;p>ËÄåÂú®&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">export default class Title extends React.Component {
render() {
return &amp;lt;h1&amp;gt;{ this.context.get(&amp;#39;title&amp;#39;) }&amp;lt;/h1&amp;gt;
}
}
Title.contextTypes = {
data: React.PropTypes.object,
get: React.PropTypes.func,
register: React.PropTypes.func
};
&lt;/code>&lt;/pre>&lt;p>ÂΩìÁÑ∂Êàë‰ª¨‰∏çÂ∏åÊúõÂú®ÊØèÊ¨°Ë¶Å‰ΩøÁî®&lt;code>contextTypes&lt;/code>ÁöÑÊó∂ÂÄôÈÉΩÈúÄË¶ÅÊòæÂºèÂú∞Â£∞Êòé‰∏Ä‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËøô‰∫õÂ£∞ÊòéÁªÜËäÇÂåÖÂê´Âú®‰∏Ä‰∏™È´òÈò∂ÁªÑ‰ª∂‰∏≠„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">import wire from &amp;#39;./wire&amp;#39;;
function Title(props) {
return &amp;lt;h1&amp;gt;{ props.title }&amp;lt;/h1&amp;gt;;
}
export default wire(Title, [&amp;#39;title&amp;#39;], function resolve(title) {
return { title };
});
&lt;/code>&lt;/pre>&lt;p>ËøôÈáåÁöÑ&lt;code>wire&lt;/code>ÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ React ÁªÑ‰ª∂ÂØπË±°ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏ÄÁ≥ªÂàóÈúÄË¶ÅÊ≥®ÂÖ•ÁöÑ‰æùËµñÂÄºÔºåÊ≥®ÊÑèÔºåËøô‰∫õ‰æùËµñÂÄºÂä°ÂøÖÂ∑≤ÁªèË∞ÉÁî®Ëøá&lt;code>register&lt;/code>ÂáΩÊï∞„ÄÇÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÂàôÊòØÊâÄË∞ìÁöÑÊò†Â∞ÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂Â≠òÂÇ®Âú®&lt;code>context&lt;/code>‰∏≠ÁöÑÊüê‰∏™ÂéüÂßãÂÄºÁÑ∂ÂêéËøîÂõû React Props ‰∏≠ÈúÄË¶ÅÁöÑÂÄº„ÄÇÂõ†‰∏∫Âú®Ëøô‰∏™‰æãÂ≠êÈáå&lt;code>context&lt;/code>‰∏≠Â≠òÂÇ®ÁöÑÂÄº‰∏é&lt;code>Title&lt;/code>ÁªÑ‰ª∂‰∏≠ÈúÄË¶ÅÁöÑÂÄºÈÉΩÊòØ&lt;code>title&lt;/code>ÂèòÈáèÔºåÂõ†Ê≠§Êàë‰ª¨Áõ¥Êé•ËøîÂõûÂç≥ÂèØ„ÄÇ‰∏çËøáÂú®ÁúüÂÆûÁöÑÂ∫îÁî®‰∏≠ÂèØËÉΩÊòØ‰∏Ä‰∏™Êï∞ÊçÆÈõÜÂêà„ÄÅÈÖçÁΩÆÁ≠âÁ≠â„ÄÇ&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-export" data-lang="export"> class Inject extends React.Component {
render() {
var resolved = dependencies.map(this.context.get.bind(this.context));
var props = mapper(...resolved);
return React.createElement(Component, props);
}
}
Inject.contextTypes = {
data: React.PropTypes.object,
get: React.PropTypes.func,
register: React.PropTypes.func
};
return Inject;
};
&lt;/code>&lt;/pre>&lt;p>ËøôÈáåÁöÑ Inject Â∞±ÊòØÊüê‰∏™ÂèØ‰ª•ËÆøÈóÆ&lt;code>context&lt;/code>ÁöÑÈ´òÈò∂ÁªÑ‰ª∂ÔºåËÄå&lt;code>mapper&lt;/code>Â∞±ÊòØÁî®‰∫éÊé•Êî∂&lt;code>context&lt;/code>‰∏≠ÁöÑÊï∞ÊçÆÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫ÁªÑ‰ª∂ÊâÄÈúÄË¶ÅÁöÑ Props ÁöÑÂáΩÊï∞„ÄÇÂÆûÈôÖ‰∏äÁé∞Âú®Â§ßÈÉ®ÂàÜÁöÑ‰æùËµñÊ≥®ÂÖ•ÁöÑËß£ÂÜ≥ÊñπÊ°àÈÉΩÊòØÂü∫‰∫é&lt;code>context&lt;/code>ÔºåÊàëËßâÂæó‰∫ÜËß£ËøôÁßçÊñπÂºèÁöÑÂ∫ïÂ±ÇÂéüÁêÜËøòÊòØÂæàÊúâÊÑè‰πâÁöÑ„ÄÇË≠¨Â¶ÇÁé∞Âú®ÊµÅË°åÁöÑ&lt;code>Redux&lt;/code>ÔºåÂÖ∂Ê†∏ÂøÉÁöÑ&lt;code>connect&lt;/code>ÂáΩÊï∞‰∏é&lt;code>Provider&lt;/code>ÁªÑ‰ª∂ÈÉΩÊòØÂü∫‰∫é&lt;code>context&lt;/code>„ÄÇ&lt;/p>
&lt;h1 id="one-direction-data-flow">One direction data flow&lt;/h1>
&lt;p>ÂçïÂêëÊï∞ÊçÆÊµÅÊòØ React ‰∏≠‰∏ªË¶ÅÁöÑÊï∞ÊçÆÈ©±Âä®Ê®°ÂºèÔºåÂÖ∂Ê†∏ÂøÉÊ¶ÇÂøµÂú®‰∫éÁªÑ‰ª∂Âπ∂‰∏ç‰ºö‰øÆÊîπÂÆÉ‰ª¨Êé•Êî∂Âà∞ÁöÑÊï∞ÊçÆÔºåÂÆÉ‰ª¨Âè™ÊòØË¥üË¥£Êé•Êî∂Êñ∞ÁöÑÊï∞ÊçÆËÄåÂêéÈáçÊñ∞Ê∏≤ÊüìÂà∞ÁïåÈù¢‰∏äÊàñËÄÖÂèëÂá∫Êüê‰∫õ Action ‰ª•Ëß¶ÂèëÊüê‰∫õ‰∏ìÈó®ÁöÑ‰∏öÂä°‰ª£Á†ÅÊù•‰øÆÊîπÊï∞ÊçÆÂ≠òÂÇ®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÊàë‰ª¨ÂÖàËÆæÁΩÆ‰∏Ä‰∏™ÂåÖÂê´‰∏Ä‰∏™ÊåâÈíÆÁöÑ&lt;code>Switcher&lt;/code>ÁªÑ‰ª∂ÔºåÂΩìÊàë‰ª¨ÁÇπÂáªËØ•ÊåâÈíÆÊó∂‰ºöËß¶ÂèëÊüê‰∏™&lt;code>flag&lt;/code>ÂèòÈáèÁöÑÊîπÂèò:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-class" data-lang="class"> constructor(props) {
super(props);
this.state = { flag: false };
this._onButtonClick = e =&amp;gt; this.setState({ flag: !this.state.flag });
}
render() {
return (
&amp;lt;button onClick={ this._onButtonClick }&amp;gt;
{ this.state.flag ? &amp;#39;lights on&amp;#39; : &amp;#39;lights off&amp;#39; }
&amp;lt;/button&amp;gt;
);
}
};
// ... and we render it
class App extends React.Component {
render() {
return &amp;lt;Switcher /&amp;gt;;
}
};
&lt;/code>&lt;/pre>&lt;p>Ê≠§Êó∂Êàë‰ª¨Â∞ÜÊâÄÊúâÁöÑÊï∞ÊçÆÊîæÁΩÆÂà∞ÁªÑ‰ª∂ÂÜÖÔºåÊç¢Ë®Ä‰πãÔºå&lt;code>Switcher&lt;/code>ÊòØÂîØ‰∏ÄÁöÑÂåÖÂê´Êàë‰ª¨&lt;code>flag&lt;/code>ÂèòÈáèÁöÑÂú∞ÊñπÔºåÊàë‰ª¨Êù•Â∞ùËØï‰∏ãÂ∞ÜËøô‰∫õÊï∞ÊçÆÊâòÁÆ°‰∫é‰∏ìÈó®ÁöÑ Store ‰∏≠:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var"> _flag: false,
set: function(value) {
this._flag = value;
},
get: function() {
return this._flag;
}
};
class Switcher extends React.Component {
constructor(props) {
super(props);
this.state = { flag: false };
this._onButtonClick = e =&amp;gt; {
this.setState({ flag: !this.state.flag }, () =&amp;gt; {
this.props.onChange(this.state.flag);
});
}
}
render() {
return (
&amp;lt;button onClick={ this._onButtonClick }&amp;gt;
{ this.state.flag ? &amp;#39;lights on&amp;#39; : &amp;#39;lights off&amp;#39; }
&amp;lt;/button&amp;gt;
);
}
};
class App extends React.Component {
render() {
return &amp;lt;Switcher onChange={ Store.set.bind(Store) } /&amp;gt;;
}
};
&lt;/code>&lt;/pre>&lt;p>ËøôÈáåÁöÑ&lt;code>Store&lt;/code>ÂØπË±°ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂçï‰æãÂØπË±°ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ËÆæÁΩÆ‰∏éËé∑Âèñ&lt;code>_flag&lt;/code>Â±ûÊÄßÂÄº„ÄÇËÄåÈÄöËøáÂ∞Ü&lt;code>getter&lt;/code>ÂáΩÊï∞‰º†ÈÄíÂà∞ÁªÑ‰ª∂ÂÜÖÔºåÂèØ‰ª•ÂÖÅËÆ∏Êàë‰ª¨Âú®&lt;code>Store&lt;/code>Â§ñÈÉ®‰øÆÊîπËøô‰∫õÂèòÈáèÔºåÊ≠§Êó∂Êàë‰ª¨ÁöÑÂ∫îÁî®Â∑•‰ΩúÊµÅÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-User's" data-lang="User's"> |
Switcher -------&amp;gt; Store
&lt;/code>&lt;/pre>&lt;p>ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÂ∞Ü&lt;code>flag&lt;/code>ÂÄº‰øùÂ≠òÂà∞Êüê‰∏™ÂêéÁ´ØÊúçÂä°‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫ËØ•ÁªÑ‰ª∂ËÆæÁΩÆ‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂàùÂßãÁä∂ÊÄÅ„ÄÇÊ≠§Êó∂Â∞±‰ºöÂ≠òÂú®‰∏Ä‰∏™ÈóÆÈ¢òÂú®‰∫éÂêå‰∏Ä‰ªΩÊï∞ÊçÆ‰øùÂ≠òÂú®‰∫Ü‰∏§‰∏™Âú∞ÊñπÔºåÂØπ‰∫é UI ‰∏é&lt;code>Store&lt;/code>ÂàÜÂà´‰øùÂ≠ò‰∫ÜÂêÑËá™Áã¨Á´ãÁöÑÂÖ≥‰∫é&lt;code>flag&lt;/code>ÁöÑÊï∞ÊçÆÁä∂ÊÄÅÔºåÊàë‰ª¨Á≠â‰∫éÂú®&lt;code>Store&lt;/code>‰∏é&lt;code>Switcher&lt;/code>‰πãÈó¥Âª∫Á´ã‰∫ÜÂèåÂêëÁöÑÊï∞ÊçÆÊµÅ:&lt;code>Store ---&amp;gt; Switcher&lt;/code>‰∏é&lt;code>Switcher ---&amp;gt; Store&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-//" data-lang="//">&amp;lt;Switcher
value={ Store.get() }
onChange={ Store.set.bind(Store) } /&amp;gt;
// ... in Switcher component
constructor(props) {
super(props);
this.state = { flag: this.props.value };
...
&lt;/code>&lt;/pre>&lt;p>Ê≠§Êó∂Êàë‰ª¨ÁöÑÊï∞ÊçÆÊµÅÂêëÂèòÊàê‰∫Ü:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-User's" data-lang="User's"> |
Switcher &amp;lt;-------&amp;gt; Store
^ |
| |
| |
| v
Service communicating
with our backend
&lt;/code>&lt;/pre>&lt;p>Âú®ËøôÁßçÂèåÂêëÊï∞ÊçÆÊµÅ‰∏ãÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®Â§ñÈÉ®ÊîπÂèò‰∫Ü&lt;code>Store&lt;/code>‰∏≠ÁöÑÁä∂ÊÄÅ‰πãÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊîπÂèò‰πãÂêéÁöÑÊúÄÊñ∞ÂÄºÊõ¥Êñ∞Âà∞&lt;code>Switcher&lt;/code>‰∏≠ÔºåËøôÊ†∑‰πüÂú®Êó†ÂΩ¢‰πãÈó¥Â¢ûÂä†‰∫ÜÂ∫îÁî®ÁöÑÂ§çÊùÇÂ∫¶„ÄÇËÄåÂçïÂêëÊï∞ÊçÆÊµÅÂàôÊòØËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÂº∫Âà∂Âú®ÂÖ®Â±ÄÂè™‰øùÁïô‰∏Ä‰∏™Áä∂ÊÄÅÂ≠òÂÇ®ÔºåÈÄöÂ∏∏ÊòØÂ≠òÊîæÂú® Store ‰∏≠„ÄÇÂú®ÂçïÂêëÊï∞ÊçÆÊµÅ‰∏ãÔºåÊàë‰ª¨ÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∫õËÆ¢ÈòÖ Store ‰∏≠Áä∂ÊÄÅÊîπÂèòÁöÑÂìçÂ∫îÂáΩÊï∞:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-var" data-lang="var"> _handlers: [],
_flag: &amp;#39;&amp;#39;,
onChange: function(handler) {
this._handlers.push(handler);
},
set: function(value) {
this._flag = value;
this._handlers.forEach(handler =&amp;gt; handler())
},
get: function() {
return this._flag;
}
};
&lt;/code>&lt;/pre>&lt;p>ÁÑ∂ÂêéÊàë‰ª¨Âú®&lt;code>App&lt;/code>ÁªÑ‰ª∂‰∏≠ËÆæÁΩÆ‰∫ÜÈí©Â≠êÂáΩÊï∞ÔºåËøôÊ†∑ÊØèÊ¨°&lt;code>Store&lt;/code>ÊîπÂèòÂÖ∂ÂÄºÁöÑÊó∂ÂÄôÊàë‰ª¨ÈÉΩ‰ºöÂº∫Âà∂ÈáçÊñ∞Ê∏≤Êüì:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-class" data-lang="class"> constructor(props) {
super(props);
Store.onChange(this.forceUpdate.bind(this));
}
render() {
return (
&amp;lt;div&amp;gt;
&amp;lt;Switcher
value={ Store.get() }
onChange={ Store.set.bind(Store) } /&amp;gt;
&amp;lt;/div&amp;gt;
);
}
};
&lt;/code>&lt;/pre>&lt;p>Ê≥®ÊÑèÔºåËøôÈáå‰ΩøÁî®ÁöÑ&lt;code>forceUpdate&lt;/code>Âπ∂‰∏çÊòØ‰∏Ä‰∏™Êé®ËçêÁöÑÁî®Ê≥ïÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºö‰ΩøÁî® HOC Ê®°ÂºèÊù•ËøõË°åÈáçÊ∏≤ÊüìÔºåËøôÈáå‰ΩøÁî®&lt;code>forceUpdate&lt;/code>Âè™ÊòØÁî®‰∫éÊºîÁ§∫ËØ¥Êòé„ÄÇÂú®Âü∫‰∫é‰∏äËø∞ÁöÑÊîπÈÄ†ÔºåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÂú®ÁªÑ‰ª∂‰∏≠ÁªßÁª≠‰øùÁïôÂÜÖÈÉ®Áä∂ÊÄÅ:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-class" data-lang="class"> constructor(props) {
super(props);
this._onButtonClick = e =&amp;gt; {
this.props.onChange(!this.props.value);
}
}
render() {
return (
&amp;lt;button onClick={ this._onButtonClick }&amp;gt;
{ this.props.value ? &amp;#39;lights on&amp;#39; : &amp;#39;lights off&amp;#39; }
&amp;lt;/button&amp;gt;
);
}
};
&lt;/code>&lt;/pre>&lt;p>ËøôÁßçÊ®°ÂºèÁöÑ‰ºòÂäøÂú®‰∫é‰ºöÂ∞ÜÊàë‰ª¨ÁöÑÁªÑ‰ª∂ÊîπÈÄ†‰∏∫ÁÆÄÂçïÁöÑ&lt;code>Store&lt;/code>‰∏≠Êï∞ÊçÆÁöÑÂëàÁé∞ÔºåÊ≠§Êó∂ÊâçÊòØÁúüÊ≠£Êó†Áä∂ÊÄÅÁöÑ View„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ª•ÂÆåÂÖ®Â£∞ÊòéÂºèÁöÑÊñπÂºèÊù•ÁºñÂÜôÁªÑ‰ª∂ÔºåËÄåÂ∞ÜÂ∫îÁî®‰∏≠Â§çÊùÇÁöÑ‰∏öÂä°ÈÄªËæëÊîæÁΩÆÂà∞ÂçïÁã¨ÁöÑÂú∞Êñπ„ÄÇÊ≠§Êó∂Êàë‰ª¨Â∫îÁî®Á®ãÂ∫èÁöÑÊµÅÂõæÂèòÊàê‰∫Ü:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-Service" data-lang="Service">with our backend
^
|
v
Store &amp;lt;-----
||
v|
Switcher ----&amp;gt;
^
|
|
User input
&lt;/code>&lt;/pre>&lt;p>Âú®ËøôÁßçÂçïÂêëÊï∞ÊçÆÊµÅ‰∏≠Êàë‰ª¨‰∏çÂÜçÈúÄË¶ÅÂêåÊ≠•Á≥ªÁªü‰∏≠ÁöÑÂ§ö‰∏™ÈÉ®ÂàÜÔºåËøôÁßçÂçïÂêëÊï∞ÊçÆÊµÅÁöÑÊ¶ÇÂøµÂπ∂‰∏ç‰ªÖ‰ªÖÈÄÇÁî®‰∫éÂü∫‰∫é React ÁöÑÂ∫îÁî®„ÄÇ&lt;/p></description></item></channel></rss>