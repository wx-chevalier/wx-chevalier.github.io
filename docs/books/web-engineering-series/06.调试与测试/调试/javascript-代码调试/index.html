<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="JavaScript 代码调试实战 Chrome DevTools copy(objectName); Learn How To Debug JavaScript with Chrome DevTools 除了console.log，debugger就是另一个我很喜欢的快速调试的工具，将 debugger 加入代码之后，Chrome 会自动在插入它的地方停止，很像 C 或者 Java 里面打断点。你也"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/javascript-%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/javascript-%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/javascript-%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/"><meta property="og:title" content="JavaScript 代码调试 | Next-gen Tech Edu"><meta property="og:description" content="JavaScript 代码调试实战 Chrome DevTools copy(objectName); Learn How To Debug JavaScript with Chrome DevTools 除了console.log，debugger就是另一个我很喜欢的快速调试的工具，将 debugger 加入代码之后，Chrome 会自动在插入它的地方停止，很像 C 或者 Java 里面打断点。你也"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>JavaScript 代码调试 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=58d3656d3d80505b0aa0f5b34487980f><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">调试</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida2858cbe05145de5e759d291d33ad3d7")' href=#ida2858cbe05145de5e759d291d33ad3d7 aria-expanded=false aria-controls=ida2858cbe05145de5e759d291d33ad3d7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/>06.调试与测试</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida2858cbe05145de5e759d291d33ad3d7 aria-expanded=false aria-controls=ida2858cbe05145de5e759d291d33ad3d7><i class="fa-solid fa-angle-down" id=caret-ida2858cbe05145de5e759d291d33ad3d7></i></a></div><ul class="nav docs-sidenav collapse show" id=ida2858cbe05145de5e759d291d33ad3d7><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6f392caead0b52966859bd3e7d6363cd")' href=#id6f392caead0b52966859bd3e7d6363cd aria-expanded=false aria-controls=id6f392caead0b52966859bd3e7d6363cd aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/mock/>Mock</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6f392caead0b52966859bd3e7d6363cd aria-expanded=false aria-controls=id6f392caead0b52966859bd3e7d6363cd><i class="fa-solid fa-angle-right" id=caret-id6f392caead0b52966859bd3e7d6363cd></i></a></div><ul class="nav docs-sidenav collapse" id=id6f392caead0b52966859bd3e7d6363cd><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/mock/mock-service-worker/>Mock Service Worker</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id333e7201011884d96494cc63556463a2")' href=#id333e7201011884d96494cc63556463a2 aria-expanded=false aria-controls=id333e7201011884d96494cc63556463a2 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/>测试框架</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id333e7201011884d96494cc63556463a2 aria-expanded=false aria-controls=id333e7201011884d96494cc63556463a2><i class="fa-solid fa-angle-right" id=caret-id333e7201011884d96494cc63556463a2></i></a></div><ul class="nav docs-sidenav collapse" id=id333e7201011884d96494cc63556463a2><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2323a703add0b25063598a2e2d292ff8")' href=#id2323a703add0b25063598a2e2d292ff8 aria-expanded=false aria-controls=id2323a703add0b25063598a2e2d292ff8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/jest/>Jest</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2323a703add0b25063598a2e2d292ff8 aria-expanded=false aria-controls=id2323a703add0b25063598a2e2d292ff8><i class="fa-solid fa-angle-right" id=caret-id2323a703add0b25063598a2e2d292ff8></i></a></div><ul class="nav docs-sidenav collapse" id=id2323a703add0b25063598a2e2d292ff8><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/jest/dom-%E6%B5%8B%E8%AF%95/>DOM 测试</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/jest/mock/>Mock</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/jest/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/>基础语法</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/jest/%E5%BC%82%E6%AD%A5%E6%B5%8B%E8%AF%95/>异步测试</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id314bb0416d6662f073bcf8288076e534")' href=#id314bb0416d6662f073bcf8288076e534 aria-expanded=false aria-controls=id314bb0416d6662f073bcf8288076e534 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id149a88be558859e936a76914ba6a1568")' href=#id149a88be558859e936a76914ba6a1568 aria-expanded=false aria-controls=id149a88be558859e936a76914ba6a1568 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1d814840ed92791ee18206f241f47d6b")' href=#id1d814840ed92791ee18206f241f47d6b aria-expanded=false aria-controls=id1d814840ed92791ee18206f241f47d6b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/>调试</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1d814840ed92791ee18206f241f47d6b aria-expanded=false aria-controls=id1d814840ed92791ee18206f241f47d6b><i class="fa-solid fa-angle-down" id=caret-id1d814840ed92791ee18206f241f47d6b></i></a></div><ul class="nav docs-sidenav collapse show" id=id1d814840ed92791ee18206f241f47d6b><li class="child level active"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/javascript-%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/>JavaScript 代码调试</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/%E5%A4%9A%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8%E6%B5%8B%E8%AF%95/>多屏幕尺寸测试</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/%E6%A0%B7%E5%BC%8F%E4%B8%8E%E5%B8%83%E5%B1%80%E8%B0%83%E8%AF%95/>样式与布局调试</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idee09f3f2f9c47133fd160dbaf9d77985")' href=#idee09f3f2f9c47133fd160dbaf9d77985 aria-expanded=false aria-controls=idee09f3f2f9c47133fd160dbaf9d77985 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96/>浏览器自动化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idee09f3f2f9c47133fd160dbaf9d77985 aria-expanded=false aria-controls=idee09f3f2f9c47133fd160dbaf9d77985><i class="fa-solid fa-angle-right" id=caret-idee09f3f2f9c47133fd160dbaf9d77985></i></a></div><ul class="nav docs-sidenav collapse" id=idee09f3f2f9c47133fd160dbaf9d77985><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96/headless-chrome/>Headless-Chrome</a></li><li class="child level"><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96/puppeteer/>Puppeteer</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#格式化被压缩的代码>格式化被压缩的代码</a></li></ul><ul><li><a href=#nodejs>Node.js</a><ul><li><a href=#launchjson-调试配置>launch.json 调试配置</a></li></ul></li><li><a href=#typescript>TypeScript</a></li><li><a href=#react>React</a></li></ul><ul><li><a href=#格式化输出>格式化输出</a><ul><li><a href=#将-objects-以表格形式展示>将 Objects 以表格形式展示</a></li><li><a href=#在较复杂的调试情况下发现关键元素>在较复杂的调试情况下发现关键元素</a></li></ul></li><li><a href=#调用追踪>调用追踪</a><ul><li><a href=#获取某个函数的调用追踪记录>获取某个函数的调用追踪记录</a></li><li><a href=#快速定位调试函数>快速定位调试函数</a></li></ul></li><li><a href=#dom-辅助>DOM 辅助</a></li></ul><ul><li><a href=#google-developer-tools>Google Developer Tools</a></li><li><a href=#safari>Safari</a></li><li><a href=#weinre>Weinre</a></li><li><a href=#portable-console>Portable Console</a></li></ul><ul><li><a href=#信息分组>信息分组</a></li><li><a href=#显示某个节点的内容>显示某个节点的内容</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>JavaScript 代码调试</h1><div class=article-style><h1 id=javascript-代码调试实战>JavaScript 代码调试实战</h1><h1 id=chrome-devtools>Chrome DevTools</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>copy</span><span class=p>(</span><span class=nx>objectName</span><span class=p>);</span>
</span></span></code></pre></div><p><a href=https://parg.co/bDf target=_blank rel=noopener>Learn How To Debug JavaScript with Chrome DevTools</a></p><p>除了<code>console.log</code>，<code>debugger</code>就是另一个我很喜欢的快速调试的工具，将 debugger 加入代码之后，Chrome 会自动在插入它的地方停止，很像 C 或者 Java 里面打断点。你也可以在一些条件控制中插入该调试语句，譬如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>thisThing</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>debugger</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=格式化被压缩的代码>格式化被压缩的代码</h2><p>有时候在生产环境下我们发现了一些莫名奇妙的问题，然后忘了把 sourcemaps 放到这台服务器上，或者在看别人家的网站的源代码的时候，结果就看到了一坨不知道讲什么的代码，就像下图。Chrome 为我们提供了一个很人性化的反压缩工具来增强代码的可读性，大概这么用：<figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2016/05/Screenshot-2016-05-23-13.52.08.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=基于-vscode-的-nodejsreact-应用断点调试与单步执行>基于 VSCode 的 Node.js/React 应用断点调试与单步执行</h1><p>VS Code 是微软开源的现代化、跨平台、轻量级的代码编辑器，我们在 JavaScript 应用开发的过程中也作为首选的 IDE，本部分我们介绍如何使用 VS Code 进行应用的断点调试与单步执行。<a href=https://parg.co/UcA target=_blank rel=noopener>官方文档</a></p><h2 id=nodejs>Node.js</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sayHello</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Hello World&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>sayHello</span><span class=p>();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Koa</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;koa&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Koa</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>((</span><span class=nx>ctx</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>ctx</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=s2>&#34;Hello, World!&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ curl localhost:3000
</span></span></code></pre></div><p>点击 VSCode 工具栏中的调试-打开工具，可以看到 launch.json 文件，其默认配置如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Use IntelliSense to learn about possible Node.js debug attributes.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// Hover to view descriptions of existing attributes.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;node&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;launch&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Launch Program&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;${file}&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>值得一提的是，VSCode 允许添加条件断点，即执行到该行代码满足特定条件后程序才会中断。在断点小红点上右键选择编辑断点，可以选择两种条件，也可以组合表达式和命中次数条件一起使用：</p><ul><li>表达式：当表达式计算结果为 true 时中断；</li><li>命中次数：同样当表达式计算结果为 true 时中断，支持运算符 &lt;, &lt;=, ==, >, >=, %。如 >10：即执行 10 次以后断点才会生效</li></ul><h3 id=launchjson-调试配置>launch.json 调试配置</h3><p>launch.json 其实就是存储了一些调试相关的配置。VS Code 启动调试时，会读取 launch.json 决定以何种方式调试。launch.json 有以下常用选项：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;node&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;launch&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Launch Program&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;${file}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;cwd&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;node&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;attach&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Attach to Process&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;port&#34;</span><span class=p>:</span> <span class=mi>5858</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><p>必需字段：</p><ul><li>type：调试器类型。这里是 node(内置的调试器)，如果装了 Go 和 PHP 的扩展后对应的 type 分别为 go 和 php</li><li>request：请求的类型，目前只支持 launch 和 attach。launch 就是以 debug 模式启动调试，attach 就是附加到已经启动的进程开启 debug 模式并调试，跟上一篇提到的用 node -e &ldquo;process._debugProcess(PID)&rdquo; 作用一样</li><li>name：下拉菜单显示的名字</li></ul></li><li><p>可选字段(括号里表示适用的类型)：</p><ul><li>program：可执行文件或者调试器要运行的文件 (launch)</li><li>args：要传递给调试程序的参数 (launch)</li><li>env：环境变量 (launch)</li><li>cwd：当前执行目录 (launch)</li><li>address：ip 地址 (launch & attach)</li><li>port：端口号 (launch & attach)</li><li>skipFiles：想要忽略的文件，数组类型 (launch & attach)</li><li>processId：进程 PID (attach)</li></ul></li></ul><ul><li>变量替换：<ul><li>${workspaceRoot}：当前打开工程的路径</li><li>${file}：当前打开文件的路径</li><li>${fileBasename}：当前打开文件的名字，包含后缀名</li><li>${fileDirname}：当前打开文件所在的文件夹的路径</li><li>${fileExtname}：当前打开文件的后缀名</li><li>${cwd}：当前执行目录</li></ul></li></ul><p>我们也可以使用如下方式指明应用程序的启动位置</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>...</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=err>...</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceRoot}/app.js&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>我们也可以自己指定启动的目标文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>...</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=err>...</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;./node_modules/gulp/bin/gulpfile.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;myFolder/path/app.js&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;windows&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;myFolder\\path\\app.js&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>注意，这里需要针对 Windows、Linux 系统中不同的文件路径分隔符指定不同的路径。较为常用的 lanuch.json 中的自定义配置即是设置 skipFiles，即在显示当前断点的调用堆栈时候忽略某些 node_modules 中或者不关心的代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;version&#34;</span><span class=o>:</span> <span class=s2>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;configurations&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=p>...</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;skipFiles&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;${workspaceRoot}/node_modules/**/*.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;&lt;node_internals&gt;/**/*.js&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=typescript>TypeScript</h2><p><a href=https://parg.co/Uco target=_blank rel=noopener>这篇</a>文章中也介绍了如何在 VSCode 中调试 TypeScript 程序</p><pre tabindex=0><code>require(&#39;ts-node&#39;).register();
// Now we can load and run ./my-typescript-code.ts...
require(&#39;./my-typescript-code&#39;);
</code></pre><h2 id=react>React</h2><p><a href=https://parg.co/Ud5 target=_blank rel=noopener>这篇文章</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Chrome&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;chrome&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;launch&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://localhost:3000&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;webRoot&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceRoot}&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=控制台与日志>控制台与日志</h1><p>由于 console.log 是异步执行，可能会导致用户打印的结果与预期结果出现不一致：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>x</span><span class=o>:</span> <span class=mi>1</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>.</span><span class=nx>x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 控制台输出
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span><span class=o>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>x</span><span class=o>:</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>__proto__</span><span class=o>:</span> <span class=nb>Object</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>b</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>x</span><span class=o>:</span> <span class=mi>1</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>({</span> <span class=p>...</span><span class=nx>b</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>.</span><span class=nx>x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 控制台输出
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span><span class=o>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>x</span><span class=o>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>__proto__</span><span class=o>:</span> <span class=nb>Object</span><span class=p>;</span>
</span></span></code></pre></div><h2 id=格式化输出>格式化输出</h2><h3 id=将-objects-以表格形式展示>将 Objects 以表格形式展示</h3><p>有时候我们需要看一些复杂的对象的详细信息，最简单的方法就是用<code>console.log</code>然后展示成一个列表状，上下滚动进行浏览。不过似乎用<code>console.table</code>展示成列表会更好呦，大概是介个样子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>animals</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>animal</span><span class=o>:</span> <span class=s2>&#34;Horse&#34;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Henry&#34;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>43</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>animal</span><span class=o>:</span> <span class=s2>&#34;Dog&#34;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Fred&#34;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>13</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>animal</span><span class=o>:</span> <span class=s2>&#34;Cat&#34;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Frodo&#34;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span> <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>table</span><span class=p>(</span><span class=nx>animals</span><span class=p>);</span>
</span></span></code></pre></div><h3 id=在较复杂的调试情况下发现关键元素>在较复杂的调试情况下发现关键元素</h3><p>在一些复杂的调试环境下我们可能要输出很多行的内容，这时候我们习惯性的会用 console.log, console.debug, console.warn, console.info, console.error 这些来进行区分，然后就可以在 Inspector 中进行过滤。不过有时候我们还是希望能够自定义显示样式，你可以用 CSS 来定义个性化的信息样式：</p><pre tabindex=0><code>console.todo = function(msg) {
console.log(&#39; % c % s % s % s&#39;, &#39;color: yellow; background - color: black;&#39;, &#39;–&#39;, msg, &#39;–&#39;);
}

console.important = function(msg) {
console.log(&#39; % c % s % s % s&#39;, &#39;color: brown; font - weight: bold; text - decoration: underline;&#39;, &#39;–&#39;, msg, &#39;–&#39;);
}

console.todo(“This is something that&#39; s need to be fixed”);
console.important(&#39;This is an important message&#39;);
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-3.40.29-pm.png alt loading=lazy data-zoomable></div></div></figure></p><p>在<code>console.log()</code>中你可以使用<code>%s</code>来代表一个字符串, <code>%i</code> 来代表数字，以及 <code>%c</code> 来代表自定义的样式。</p><h2 id=调用追踪>调用追踪</h2><h3 id=获取某个函数的调用追踪记录>获取某个函数的调用追踪记录</h3><p>JavaScript 框架极大方便了我们的开发，但是也会带来大量的预定义的函数，譬如创建 View 的、绑定事件的等等，这样我们就不容易追踪我们自定义函数的调用过程了。虽然 JavaScript 不是一个非常严谨的语言，有时候很难搞清楚到底发生了啥，特别是当你需要审阅其他人的代码的时候。这时候<code>console.trace</code>就要起作用咯，它可以帮你进行函数调用的追踪。譬如下面的代码中我们要追踪出 car 对象中对于 funcZ 的调用过程：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>car</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>func1</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>func2</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>func2</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>func4</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>func3</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>func4</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>car</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Car</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>car</span><span class=p>.</span><span class=nx>funcX</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Car</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>brand</span> <span class=o>=</span> <span class=s2>&#34;volvo&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=s2>&#34;red&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>funcX</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>funcY</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>funcY</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>funcZ</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>funcZ</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>trace</span><span class=p>(</span><span class=s2>&#34;trace car&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>func1</span><span class=p>();</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-2.49.34-p2016-06-02m.png alt loading=lazy data-zoomable></div></div></figure>这边就可以清晰地看出 func1 调用了 func2，然后调用了 func4，func4 创建了 Car 的实例然后调用了 car.funcX。</p><h3 id=快速定位调试函数>快速定位调试函数</h3><p>当我们想在函数里加个断点的时候，一般会选择这么做：</p><ul><li>在 Inspector 中找到指定行，然后添加一个断点</li><li>在脚本中添加一个 debugger 调用</li></ul><p>不过这两种方法都存在一个小问题就是都要到对应的脚本文件中然后再找到对应的行，这样会比较麻烦。这边介绍一个相对快捷点的方法，就是在 console 中使用<code>debug(funcName)</code>然后脚本会在指定到对应函数的地方自动停止。这种方法有个缺陷就是无法在私有函数或者匿名函数处停止，所以还是要因时而异：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>func1</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>func2</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Car</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>funcX</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>funcY</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>funcY</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>funcZ</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>car</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Car</span><span class=p>();</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-3.32.06-pm.png alt loading=lazy data-zoomable></div></div></figure></p><h2 id=dom-辅助>DOM 辅助</h2><h1 id=远程调试>远程调试</h1><h2 id=google-developer-tools>Google Developer Tools</h2><p>Goggle&rsquo;s developer tools allow you to inspect any web page running in Chrome on Android by connecting the Android device (only 4.0 and newer) to your computer via USB. On your computer, you&rsquo;ll also need Chrome. To set this up, enable USB debugging on the device, and in your computer&rsquo;s Chrome, browse to <code>chrome://inspect</code> to discover the device. After you&rsquo;ve allowed the desktop access on the device, you can inspect and debug any web page that is viewed in Chrome on the device.</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://cdn.css-tricks.com/wp-content/uploads/2015/04/remote-debug-banner.png alt loading=lazy data-zoomable></div></div></figure></p><h2 id=safari>Safari</h2><p>This is possible for iOS as well, Safari to Safari. You also need to connect your device to the computer with USB. In the advanced Safari settings on the device, enable the option &ldquo;Web Inspector&rdquo;. Then open Safari on your computer, and in the &ldquo;Developer&rdquo; menu, you&rsquo;ll see a list of iOS devices currently connected to your computer by cable. For each device, you&rsquo;ll be able to inspect and debug any web page that is being displayed in Safari.</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://cdn.css-tricks.com/wp-content/uploads/2015/04/tools-hero.jpg alt loading=lazy data-zoomable></div></div></figure></p><h2 id=weinre>Weinre</h2><h2 id=portable-console>Portable Console</h2><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-03-at-9.13.07-am.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=在-console-快速选定-dom-元素>在 Console 快速选定 DOM 元素</h1><p>在 Elements 选择面板中选择某个 DOM 元素然后在 Console 中使用该元素也是非常常见的一个操作，Chrome Inspector 会缓存最后 5 个 DOM 元素在它的历史记录中，你可以用类似于 Shell 中的<code>$0</code>等方式来快速关联到元素。譬如下图的列表中有&rsquo;item-4′, &lsquo;item-3&rsquo;, &lsquo;item-2&rsquo;, &lsquo;item-1&rsquo;, &lsquo;item-0&rsquo;这几个元素，你可以这么使用：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-2.04.59-pm.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=禁止不相关的脚本运行>禁止不相关的脚本运行</h1><p>当我们开发现代网页的时候都会用一些第三方的框架或者库，它们几乎都是经过测试并且相对而言 Bug 较少的。不过当我们调试我们自己的脚本的时候也会一不小心跳到这些文件中，引发额外的调试任务。解决方案呢就是禁止这部分不需要调试的脚本运行，详情可见这篇文章：<a href=https://raygun.com/blog/2015/05/javascript-debugging-with-black-box/ target=_blank rel=noopener>javascript-debugging-with-black-box</a>。</p><h1 id=监测指定函数的调用与参数>监测指定函数的调用与参数</h1><p>在 Chrome 中可以监测指定函数的调用情况以及参数：</p><pre tabindex=0><code>var func1 = function(x, y, z) {
};
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-4.05.02-pm.png alt loading=lazy data-zoomable></div></div></figure></p><p>这种方式能够让你实时监控到底啥参数被传入到了指定函数中。</p><h1 id=console-中使用进行元素查询>Console 中使用$进行元素查询</h1><p>在 Console 中也可以使用$来进行类似于 querySelector 那样基于 CSS 选择器的查询，$(&lsquo;css-selector&rsquo;) 会返回满足匹配的第一个元素，而$$(&lsquo;css-selector&rsquo;) 会返回全部匹配元素。注意，如果你会多次使用到元素，那么别忘了将它们存入变量中。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-4.37.34-pm.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=postman>Postman</h1><p>很多人习惯用 Postman 进行 API 调试或者发起 Ajax 请求，不过别忘了你浏览器自带的也能做这个，并且你也不需要担心啥认证啊这些，因为 Cookie 都是自带帮你传送的，这些只要在 network 这个 tab 里就能进行，大概这样子：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2015/06/Screen-Shot-2015-06-02-at-5.28.31-pm.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=dom-变化检测>DOM 变化检测</h1><p>DOM 有时候还是很操蛋的，有时候压根不知道啥时候就变了，不过 Chrome 提供了一个小的功能就是当 DOM 发生变化的时候它会提醒你，你可以监测属性变化等等：<figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raygun.com/blog/wp-content/uploads/2016/05/Screenshot-2016-05-23-13.49.36.png alt=a loading=lazy data-zoomable></div></div></figure></p><h1 id=console>console</h1><pre tabindex=0><code>console.log(&#39;hello&#39;);
console.info(&#39;信息&#39;);
console.error(&#39;错误&#39;);
console.warn(&#39;警告&#39;);
</code></pre><p>console 上述的集中度支持 printf 的占位符格式，支持的占位符有：字符(%s)、整数(%d 或%i)、浮点数(%f)和对象(%o)</p><pre tabindex=0><code>&lt;script type=&#34;text/javascript&#34;&gt;
  console.log(&#34;%d年%d月%d日&#34;,2011,3,26);
&lt;/script&gt;
</code></pre><p>效果：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/110.jpg alt loading=lazy data-zoomable></div></div></figure></p><h2 id=信息分组>信息分组</h2><pre tabindex=0><code>console.group(&#34;第一组信息&#34;);
console.log(&#34;第一组第一条:我的博客(http://www.ido321.com)&#34;);
console.log(&#34;第一组第二条:CSDN(http://blog.csdn.net/u011043843)&#34;);
console.groupEnd();
console.group(&#34;第二组信息&#34;);
console.log(&#34;第二组第一条:程序爱好者QQ群: 259280570&#34;);
console.log(&#34;第二组第二条:欢迎你加入&#34;);
console.groupEnd();
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/26.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>console.dir()可以显示一个对象所有的属性和方法。</p><pre tabindex=0><code>var info = {
   blog:&#34;http://www.ido321.com&#34;,
   QQGroup:259280570,
   message:&#34;程序爱好者欢迎你的加入&#34;
   };
   console.dir(info);
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/33.jpg alt loading=lazy data-zoomable></div></div></figure></p><h2 id=显示某个节点的内容>显示某个节点的内容</h2><pre tabindex=0><code>&lt;div id=&#34;info&#34;&gt;
  &lt;h3&gt;我的博客：www.ido321.com&lt;/h3&gt;
  &lt;p&gt;程序爱好者:259280570,欢迎你的加入&lt;/p&gt;
&lt;/div&gt;
&lt;script type=&#34;text/javascript&#34;&gt;
  var info = document.getElementById(&#39;info&#39;);
  console.dirxml(info);
&lt;/script&gt;
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/43.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>console.assert()用来判断一个表达式或变量是否为真。如果结果为否，则在控制台输出一条相应信息，并且抛出一个异常。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>result</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>assert</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>year</span> <span class=o>=</span> <span class=mi>2014</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>assert</span><span class=p>(</span><span class=nx>year</span> <span class=o>==</span> <span class=mi>2018</span><span class=p>);</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/52.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>console.trace()用来追踪函数的调用轨迹。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=cm>/*函数是如何被调用的，在其中加入console.trace()方法就可以了*/</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>add</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>trace</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>add3</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>add3</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>add2</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>add2</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>add1</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>add1</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>add</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/61.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>console.time()和 console.timeEnd()，用来显示代码的运行时间。</p><pre tabindex=0><code>&lt;script type=&#34;text/javascript&#34;&gt;
    console.time(&#34;控制台计时器一&#34;);
    for(var i=0;i&lt;1000;i++){
       for(var j=0;j&lt;1000;j++){}
    }
    console.timeEnd(&#34;控制台计时器一&#34;);
&lt;/script&gt;
</code></pre><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/7.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>console.profile()的性能分析性能分析(Profiler)就是分析程序各个部分的运行时间，找出瓶颈所在，使用的方法是 console.profile()。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>   <span class=kd>function</span> <span class=nx>All</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=nx>alert</span><span class=p>(</span><span class=mi>11</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=nx>i</span><span class=o>&lt;</span><span class=mi>10</span><span class=p>;</span><span class=nx>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>     <span class=nx>funcA</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=nx>funcB</span><span class=p>(</span><span class=mi>10000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>funcA</span><span class=p>(</span><span class=nx>count</span><span class=p>){</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=nx>i</span><span class=o>&lt;</span><span class=nx>count</span><span class=p>;</span><span class=nx>i</span><span class=o>++</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>funcB</span><span class=p>(</span><span class=nx>count</span><span class=p>){</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=nx>i</span><span class=o>&lt;</span><span class=nx>count</span><span class=p>;</span><span class=nx>i</span><span class=o>++</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>profile</span><span class=p>(</span><span class=s1>&#39;性能分析器&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>All</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>profileEnd</span><span class=p>();</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://www.ido321.com/wp-content/uploads/2014/09/81.jpg alt loading=lazy data-zoomable></div></div></figure></p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/web-engineering-series/06.%E8%B0%83%E8%AF%95%E4%B8%8E%E6%B5%8B%E8%AF%95/%E8%B0%83%E8%AF%95/%E5%A4%9A%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8%E6%B5%8B%E8%AF%95/ rel=prev>多屏幕尺寸测试</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>