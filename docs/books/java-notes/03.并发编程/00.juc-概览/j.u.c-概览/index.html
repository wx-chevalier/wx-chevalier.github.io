<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="J.U.C 概览 JSR，全称 Java Specification Requests，即 Java 规范提案，主要是用于向 JCP(Java Community Process)提出新增标准化技术规范的正式请求。每次 JAVA 版本更新都会有对应的 JSR 更新，比如在 Java 8 版本中，其新特性 Lambda 表达式对应的是 JSR 3"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/00.juc-%E6%A6%82%E8%A7%88/j.u.c-%E6%A6%82%E8%A7%88/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.fab3cd1900ae35687457073b2d518207.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/00.juc-%E6%A6%82%E8%A7%88/j.u.c-%E6%A6%82%E8%A7%88/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/00.juc-%E6%A6%82%E8%A7%88/j.u.c-%E6%A6%82%E8%A7%88/"><meta property="og:title" content="J.U.C 概览 | Next-gen Tech Edu"><meta property="og:description" content="J.U.C 概览 JSR，全称 Java Specification Requests，即 Java 规范提案，主要是用于向 JCP(Java Community Process)提出新增标准化技术规范的正式请求。每次 JAVA 版本更新都会有对应的 JSR 更新，比如在 Java 8 版本中，其新特性 Lambda 表达式对应的是 JSR 3"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>J.U.C 概览 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=dfc501a21614a63a97fcfb51d1eb33c2><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">00.JUC 概览</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idba7815767eb0e11975f0299ddecaadf6")' href=#idba7815767eb0e11975f0299ddecaadf6 aria-expanded=false aria-controls=idba7815767eb0e11975f0299ddecaadf6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/>03.并发编程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idba7815767eb0e11975f0299ddecaadf6 aria-expanded=false aria-controls=idba7815767eb0e11975f0299ddecaadf6><i class="fa-solid fa-angle-down" id=caret-idba7815767eb0e11975f0299ddecaadf6></i></a></div><ul class="nav docs-sidenav collapse show" id=idba7815767eb0e11975f0299ddecaadf6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idccca0addee9a65ebd8a09b52b1eaa9ce")' href=#idccca0addee9a65ebd8a09b52b1eaa9ce aria-expanded=false aria-controls=idccca0addee9a65ebd8a09b52b1eaa9ce aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/00.juc-%E6%A6%82%E8%A7%88/>00.JUC 概览</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idccca0addee9a65ebd8a09b52b1eaa9ce aria-expanded=false aria-controls=idccca0addee9a65ebd8a09b52b1eaa9ce><i class="fa-solid fa-angle-down" id=caret-idccca0addee9a65ebd8a09b52b1eaa9ce></i></a></div><ul class="nav docs-sidenav collapse show" id=idccca0addee9a65ebd8a09b52b1eaa9ce><li class="child level active"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/00.juc-%E6%A6%82%E8%A7%88/j.u.c-%E6%A6%82%E8%A7%88/>J.U.C 概览</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcba5b2f6edfda517e85fbd0be5e6a852")' href=#idcba5b2f6edfda517e85fbd0be5e6a852 aria-expanded=false aria-controls=idcba5b2f6edfda517e85fbd0be5e6a852 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/>01.线程与线程池</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcba5b2f6edfda517e85fbd0be5e6a852 aria-expanded=false aria-controls=idcba5b2f6edfda517e85fbd0be5e6a852><i class="fa-solid fa-angle-right" id=caret-idcba5b2f6edfda517e85fbd0be5e6a852></i></a></div><ul class="nav docs-sidenav collapse" id=idcba5b2f6edfda517e85fbd0be5e6a852><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddc2ec75c80f81d5fbc18f578491d5e75")' href=#iddc2ec75c80f81d5fbc18f578491d5e75 aria-expanded=false aria-controls=iddc2ec75c80f81d5fbc18f578491d5e75 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/>01.线程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#iddc2ec75c80f81d5fbc18f578491d5e75 aria-expanded=false aria-controls=iddc2ec75c80f81d5fbc18f578491d5e75><i class="fa-solid fa-angle-right" id=caret-iddc2ec75c80f81d5fbc18f578491d5e75></i></a></div><ul class="nav docs-sidenav collapse" id=iddc2ec75c80f81d5fbc18f578491d5e75><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6e04f2c5e135348f50dba925eb688114")' href=#id6e04f2c5e135348f50dba925eb688114 aria-expanded=false aria-controls=id6e04f2c5e135348f50dba925eb688114 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/threadlocal/>ThreadLocal</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6e04f2c5e135348f50dba925eb688114 aria-expanded=false aria-controls=id6e04f2c5e135348f50dba925eb688114><i class="fa-solid fa-angle-right" id=caret-id6e04f2c5e135348f50dba925eb688114></i></a></div><ul class="nav docs-sidenav collapse" id=id6e04f2c5e135348f50dba925eb688114><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb6854ab952da787fdbd2b6b02229cc50")' href=#idb6854ab952da787fdbd2b6b02229cc50 aria-expanded=false aria-controls=idb6854ab952da787fdbd2b6b02229cc50 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/threadlocal/threadlocal/>ThreadLocal</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/threadlocal/threadlocalrandom/>ThreadLocalRandom</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd1910a90816b81b467d43afecb6f5f31")' href=#idd1910a90816b81b467d43afecb6f5f31 aria-expanded=false aria-controls=idd1910a90816b81b467d43afecb6f5f31 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/>线程管理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd1910a90816b81b467d43afecb6f5f31 aria-expanded=false aria-controls=idd1910a90816b81b467d43afecb6f5f31><i class="fa-solid fa-angle-right" id=caret-idd1910a90816b81b467d43afecb6f5f31></i></a></div><ul class="nav docs-sidenav collapse" id=idd1910a90816b81b467d43afecb6f5f31><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/thread-%E4%B8%8E-runnable/>Thread 与 Runnable</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/>生命周期</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B/>守护线程</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/01.%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA/>线程创建</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9d05005360faf1af817dd95ce78a07d8")' href=#id9d05005360faf1af817dd95ce78a07d8 aria-expanded=false aria-controls=id9d05005360faf1af817dd95ce78a07d8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/02.%E7%BA%BF%E7%A8%8B%E6%B1%A0/>02.线程池</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9d05005360faf1af817dd95ce78a07d8 aria-expanded=false aria-controls=id9d05005360faf1af817dd95ce78a07d8><i class="fa-solid fa-angle-right" id=caret-id9d05005360faf1af817dd95ce78a07d8></i></a></div><ul class="nav docs-sidenav collapse" id=id9d05005360faf1af817dd95ce78a07d8><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/02.%E7%BA%BF%E7%A8%8B%E6%B1%A0/%E7%BA%BF%E7%A8%8B%E8%B0%83%E4%BC%98/>线程调优</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/02.%E7%BA%BF%E7%A8%8B%E6%B1%A0/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%BF%E7%A8%8B%E6%B1%A0/>自定义线程池</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5fd0ceefdf2a12120e609bd57252e59a")' href=#id5fd0ceefdf2a12120e609bd57252e59a aria-expanded=false aria-controls=id5fd0ceefdf2a12120e609bd57252e59a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/>03.Executors</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5fd0ceefdf2a12120e609bd57252e59a aria-expanded=false aria-controls=id5fd0ceefdf2a12120e609bd57252e59a><i class="fa-solid fa-angle-right" id=caret-id5fd0ceefdf2a12120e609bd57252e59a></i></a></div><ul class="nav docs-sidenav collapse" id=id5fd0ceefdf2a12120e609bd57252e59a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7246ea05a980a2f2073d8f564b2c3ba5")' href=#id7246ea05a980a2f2073d8f564b2c3ba5 aria-expanded=false aria-controls=id7246ea05a980a2f2073d8f564b2c3ba5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/executorservice/>ExecutorService</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7246ea05a980a2f2073d8f564b2c3ba5 aria-expanded=false aria-controls=id7246ea05a980a2f2073d8f564b2c3ba5><i class="fa-solid fa-angle-right" id=caret-id7246ea05a980a2f2073d8f564b2c3ba5></i></a></div><ul class="nav docs-sidenav collapse" id=id7246ea05a980a2f2073d8f564b2c3ba5><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/executorservice/executors/>Executors</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/executorservice/threadpoolexecutor/>ThreadPoolExecutor</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/executorservice/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/>快速开始</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/executorservice/%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C/>任务执行</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3823d40f7c36bfba9e009e28ff2e9868")' href=#id3823d40f7c36bfba9e009e28ff2e9868 aria-expanded=false aria-controls=id3823d40f7c36bfba9e009e28ff2e9868 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/future/>Future</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3823d40f7c36bfba9e009e28ff2e9868 aria-expanded=false aria-controls=id3823d40f7c36bfba9e009e28ff2e9868><i class="fa-solid fa-angle-right" id=caret-id3823d40f7c36bfba9e009e28ff2e9868></i></a></div><ul class="nav docs-sidenav collapse" id=id3823d40f7c36bfba9e009e28ff2e9868><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/future/callable-%E4%B8%8E-future/>Callable 与 Future</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/03.executors/future/completablefuture/>CompletableFuture</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id84aed8981dca86470769d46cc94d29b8")' href=#id84aed8981dca86470769d46cc94d29b8 aria-expanded=false aria-controls=id84aed8981dca86470769d46cc94d29b8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/04.forkjoin/>04.ForkJoin</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id84aed8981dca86470769d46cc94d29b8 aria-expanded=false aria-controls=id84aed8981dca86470769d46cc94d29b8><i class="fa-solid fa-angle-right" id=caret-id84aed8981dca86470769d46cc94d29b8></i></a></div><ul class="nav docs-sidenav collapse" id=id84aed8981dca86470769d46cc94d29b8><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/04.forkjoin/forkjoin-%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0/>ForkJoin 内部实现</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/04.forkjoin/forkjoin-%E8%AF%AD%E6%B3%95%E4%BD%BF%E7%94%A8/>ForkJoin 语法使用</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf96a49048a7a03312e31959798a9dc29")' href=#idf96a49048a7a03312e31959798a9dc29 aria-expanded=false aria-controls=idf96a49048a7a03312e31959798a9dc29 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/05.%E5%AE%9A%E6%97%B6%E5%99%A8/>05.定时器</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf96a49048a7a03312e31959798a9dc29 aria-expanded=false aria-controls=idf96a49048a7a03312e31959798a9dc29><i class="fa-solid fa-angle-right" id=caret-idf96a49048a7a03312e31959798a9dc29></i></a></div><ul class="nav docs-sidenav collapse" id=idf96a49048a7a03312e31959798a9dc29><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/05.%E5%AE%9A%E6%97%B6%E5%99%A8/%E5%AE%9A%E6%97%B6%E5%99%A8/>定时器</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf6ebf64f416bae2cd70e558aa1fe4ab5")' href=#idf6ebf64f416bae2cd70e558aa1fe4ab5 aria-expanded=false aria-controls=idf6ebf64f416bae2cd70e558aa1fe4ab5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/10.%E5%8D%8F%E7%A8%8B/>10.协程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf6ebf64f416bae2cd70e558aa1fe4ab5 aria-expanded=false aria-controls=idf6ebf64f416bae2cd70e558aa1fe4ab5><i class="fa-solid fa-angle-right" id=caret-idf6ebf64f416bae2cd70e558aa1fe4ab5></i></a></div><ul class="nav docs-sidenav collapse" id=idf6ebf64f416bae2cd70e558aa1fe4ab5><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2241bb16a711e82aa10e1f9b23108ed4")' href=#id2241bb16a711e82aa10e1f9b23108ed4 aria-expanded=false aria-controls=id2241bb16a711e82aa10e1f9b23108ed4 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ideedeaacd73e0f43c2f5a1b0f82309a51")' href=#ideedeaacd73e0f43c2f5a1b0f82309a51 aria-expanded=false aria-controls=ideedeaacd73e0f43c2f5a1b0f82309a51 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ideedeaacd73e0f43c2f5a1b0f82309a51 aria-expanded=false aria-controls=ideedeaacd73e0f43c2f5a1b0f82309a51><i class="fa-solid fa-angle-right" id=caret-ideedeaacd73e0f43c2f5a1b0f82309a51></i></a></div><ul class="nav docs-sidenav collapse" id=ideedeaacd73e0f43c2f5a1b0f82309a51><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/01.%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-%E8%87%B4%E8%BF%9C-java-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E5%9C%A8%E7%BE%8E%E5%9B%A2%E4%B8%9A%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%AE%9E%E8%B7%B5/>2020-致远-Java 线程池实现原理及其在美团业务中的实践</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9aaaa2a191c19e31bc2141d70894962e")' href=#id9aaaa2a191c19e31bc2141d70894962e aria-expanded=false aria-controls=id9aaaa2a191c19e31bc2141d70894962e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/>02.线程安全</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9aaaa2a191c19e31bc2141d70894962e aria-expanded=false aria-controls=id9aaaa2a191c19e31bc2141d70894962e><i class="fa-solid fa-angle-right" id=caret-id9aaaa2a191c19e31bc2141d70894962e></i></a></div><ul class="nav docs-sidenav collapse" id=id9aaaa2a191c19e31bc2141d70894962e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id292be30345890b0b5a6c2713b2d4d2e6")' href=#id292be30345890b0b5a6c2713b2d4d2e6 aria-expanded=false aria-controls=id292be30345890b0b5a6c2713b2d4d2e6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/>并发容器</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id292be30345890b0b5a6c2713b2d4d2e6 aria-expanded=false aria-controls=id292be30345890b0b5a6c2713b2d4d2e6><i class="fa-solid fa-angle-right" id=caret-id292be30345890b0b5a6c2713b2d4d2e6></i></a></div><ul class="nav docs-sidenav collapse" id=id292be30345890b0b5a6c2713b2d4d2e6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb91eb6f8c090d09248392fdcb73a01c4")' href=#idb91eb6f8c090d09248392fdcb73a01c4 aria-expanded=false aria-controls=idb91eb6f8c090d09248392fdcb73a01c4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/>ConcurrentHashMap</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb91eb6f8c090d09248392fdcb73a01c4 aria-expanded=false aria-controls=idb91eb6f8c090d09248392fdcb73a01c4><i class="fa-solid fa-angle-right" id=caret-idb91eb6f8c090d09248392fdcb73a01c4></i></a></div><ul class="nav docs-sidenav collapse" id=idb91eb6f8c090d09248392fdcb73a01c4><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84-hashmap/>不安全的 HashMap</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E8%AF%AD%E6%B3%95%E4%BD%BF%E7%94%A8/>语法使用</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd94c42434189ddd0ac652c8589479427")' href=#idd94c42434189ddd0ac652c8589479427 aria-expanded=false aria-controls=idd94c42434189ddd0ac652c8589479427 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/>源码分析</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd94c42434189ddd0ac652c8589479427 aria-expanded=false aria-controls=idd94c42434189ddd0ac652c8589479427><i class="fa-solid fa-angle-right" id=caret-idd94c42434189ddd0ac652c8589479427></i></a></div><ul class="nav docs-sidenav collapse" id=idd94c42434189ddd0ac652c8589479427><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/jdk-7-%E4%B8%8E-jdk-8-%E5%AF%B9%E6%AF%94/>JDK 7 与 JDK 8 对比</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/%E6%9E%84%E9%80%A0%E4%B8%8E%E6%89%A9%E5%AE%B9/>构造与扩容</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/%E5%80%BC%E5%AD%98%E5%8F%96/>值存取</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrenthashmap/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/%E9%87%8D%E8%A6%81%E7%9A%84%E5%86%85%E9%83%A8%E7%B1%BB/>重要的内部类</a></li></ul></div></ul></div><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/concurrentskiplistmap/>ConcurrentSkipListMap</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/copyonwrite/>CopyOnWrite</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id424c7a4a21ae2b5ea6bc95d07f99ee3a")' href=#id424c7a4a21ae2b5ea6bc95d07f99ee3a aria-expanded=false aria-controls=id424c7a4a21ae2b5ea6bc95d07f99ee3a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/%E5%90%8C%E6%AD%A5%E5%99%A8/>同步器</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id424c7a4a21ae2b5ea6bc95d07f99ee3a aria-expanded=false aria-controls=id424c7a4a21ae2b5ea6bc95d07f99ee3a><i class="fa-solid fa-angle-right" id=caret-id424c7a4a21ae2b5ea6bc95d07f99ee3a></i></a></div><ul class="nav docs-sidenav collapse" id=id424c7a4a21ae2b5ea6bc95d07f99ee3a><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/%E5%90%8C%E6%AD%A5%E5%99%A8/countdownlatch/>CountDownLatch</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/%E5%90%8C%E6%AD%A5%E5%99%A8/cyclicbarrier/>CyclicBarrier</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/%E5%90%8C%E6%AD%A5%E5%99%A8/exchanger/>Exchanger</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/%E5%90%8C%E6%AD%A5%E5%99%A8/semaphore/>Semaphore</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idefd8acae8db90da2d0b7bb7cc6586eea")' href=#idefd8acae8db90da2d0b7bb7cc6586eea aria-expanded=false aria-controls=idefd8acae8db90da2d0b7bb7cc6586eea aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/>内存模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idefd8acae8db90da2d0b7bb7cc6586eea aria-expanded=false aria-controls=idefd8acae8db90da2d0b7bb7cc6586eea><i class="fa-solid fa-angle-right" id=caret-idefd8acae8db90da2d0b7bb7cc6586eea></i></a></div><ul class="nav docs-sidenav collapse" id=idefd8acae8db90da2d0b7bb7cc6586eea><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/volatile/>volatile</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8f95446a917631703e45543f94ba846b")' href=#id8f95446a917631703e45543f94ba846b aria-expanded=false aria-controls=id8f95446a917631703e45543f94ba846b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/>锁</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8f95446a917631703e45543f94ba846b aria-expanded=false aria-controls=id8f95446a917631703e45543f94ba846b><i class="fa-solid fa-angle-right" id=caret-id8f95446a917631703e45543f94ba846b></i></a></div><ul class="nav docs-sidenav collapse" id=id8f95446a917631703e45543f94ba846b><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idaa2e3c8293df6f867c78e4d95be97888")' href=#idaa2e3c8293df6f867c78e4d95be97888 aria-expanded=false aria-controls=idaa2e3c8293df6f867c78e4d95be97888 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idaa2e3c8293df6f867c78e4d95be97888 aria-expanded=false aria-controls=idaa2e3c8293df6f867c78e4d95be97888><i class="fa-solid fa-angle-right" id=caret-idaa2e3c8293df6f867c78e4d95be97888></i></a></div><ul class="nav docs-sidenav collapse" id=idaa2e3c8293df6f867c78e4d95be97888><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2021-%E4%BA%92%E6%96%A5%E9%94%81mutex%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%85%B7%E4%BD%93%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84/>2021-互斥锁（mutex）的底层原理是什么？ 操作系统具体是怎么实现的？？</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf2656ea2e555e8adbb1a3f5787553953")' href=#idf2656ea2e555e8adbb1a3f5787553953 aria-expanded=false aria-controls=idf2656ea2e555e8adbb1a3f5787553953 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/aqs/>AQS</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf2656ea2e555e8adbb1a3f5787553953 aria-expanded=false aria-controls=idf2656ea2e555e8adbb1a3f5787553953><i class="fa-solid fa-angle-right" id=caret-idf2656ea2e555e8adbb1a3f5787553953></i></a></div><ul class="nav docs-sidenav collapse" id=idf2656ea2e555e8adbb1a3f5787553953><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/aqs/aqs-%E6%A1%86%E6%9E%B6/>AQS 框架</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/aqs/reentrantlock-%E5%AE%9E%E7%8E%B0/>ReentrantLock 实现</a></li></ul></div><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/java-%E4%B8%AD%E9%94%81%E6%A6%82%E8%A7%88/>Java 中锁概览</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id03746fd8937450d312a7abe0771960d8")' href=#id03746fd8937450d312a7abe0771960d8 aria-expanded=false aria-controls=id03746fd8937450d312a7abe0771960d8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/reentrantlock/>ReentrantLock</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id03746fd8937450d312a7abe0771960d8 aria-expanded=false aria-controls=id03746fd8937450d312a7abe0771960d8><i class="fa-solid fa-angle-right" id=caret-id03746fd8937450d312a7abe0771960d8></i></a></div><ul class="nav docs-sidenav collapse" id=id03746fd8937450d312a7abe0771960d8><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/reentrantlock/condition/>Condition</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/reentrantlock/locksupport/>LockSupport</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/reentrantlock/readwritelock/>ReadWriteLock</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/reentrantlock/reentrantlock/>ReentrantLock</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf10b8cf5f7f7f7ee1efb7d8423e2d841")' href=#idf10b8cf5f7f7f7ee1efb7d8423e2d841 aria-expanded=false aria-controls=idf10b8cf5f7f7f7ee1efb7d8423e2d841 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/synchronized/>synchronized</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf10b8cf5f7f7f7ee1efb7d8423e2d841 aria-expanded=false aria-controls=idf10b8cf5f7f7f7ee1efb7d8423e2d841><i class="fa-solid fa-angle-right" id=caret-idf10b8cf5f7f7f7ee1efb7d8423e2d841></i></a></div><ul class="nav docs-sidenav collapse" id=idf10b8cf5f7f7f7ee1efb7d8423e2d841><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/synchronized/%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/>实现原理</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/synchronized/%E9%94%81%E7%9A%84%E5%8D%87%E7%BA%A7/>锁的升级</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfecfe21390400bb1fc1d69d2fb37d6b5")' href=#idfecfe21390400bb1fc1d69d2fb37d6b5 aria-expanded=false aria-controls=idfecfe21390400bb1fc1d69d2fb37d6b5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E6%AD%BB%E9%94%81/>死锁</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfecfe21390400bb1fc1d69d2fb37d6b5 aria-expanded=false aria-controls=idfecfe21390400bb1fc1d69d2fb37d6b5><i class="fa-solid fa-angle-right" id=caret-idfecfe21390400bb1fc1d69d2fb37d6b5></i></a></div><ul class="nav docs-sidenav collapse" id=idfecfe21390400bb1fc1d69d2fb37d6b5><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E6%AD%BB%E9%94%81/%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81/>避免死锁</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E6%AD%BB%E9%94%81/%E6%AD%BB%E9%94%81%E6%A1%88%E4%BE%8B/>死锁案例</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide038d00228250e0189c195f000fe2584")' href=#ide038d00228250e0189c195f000fe2584 aria-expanded=false aria-controls=ide038d00228250e0189c195f000fe2584 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E9%94%81%E4%BC%98%E5%8C%96/>锁优化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide038d00228250e0189c195f000fe2584 aria-expanded=false aria-controls=ide038d00228250e0189c195f000fe2584><i class="fa-solid fa-angle-right" id=caret-ide038d00228250e0189c195f000fe2584></i></a></div><ul class="nav docs-sidenav collapse" id=ide038d00228250e0189c195f000fe2584><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E9%94%81%E4%BC%98%E5%8C%96/01.%E5%87%8F%E5%B0%8F%E9%94%81%E7%9A%84%E6%8C%81%E6%9C%89%E6%97%B6%E9%97%B4/>01.减小锁的持有时间</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E9%94%81%E4%BC%98%E5%8C%96/02.%E9%94%81%E7%B2%92%E5%BA%A6%E7%9A%84%E4%BC%98%E5%8C%96/>02.锁粒度的优化</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E9%94%81%E4%BC%98%E5%8C%96/03.%E9%94%81%E5%88%86%E7%A6%BB/>03.锁分离</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E9%94%81/%E9%94%81%E4%BC%98%E5%8C%96/04.%E6%97%A0%E9%94%81/>04.无锁</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf78af7d0b97f894a00cbfb11a7336b0a")' href=#idf78af7d0b97f894a00cbfb11a7336b0a aria-expanded=false aria-controls=idf78af7d0b97f894a00cbfb11a7336b0a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F/>原子变量</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf78af7d0b97f894a00cbfb11a7336b0a aria-expanded=false aria-controls=idf78af7d0b97f894a00cbfb11a7336b0a><i class="fa-solid fa-angle-right" id=caret-idf78af7d0b97f894a00cbfb11a7336b0a></i></a></div><ul class="nav docs-sidenav collapse" id=idf78af7d0b97f894a00cbfb11a7336b0a><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/02.%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F/atomicreference/>AtomicReference</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2e91edefd4d6573a203119df54781f5b")' href=#id2e91edefd4d6573a203119df54781f5b aria-expanded=false aria-controls=id2e91edefd4d6573a203119df54781f5b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/>03.并发框架</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2e91edefd4d6573a203119df54781f5b aria-expanded=false aria-controls=id2e91edefd4d6573a203119df54781f5b><i class="fa-solid fa-angle-right" id=caret-id2e91edefd4d6573a203119df54781f5b></i></a></div><ul class="nav docs-sidenav collapse" id=id2e91edefd4d6573a203119df54781f5b><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide5f851dc9103d68ce029d29ee8033f0c")' href=#ide5f851dc9103d68ce029d29ee8033f0c aria-expanded=false aria-controls=ide5f851dc9103d68ce029d29ee8033f0c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/>Akka</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide5f851dc9103d68ce029d29ee8033f0c aria-expanded=false aria-controls=ide5f851dc9103d68ce029d29ee8033f0c><i class="fa-solid fa-angle-right" id=caret-ide5f851dc9103d68ce029d29ee8033f0c></i></a></div><ul class="nav docs-sidenav collapse" id=ide5f851dc9103d68ce029d29ee8033f0c><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/actor-%E5%9F%BA%E7%A1%80/>Actor 基础</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/websocket/>WebSocket</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E4%B8%8E%E4%BA%8B%E5%8A%A1/>并发控制与事务</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%B8%8E%E6%8C%81%E4%B9%85%E5%8C%96/>异常处理与持久化</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/akka/%E9%82%AE%E7%AE%B1%E4%B8%8E%E8%B7%AF%E7%94%B1/>邮箱与路由</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbd668cde6d265ff840cdcd4d28665ea6")' href=#idbd668cde6d265ff840cdcd4d28665ea6 aria-expanded=false aria-controls=idbd668cde6d265ff840cdcd4d28665ea6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/>RxJava</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbd668cde6d265ff840cdcd4d28665ea6 aria-expanded=false aria-controls=idbd668cde6d265ff840cdcd4d28665ea6><i class="fa-solid fa-angle-right" id=caret-idbd668cde6d265ff840cdcd4d28665ea6></i></a></div><ul class="nav docs-sidenav collapse" id=idbd668cde6d265ff840cdcd4d28665ea6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb250c2969ba083e4b069b5c34188f71c")' href=#idb250c2969ba083e4b069b5c34188f71c aria-expanded=false aria-controls=idb250c2969ba083e4b069b5c34188f71c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/>操作符</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb250c2969ba083e4b069b5c34188f71c aria-expanded=false aria-controls=idb250c2969ba083e4b069b5c34188f71c><i class="fa-solid fa-angle-right" id=caret-idb250c2969ba083e4b069b5c34188f71c></i></a></div><ul class="nav docs-sidenav collapse" id=idb250c2969ba083e4b069b5c34188f71c><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E5%8F%98%E6%8D%A2%E6%93%8D%E4%BD%9C/>变换操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C/>创建操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/>错误处理</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E8%BE%85%E5%8A%A9%E6%93%8D%E4%BD%9C/>辅助操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E8%BF%87%E6%BB%A4%E6%93%8D%E4%BD%9C/>过滤操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E7%BB%93%E5%90%88%E6%93%8D%E4%BD%9C/>结合操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C/>聚合操作</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%93%8D%E4%BD%9C%E7%AC%A6/%E6%9D%A1%E4%BB%B6%E5%92%8C%E5%B8%83%E5%B0%94%E6%93%8D%E4%BD%9C/>条件和布尔操作</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idad90ef4dac271424bc0b98d6139d679a")' href=#idad90ef4dac271424bc0b98d6139d679a aria-expanded=false aria-controls=idad90ef4dac271424bc0b98d6139d679a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%8F%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/>反应式编程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idad90ef4dac271424bc0b98d6139d679a aria-expanded=false aria-controls=idad90ef4dac271424bc0b98d6139d679a><i class="fa-solid fa-angle-right" id=caret-idad90ef4dac271424bc0b98d6139d679a></i></a></div><ul class="nav docs-sidenav collapse" id=idad90ef4dac271424bc0b98d6139d679a><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%8F%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/%E5%8F%8D%E5%BA%94%E5%BC%8F%E5%BA%93%E6%AF%94%E8%BE%83/>反应式库比较</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5f1ec8faf53c3d9a350fd3ddd7c0e5cf")' href=#id5f1ec8faf53c3d9a350fd3ddd7c0e5cf aria-expanded=false aria-controls=id5f1ec8faf53c3d9a350fd3ddd7c0e5cf aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/>工程实践</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5f1ec8faf53c3d9a350fd3ddd7c0e5cf aria-expanded=false aria-controls=id5f1ec8faf53c3d9a350fd3ddd7c0e5cf><i class="fa-solid fa-angle-right" id=caret-id5f1ec8faf53c3d9a350fd3ddd7c0e5cf></i></a></div><ul class="nav docs-sidenav collapse" id=id5f1ec8faf53c3d9a350fd3ddd7c0e5cf><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E7%BA%BF%E7%A8%8B%E8%B0%83%E5%BA%A6/>线程调度</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/>应用案例</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id93eadcbfa6ef6d0757a3ae5e958c7d3e")' href=#id93eadcbfa6ef6d0757a3ae5e958c7d3e aria-expanded=false aria-controls=id93eadcbfa6ef6d0757a3ae5e958c7d3e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/>基础使用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id93eadcbfa6ef6d0757a3ae5e958c7d3e aria-expanded=false aria-controls=id93eadcbfa6ef6d0757a3ae5e958c7d3e><i class="fa-solid fa-angle-right" id=caret-id93eadcbfa6ef6d0757a3ae5e958c7d3e></i></a></div><ul class="nav docs-sidenav collapse" id=id93eadcbfa6ef6d0757a3ae5e958c7d3e><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/completable/>Completable</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/flowable/>Flowable</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/observable/>Observable</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/>快速开始</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3a4221ee03fbca8311b02867e04fadcc")' href=#id3a4221ee03fbca8311b02867e04fadcc aria-expanded=false aria-controls=id3a4221ee03fbca8311b02867e04fadcc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/>架构机制</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3a4221ee03fbca8311b02867e04fadcc aria-expanded=false aria-controls=id3a4221ee03fbca8311b02867e04fadcc><i class="fa-solid fa-angle-right" id=caret-id3a4221ee03fbca8311b02867e04fadcc></i></a></div><ul class="nav docs-sidenav collapse" id=id3a4221ee03fbca8311b02867e04fadcc><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/03.%E5%B9%B6%E5%8F%91%E6%A1%86%E6%9E%B6/rxjava/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%8E%9F%E7%90%86%E6%B5%85%E6%9E%90/>原理浅析</a></li></ul></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2b4bb6bac2562ec3b1f679ac615cb105")' href=#id2b4bb6bac2562ec3b1f679ac615cb105 aria-expanded=false aria-controls=id2b4bb6bac2562ec3b1f679ac615cb105 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/>04.并发 IO</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2b4bb6bac2562ec3b1f679ac615cb105 aria-expanded=false aria-controls=id2b4bb6bac2562ec3b1f679ac615cb105><i class="fa-solid fa-angle-right" id=caret-id2b4bb6bac2562ec3b1f679ac615cb105></i></a></div><ul class="nav docs-sidenav collapse" id=id2b4bb6bac2562ec3b1f679ac615cb105><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/java-%E4%B8%AD%E7%9A%84bionio-%E4%B8%8E-aio/>Java 中的BIO，NIO 与 AIO</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfbcd9316e23da12d7d28ef68220c9eb7")' href=#idfbcd9316e23da12d7d28ef68220c9eb7 aria-expanded=false aria-controls=idfbcd9316e23da12d7d28ef68220c9eb7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/netty/>Netty</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfbcd9316e23da12d7d28ef68220c9eb7 aria-expanded=false aria-controls=idfbcd9316e23da12d7d28ef68220c9eb7><i class="fa-solid fa-angle-right" id=caret-idfbcd9316e23da12d7d28ef68220c9eb7></i></a></div><ul class="nav docs-sidenav collapse" id=idfbcd9316e23da12d7d28ef68220c9eb7><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/netty/http/>HTTP</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id01d10266dd78c00e9bbfaff6d03ecd17")' href=#id01d10266dd78c00e9bbfaff6d03ecd17 aria-expanded=false aria-controls=id01d10266dd78c00e9bbfaff6d03ecd17 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/>NIO</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id01d10266dd78c00e9bbfaff6d03ecd17 aria-expanded=false aria-controls=id01d10266dd78c00e9bbfaff6d03ecd17><i class="fa-solid fa-angle-right" id=caret-id01d10266dd78c00e9bbfaff6d03ecd17></i></a></div><ul class="nav docs-sidenav collapse" id=id01d10266dd78c00e9bbfaff6d03ecd17><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide8afc7317de4f7c78d0613696a4d3aab")' href=#ide8afc7317de4f7c78d0613696a4d3aab aria-expanded=false aria-controls=ide8afc7317de4f7c78d0613696a4d3aab aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide8afc7317de4f7c78d0613696a4d3aab aria-expanded=false aria-controls=ide8afc7317de4f7c78d0613696a4d3aab><i class="fa-solid fa-angle-right" id=caret-ide8afc7317de4f7c78d0613696a4d3aab></i></a></div><ul class="nav docs-sidenav collapse" id=ide8afc7317de4f7c78d0613696a4d3aab><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-heibaiying-java-nio/>2020-heibaiying-Java NIO</a></li></ul></div><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/buffers/>Buffers</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/channel/>Channel</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/http/>HTTP</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/04.%E5%B9%B6%E5%8F%91-io/nio/selector/>Selector</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ided22adc84e7a109f73d8a28f76970412")' href=#ided22adc84e7a109f73d8a28f76970412 aria-expanded=false aria-controls=ided22adc84e7a109f73d8a28f76970412 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/05.%E5%85%B8%E5%9E%8B%E6%A1%88%E4%BE%8B/>05.典型案例</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ided22adc84e7a109f73d8a28f76970412 aria-expanded=false aria-controls=ided22adc84e7a109f73d8a28f76970412><i class="fa-solid fa-angle-right" id=caret-ided22adc84e7a109f73d8a28f76970412></i></a></div><ul class="nav docs-sidenav collapse" id=ided22adc84e7a109f73d8a28f76970412><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/05.%E5%85%B8%E5%9E%8B%E6%A1%88%E4%BE%8B/%E8%AE%A1%E6%95%B0%E5%99%A8/>计数器</a></li><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/05.%E5%85%B8%E5%9E%8B%E6%A1%88%E4%BE%8B/%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85/>生产者-消费者</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9fd4ff638c8506979239f4b332f6f6e6")' href=#id9fd4ff638c8506979239f4b332f6f6e6 aria-expanded=false aria-controls=id9fd4ff638c8506979239f4b332f6f6e6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9fd4ff638c8506979239f4b332f6f6e6 aria-expanded=false aria-controls=id9fd4ff638c8506979239f4b332f6f6e6><i class="fa-solid fa-angle-right" id=caret-id9fd4ff638c8506979239f4b332f6f6e6></i></a></div><ul class="nav docs-sidenav collapse" id=id9fd4ff638c8506979239f4b332f6f6e6><li class="child level"><a href=/books/java-notes/03.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-heibaiying-java-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/>2020-heibaiying-Java 并发编程基础</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4925425fa1e665c28e1cf69da45a46b4")' href=#id4925425fa1e665c28e1cf69da45a46b4 aria-expanded=false aria-controls=id4925425fa1e665c28e1cf69da45a46b4 aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#可重入>可重入</a></li></ul><ul><li><a href=#闭锁-countdownlatch>闭锁 CountDownLatch</a></li><li><a href=#栅栏-cyclicbarrier>栅栏 CyclicBarrier</a></li><li><a href=#信号量-semaphore>信号量 Semaphore</a></li><li><a href=#交换器-exchanger>交换器 Exchanger</a></li></ul><ul><li><a href=#concurrenthashmap>ConcurrentHashMap</a></li><li><a href=#copyonwritearraylistset>CopyOnWriteArrayList/Set</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>J.U.C 概览</h1><div class=article-style><h1 id=juc-概览>J.U.C 概览</h1><p>JSR，全称 Java Specification Requests，即 Java 规范提案，主要是用于向 JCP(Java Community Process)提出新增标准化技术规范的正式请求。每次 JAVA 版本更新都会有对应的 JSR 更新，比如在 Java 8 版本中，其新特性 Lambda 表达式对应的是 JSR 335，新的日期和时间 API 对应的是 JSR 310。当然，本文的关注点仅仅是 JSR 166，它是一个关于 Java 并发编程的规范提案，在 JDK 中，该规范由 java.util.concurrent 包实现，是在 JDK 5.0 的时候被引入的；另外 JDK6 引入 Deques、Navigable collections，对应的是 JSR 166x，JDK7 引入 fork-join 框架，用于并行执行任务，对应的是 JSR 166y。</p><p>J.U.C. 即 java.util.concurrent 的缩写，该包参考自 EDU.oswego.cs.dl.util.concurrent，是 JSR 166 标准规范的一个实现；</p><h1 id=executor-框架线程池-callable-future>Executor 框架（线程池、 Callable 、Future）</h1><p>简单的说，就是一个任务的执行和调度框架，涉及的类如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yiiSds.png alt="Executor 类结构" loading=lazy data-zoomable></div></div></figure></p><p>其中，最顶层是 Executor 接口，它的定义很简单，一个用于执行任务的 execute 方法，如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>Executor</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>execute</span><span class=o>(</span><span class=n>Runnable</span> <span class=n>command</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>另外，我们还可以看到一个 Executors 类，它是一个工具类（有点类似集合框架的 Collections 类），用于创建 ExecutorService、ScheduledExecutorService、ThreadFactory 和 Callable 对象。任务的提交过程与执行过程解耦，用户只需定义好任务提交，具体如何执行，什么时候执行不需要关心；定义好任务（如 Callable 对象），把它提交给 ExecutorService（如线程池）去执行，得到 Future 对象，然后调用 Future 的 get 方法等待执行结果即可。</p><p>任务就是实现 Callable 接口或 Runnable 接口的类，其实例就可以成为一个任务提交给 ExecutorService 去执行；其中 Callable 任务可以返回执行结果，Runnable 任务无返回结果；通过 Executors 工具类可以创建各种类型的线程池，如下为常见的四种：</p><ul><li>newCachedThreadPool：大小不受限，当线程释放时，可重用该线程；</li><li>newFixedThreadPool：大小固定，无可用线程时，任务需等待，直到有可用线程；</li><li>newSingleThreadExecutor：创建一个单线程，任务会按顺序依次执行；</li><li>newScheduledThreadPool：创建一个定长线程池，支持定时及周期性任务执行</li></ul><p>简单示例如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ExecutorService</span> <span class=n>executor</span> <span class=o>=</span> <span class=n>Executors</span><span class=o>.</span><span class=na>newCachedThreadPool</span><span class=o>();</span><span class=c1>//创建线程池
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Task</span> <span class=n>task</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Task</span><span class=o>();</span> <span class=c1>//创建Callable任务
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Future</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>executor</span><span class=o>.</span><span class=na>submit</span><span class=o>(</span><span class=n>task</span><span class=o>);</span><span class=c1>//提交任务给线程池执行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>result</span><span class=o>.</span><span class=na>get</span><span class=o>()</span><span class=err>；</span><span class=c1>//等待执行结果; 可以传入等待时间参数，指定时间内没返回的话，直接结束
</span></span></span></code></pre></div><p>最后我们讨论下批量任务的执行方式：</p><ul><li>首先定义任务集合，然后定义 Future 集合用于存放执行结果，执行任务，最后遍历 Future 集合获取结果。优点：可以依次得到有序的结果；缺点：不能及时获取已完成任务的执行结果；</li><li>首先定义任务集合，通过 CompletionService 包装 ExecutorService，执行任务，然后调用其 take()方法去取 Future 对象。优点：及时得到已完成任务的执行结果，缺点：不能依次得到结果。</li></ul><p>在方式一中，从集合中遍历的每个 Future 对象并不一定处于完成状态，这时调用 get()方法就会被阻塞住，所以后面的任务即使已完成也不能得到结果；而方式二中，CompletionService 的实现是维护一个保存 Future 对象的 BlockingQueue，只有当这个 Future 对象状态是结束的时候，才会加入到这个 Queue 中，所以调用 take()能从阻塞队列中拿到最新的已完成任务的结果；</p><h1 id=abstractqueuedsynchronizeraqs-框架>AbstractQueuedSynchronizer（AQS 框架）</h1><p>AQS 框架是 J.U.C 中实现锁及同步机制的基础，其底层是通过调用 LockSupport.unpark() 和 LockSupport.park() 实现线程的阻塞和唤醒。AbstractQueuedSynchronizer 是一个抽象类，主要是维护了一个 int 类型的 state 属性和一个非阻塞、先进先出的线程等待队列；其中 state 是用 volatile 修饰的，保证线程之间的可见性，队列的入队和出对操作都是无锁操作，基于自旋锁和 CAS 实现；另外 AQS 分为两种模式：独占模式和共享模式，像 ReentrantLock 是基于独占模式模式实现的，CountDownLatch、CyclicBarrier 等是基于共享模式。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yin3lR.png alt="AQS 简单示意" loading=lazy data-zoomable></div></div></figure></p><p>非公平锁的 lock 方法的实现：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>final</span> <span class=kt>void</span> <span class=nf>lock</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// CAS 操作，如果 State 为 0（表示当前没有其它线程占有该锁），则将它设置为1
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=o>(</span><span class=n>compareAndSetState</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>1</span><span class=o>))</span>
</span></span><span class=line><span class=cl>          <span class=n>setExclusiveOwnerThread</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>currentThread</span><span class=o>());</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span>
</span></span><span class=line><span class=cl>          <span class=n>acquire</span><span class=o>(</span><span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>首先是不管先后顺序，直接尝试获取锁（非公平的体现)，成功的话，直接独占访问；如果获取锁失败，则调用 AQS 的 acquire 方法，在该方法内部会调用 tryAcquire 方法再次尝试获取锁以及是否可重入判断，如果失败，则挂起当前线程并加入到等待队列；</p><h2 id=可重入>可重入</h2><p>什么是可重入锁，不可重入锁呢？&ldquo;重入"字面意思已经很明显了，就是可以重新进入。可重入锁，就是说一个线程在获取某个锁后，还可以继续获取该锁，即允许一个线程多次获取同一个锁。比如 synchronized 内置锁就是可重入的，如果 A 类有 2 个 synchornized 方法 method1 和 method2，那么 method1 调用 method2 是允许的。显然重入锁给编程带来了极大的方便。假如内置锁不是可重入的，那么导致的问题是：1 个类的 synchornized 方法不能调用本类其他 synchornized 方法，也不能调用父类中的 synchornized 方法。与内置锁对应，JDK 提供的显示锁 ReentrantLock 也是可以重入的。</p><p>一个线程获取多少次锁，就必须释放多少次锁。这对于内置锁也是适用的，每一次进入和离开 synchornized 方法(代码块)，就是一次完整的锁获取和释放。</p><h1 id=locks--condition锁和条件变量>Locks & Condition（锁和条件变量）</h1><p>先看一下 Lock 接口提供的主要方法，如下：</p><ul><li>lock() 等待获取锁</li><li>lockInterruptibly() 可中断等待获取锁，synchronized 无法实现可中断等待</li><li>tryLock() 尝试获取锁，立即返回 true 或 false</li><li>tryLock(long time, TimeUnit unit) 指定时间内等待获取锁</li><li>unlock() 释放锁</li><li>newCondition() 返回一个绑定到此 Lock 实例上的 Condition 实例</li></ul><p>关于 Lock 接口的实现，我们主要是关注以下几个类：</p><ul><li><p>ReentrantLock：可重入锁，所谓的可重入锁，也叫递归锁，是指一个线程获取锁后，再次获取该锁时，不需要重新等待获取。ReentrantLock 分为公平锁和非公平锁，公平锁指的是严格按照先来先得的顺序排队等待去获取锁，而非公平锁每次获取锁时，是先直接尝试获取锁，获取不到，再按照先来先得的顺序排队等待。</p></li><li><p>ReentrantReadWriteLock：可重入读写锁，指的是没有线程进行写操作时，多个线程可同时进行读操作，当有线程进行写操作时，其它读写操作只能等待。即“读-读能共存，读-写不能共存，写-写不能共存”。在读多于写的情况下，读写锁能够提供比排它锁更好的并发性和吞吐量。</p></li></ul><p>Condition 对象是由 Lock 对象创建的，一个 Lock 对象可以创建多个 Condition，其实 Lock 和 Condition 都是基于 AQS 实现的。Condition 对象主要用于线程的等待和唤醒，在 JDK 5 之前，线程的等待唤醒是用 Object 对象的 wait/notify/notifyAll 方法实现的，使用起来不是很方便；在 JDK5 之后，J.U.C 包提供了 Condition，其中：</p><ul><li>Condition.await 对应于 Object.wait；</li><li>Condition.signal 对应于 Object.notify；</li><li>Condition.signalAll 对应于 Object.notifyAll；</li></ul><p>使用 Condition 对象有一个比较明显的好处是一个锁可以创建多个 Condition 对象，我们可以给某类线程分配一个 Condition，然后就可以唤醒特定类的线程。</p><h1 id=synchronizers同步器>Synchronizers（同步器）</h1><p>J.U.C 中的同步器主要用于协助线程同步，有以下四种：</p><h2 id=闭锁-countdownlatch>闭锁 CountDownLatch</h2><p>闭锁主要用于让一个主线程等待一组事件发生后继续执行，这里的事件其实就是指 CountDownLatch 对象的 countDown 方法。注意其它线程调用完 countDown 方法后，是会继续执行的，具体如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yiMwhF.png alt=CountDownLatch loading=lazy data-zoomable></div></div></figure></p><p>在 CountDownLatch 内部，包含一个计数器，一开始初始化为一个整数（事件个数），发生一个事件后，调用 countDown 方法，计数器减 1，await 用于等待计数器为 0 后继续执行当前线程。</p><h2 id=栅栏-cyclicbarrier>栅栏 CyclicBarrier</h2><p>栅栏主要用于等待其它线程，且会阻塞自己当前线程，所有线程必须同时到达栅栏位置后，才能继续执行；且在所有线程到达栅栏处，可以触发执行另外一个预先设置的线程，具体如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yiQ34O.png alt=CyclicBarrier loading=lazy data-zoomable></div></div></figure></p><p>在上图中，T1、T2、T3 每调用一次 await，计数减减，且在它们调用 await 方法的时候，如果计数不为 0，会阻塞自己的线程；另外，TA 线程会在所有线程到达栅栏处（计数为 0）的时候，才开始执行。</p><h2 id=信号量-semaphore>信号量 Semaphore</h2><p>信号量主要用于控制访问资源的线程个数，常常用于实现资源池，如数据库连接池，线程池。在 Semaphore 中，acquire 方法用于获取资源，有的话，继续执行（使用结束后，记得释放资源），没有资源的话将阻塞直到有其它线程调用 release 方法释放资源；</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yiQUKA.png alt=Semaphore loading=lazy data-zoomable></div></div></figure></p><h2 id=交换器-exchanger>交换器 Exchanger</h2><p>交换器主要用于线程之间进行数据交换；当两个线程都到达共同的同步点（都执行到 exchanger.exchange 的时刻）时，发生数据交换，否则会等待直到其它线程到达；</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/29/yiQoPU.png alt=Exchanger loading=lazy data-zoomable></div></div></figure></p><h1 id=atomic-variables原子变量>Atomic Variables（原子变量）</h1><p>原子变量主要是方便程序员在多线程环境下，无锁的进行原子操作；原子类是基于 Unsafe 实现的包装类，核心操作是 CAS 原子操作；所谓的 CAS 操作，即 compare and swap，指的是将预期值与当前变量的值比较(compare)，如果相等则使用新值替换(swap)当前变量，否则不作操作；我们可以摘取一段 AtomicInteger 的源码，如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>final</span> <span class=kt>boolean</span> <span class=nf>compareAndSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>expect</span><span class=o>,</span> <span class=kt>int</span> <span class=n>update</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>unsafe</span><span class=o>.</span><span class=na>compareAndSwapInt</span><span class=o>(</span><span class=k>this</span><span class=o>,</span> <span class=n>valueOffset</span><span class=o>,</span> <span class=n>expect</span><span class=o>,</span> <span class=n>update</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>在 compareAndSwapInt 方法中，valueOffset 是内存地址，expect 是预期值，update 是更新值，如果 valueOffset 地址处的值与预期值相等，则将 valueOffset 地址处的值更新为 update 值。现代 CPU 已广泛支持 CAS 指令；在 Java 中，有四种原子更新方式，如下：</p><ul><li>原子方式更新基本类型：AtomicInteger、 AtomicLong 等</li><li>原子方式更新数组：AtomicIntegerArray、 AtomicLongArray 等</li><li>原子方式更新引用：AtomicReference、 AtomicReferenceFieldUpdater…</li><li>原子方式更新字段：AtomicIntegerFieldUpdater、 AtomicStampedReference(解决 CAS 的 ABA 问题)</li></ul><h1 id=blockingqueue阻塞队列>BlockingQueue（阻塞队列）</h1><p>阻塞队列提供了可阻塞的入队和出对操作，如果队列满了，入队操作将阻塞直到有空间可用，如果队列空了，出队操作将阻塞直到有元素可用；</p><p>在 Java 中，主要有以下类型的阻塞队列：</p><ul><li>ArrayBlockingQueue：一个由数组结构组成的有界阻塞队列。</li><li>LinkedBlockingQueue：一个由链表结构组成的有界阻塞队列。</li><li>PriorityBlockingQueue：一个支持优先级排序的无界阻塞队列。</li><li>DelayQueue：一个支持延时获取元素的无界阻塞队列。</li><li>SynchronousQueue：一个不存储元素的阻塞队列。</li><li>LinkedTransferQueue：一个由链表结构组成的无界阻塞队列。</li><li>LinkedBlockingDeque：一个由链表结构组成的双向阻塞队列。</li></ul><h1 id=concurrent-collections并发容器>Concurrent Collections（并发容器）</h1><p>说到并发容器，不得不提同步容器，在 JDK5 之前，为了线程安全，我们一般都是使用同步容器，同步容器主要有以下缺点：</p><ul><li>同步容器对所有容器状态的访问都串行化，严重降低了并发性；</li><li>某些复合操作，仍然需要加锁来保护</li><li>迭代期间，若其它线程并发修改该容器，会抛出 ConcurrentModificationException 异常，即快速失败机制</li></ul><p>对于复合操作，我们可以举个例子, 因为比较容易被忽视，如下代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>Integer</span> <span class=nf>getLast</span><span class=o>(</span><span class=n>Vector</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>lastIndex</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>-</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>lastIndex</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=o>)</span> <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>list</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>lastIndex</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>在以上代码中，虽然 list 集合是 Vector 类型，但该方法仍然不是原子操作，因为在 list.size()和 list.get(lastIndex)之间，可能已经发生了很多事。</p><h2 id=concurrenthashmap>ConcurrentHashMap</h2><p>ConcurrentHashMap 是采用分离锁技术，在同步容器中，是一个容器一个锁，但在 ConcurrentHashMap 中，会将 hash 表的数组部分分成若干段，每段维护一个锁；这些段可以并发的进行写操作，以达到高效的并发访问，如下图示例：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/30/yFJgXD.md.png alt="ConcurrentHashMap 分段锁" loading=lazy data-zoomable></div></div></figure></p><p>另外，性能是我们比较关心的，我们可以与同步容器做个对比，如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/30/yFYdv8.png alt=并发容器与同步容器对比 loading=lazy data-zoomable></div></div></figure></p><h2 id=copyonwritearraylistset>CopyOnWriteArrayList/Set</h2><p>也叫拷贝容器，指的是写数据的时候，重新拷贝一份进行写操作，完成后，再将原容器的引用指向新的拷贝容器。适用情况：当读操作远远大于写操作的时候，考虑用这个并发集合。</p><h1 id=forkjoin-并行计算框架>Fork/Join 并行计算框架</h1><p>Fork/Join 框架的核心是 ForkJoinPool 类，实现了工作窃取算法（对那些处理完自身任务的线程，会从其它线程窃取任务执行）并且能够执行 ForkJoinTask 任务。适用场景：大任务能被递归拆分成多个子任务的应用；如下图，位于图上部的 Task 依赖于位于其下的 Task 的执行，只有当所有的子任务都完成之后，调用者才能获得 Task 0 的返回结果。其实这是一种分而治之的思想：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/01/30/yFY65n.png alt="Fork/Join 示意图" loading=lazy data-zoomable></div></div></figure></p><p>其实对于使用 Fork/Join 框架的开发人员来说，主要任务还是在于任务划分，可以参考如下伪代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>if</span> <span class=o>(</span><span class=err>任务足够小</span><span class=o>){</span>
</span></span><span class=line><span class=cl>  <span class=err>直接执行该任务</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span><span class=k>else</span><span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=err>将任务拆分成多个子任务</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=err>执行这些子任务并等待结果</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=timeunit-枚举>TimeUnit 枚举</h1><p>TimeUnit 是 java.util.concurrent 包下面的一个枚举类，TimeUnit 提供了可读性更好的线程暂停操作。在 JDK5 之前，一般我们暂停线程是这样写的：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Thread</span><span class=o>.</span><span class=na>sleep</span><span class=err>（</span><span class=mi>2400000</span><span class=err>）</span><span class=c1>// 可读性差
</span></span></span></code></pre></div><p>在 JDK5 之后，我们可以这样写：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>TimeUnit</span><span class=o>.</span><span class=na>SECONDS</span><span class=o>.</span><span class=na>sleep</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>TimeUnit</span><span class=o>.</span><span class=na>MINUTES</span><span class=o>.</span><span class=na>sleep</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>TimeUnit</span><span class=o>.</span><span class=na>HOURS</span><span class=o>.</span><span class=na>sleep</span><span class=o>(</span><span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>TimeUnit</span><span class=o>.</span><span class=na>DAYS</span><span class=o>.</span><span class=na>sleep</span><span class=o>(</span><span class=mi>1</span><span class=o>);</span>
</span></span></code></pre></div><p>另外，TimeUnit 还提供了便捷方法用于把时间转换成不同单位，例如，如果你想把秒转换成毫秒，你可以使用下面代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>TimeUnit</span><span class=o>.</span><span class=na>SECONDS</span><span class=o>.</span><span class=na>toMillis</span><span class=o>(</span><span class=mi>44</span><span class=o>);</span><span class=c1>// 44,000
</span></span></span></code></pre></div></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>