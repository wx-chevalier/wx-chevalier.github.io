<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="限界上下文 对一个大型系统，领域模型的完全统一将是不可行的或者不划算的。DDD 的构建块不能盲目地应用在一个无限大的领域模型上，一个无限大的领域模型也无助于我们开发出优质的软件，限界上下文是分解领域模型的"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/"><meta property="og:title" content="限界上下文 | Next-gen Tech Edu"><meta property="og:description" content="限界上下文 对一个大型系统，领域模型的完全统一将是不可行的或者不划算的。DDD 的构建块不能盲目地应用在一个无限大的领域模型上，一个无限大的领域模型也无助于我们开发出优质的软件，限界上下文是分解领域模型的"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>限界上下文 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=5ddfccc7c88563aa22002e1f113a7797><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">领域划分</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3ea63ca54f0532557a1362bcfe5a753d")' href=#id3ea63ca54f0532557a1362bcfe5a753d aria-expanded=false aria-controls=id3ea63ca54f0532557a1362bcfe5a753d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/>3.领域驱动设计</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3ea63ca54f0532557a1362bcfe5a753d aria-expanded=false aria-controls=id3ea63ca54f0532557a1362bcfe5a753d><i class="fa-solid fa-angle-down" id=caret-id3ea63ca54f0532557a1362bcfe5a753d></i></a></div><ul class="nav docs-sidenav collapse show" id=id3ea63ca54f0532557a1362bcfe5a753d><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida885ee6a69dcad9e7903558c0353dd86")' href=#ida885ee6a69dcad9e7903558c0353dd86 aria-expanded=false aria-controls=ida885ee6a69dcad9e7903558c0353dd86 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/>1.基础概念</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida885ee6a69dcad9e7903558c0353dd86 aria-expanded=false aria-controls=ida885ee6a69dcad9e7903558c0353dd86><i class="fa-solid fa-angle-right" id=caret-ida885ee6a69dcad9e7903558c0353dd86></i></a></div><ul class="nav docs-sidenav collapse" id=ida885ee6a69dcad9e7903558c0353dd86><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id38d3a1081d10620704fb65d97192d563")' href=#id38d3a1081d10620704fb65d97192d563 aria-expanded=false aria-controls=id38d3a1081d10620704fb65d97192d563 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9/>聚合与聚合根</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id38d3a1081d10620704fb65d97192d563 aria-expanded=false aria-controls=id38d3a1081d10620704fb65d97192d563><i class="fa-solid fa-angle-right" id=caret-id38d3a1081d10620704fb65d97192d563></i></a></div><ul class="nav docs-sidenav collapse" id=id38d3a1081d10620704fb65d97192d563><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9%E7%9A%84%E8%AE%BE%E8%AE%A1/>聚合与聚合根的设计</a></li></ul></div><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E9%A2%86%E5%9F%9F%E5%AF%B9%E8%B1%A1/>领域对象</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/>领域事件</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/1.%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E6%95%B0%E6%8D%AE%E8%A7%86%E5%9B%BE/>数据视图</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5348bda811f107701cb17614e921cf89")' href=#id5348bda811f107701cb17614e921cf89 aria-expanded=false aria-controls=id5348bda811f107701cb17614e921cf89 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/2.%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/>2.领域划分</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5348bda811f107701cb17614e921cf89 aria-expanded=false aria-controls=id5348bda811f107701cb17614e921cf89><i class="fa-solid fa-angle-right" id=caret-id5348bda811f107701cb17614e921cf89></i></a></div><ul class="nav docs-sidenav collapse" id=id5348bda811f107701cb17614e921cf89><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/2.%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E4%BA%8B%E4%BB%B6%E9%A3%8E%E6%9A%B4/>事件风暴</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/2.%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E6%8F%90%E7%82%BC%E9%97%AE%E9%A2%98%E5%9F%9F/>提炼问题域</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/2.%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%80%9A%E7%94%A8%E8%AF%AD%E8%A8%80/>通用语言</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/2.%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/>限界上下文</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id51db0d38cac16bb92828b38e034fdae6")' href=#id51db0d38cac16bb92828b38e034fdae6 aria-expanded=false aria-controls=id51db0d38cac16bb92828b38e034fdae6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/>3.分层架构</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id51db0d38cac16bb92828b38e034fdae6 aria-expanded=false aria-controls=id51db0d38cac16bb92828b38e034fdae6><i class="fa-solid fa-angle-right" id=caret-id51db0d38cac16bb92828b38e034fdae6></i></a></div><ul class="nav docs-sidenav collapse" id=id51db0d38cac16bb92828b38e034fdae6><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E5%B1%82%E7%9A%84%E5%88%92%E5%88%86/>层的划分</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E4%BB%A3%E7%A0%81%E6%A8%A1%E5%9E%8B/>代码模型</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E6%9C%8D%E5%8A%A1%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8D%8F%E4%BD%9C/>服务与数据协作</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8C%96/>架构演化</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/3.%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/>领域事件</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7a3b1fa203541763b6446d40f855c5bf")' href=#id7a3b1fa203541763b6446d40f855c5bf aria-expanded=false aria-controls=id7a3b1fa203541763b6446d40f855c5bf aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/4.%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/>4.开源框架</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7a3b1fa203541763b6446d40f855c5bf aria-expanded=false aria-controls=id7a3b1fa203541763b6446d40f855c5bf><i class="fa-solid fa-angle-right" id=caret-id7a3b1fa203541763b6446d40f855c5bf></i></a></div><ul class="nav docs-sidenav collapse" id=id7a3b1fa203541763b6446d40f855c5bf><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcb2626f7a7ef7b7ed3b4b51ee5afd77b")' href=#idcb2626f7a7ef7b7ed3b4b51ee5afd77b aria-expanded=false aria-controls=idcb2626f7a7ef7b7ed3b4b51ee5afd77b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/4.%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/contextmapper/>ContextMapper</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcb2626f7a7ef7b7ed3b4b51ee5afd77b aria-expanded=false aria-controls=idcb2626f7a7ef7b7ed3b4b51ee5afd77b><i class="fa-solid fa-angle-right" id=caret-idcb2626f7a7ef7b7ed3b4b51ee5afd77b></i></a></div><ul class="nav docs-sidenav collapse" id=idcb2626f7a7ef7b7ed3b4b51ee5afd77b><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/4.%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/contextmapper/%E4%BC%9A%E5%91%98%E7%B3%BB%E7%BB%9F-dsl-%E6%8F%8F%E8%BF%B0/>会员系统 DSL 描述</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idad6e33cb9a7d86eab4fee6f79748cf6d")' href=#idad6e33cb9a7d86eab4fee6f79748cf6d aria-expanded=false aria-controls=idad6e33cb9a7d86eab4fee6f79748cf6d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/>5.应用案例</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idad6e33cb9a7d86eab4fee6f79748cf6d aria-expanded=false aria-controls=idad6e33cb9a7d86eab4fee6f79748cf6d><i class="fa-solid fa-angle-right" id=caret-idad6e33cb9a7d86eab4fee6f79748cf6d></i></a></div><ul class="nav docs-sidenav collapse" id=idad6e33cb9a7d86eab4fee6f79748cf6d><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc94b4877cb9dfba1864f88905fe39c0b")' href=#idc94b4877cb9dfba1864f88905fe39c0b aria-expanded=false aria-controls=idc94b4877cb9dfba1864f88905fe39c0b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb0dd058253831e6496649c67249402e4")' href=#idb0dd058253831e6496649c67249402e4 aria-expanded=false aria-controls=idb0dd058253831e6496649c67249402e4 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idaa1fb9ed1f33b179e40d77c3fc9ae865")' href=#idaa1fb9ed1f33b179e40d77c3fc9ae865 aria-expanded=false aria-controls=idaa1fb9ed1f33b179e40d77c3fc9ae865 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide11506db267bf5162da66ad8d62a9b0f")' href=#ide11506db267bf5162da66ad8d62a9b0f aria-expanded=false aria-controls=ide11506db267bf5162da66ad8d62a9b0f aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2cc48756bee8fa56409d0c3f73110dbc")' href=#id2cc48756bee8fa56409d0c3f73110dbc aria-expanded=false aria-controls=id2cc48756bee8fa56409d0c3f73110dbc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E4%BB%8E-mvc-%E5%88%B0-ddd/>从 MVC 到 DDD</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2cc48756bee8fa56409d0c3f73110dbc aria-expanded=false aria-controls=id2cc48756bee8fa56409d0c3f73110dbc><i class="fa-solid fa-angle-right" id=caret-id2cc48756bee8fa56409d0c3f73110dbc></i></a></div><ul class="nav docs-sidenav collapse" id=id2cc48756bee8fa56409d0c3f73110dbc><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E4%BB%8E-mvc-%E5%88%B0-ddd/%E4%BB%8E-mvc-%E5%88%B0-ddd-%E7%9A%84%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/>从 MVC 到 DDD 的架构演进</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id669a134d578025b0c71199d340d9bc47")' href=#id669a134d578025b0c71199d340d9bc47 aria-expanded=false aria-controls=id669a134d578025b0c71199d340d9bc47 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/>数字钱包系统</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id669a134d578025b0c71199d340d9bc47 aria-expanded=false aria-controls=id669a134d578025b0c71199d340d9bc47><i class="fa-solid fa-angle-right" id=caret-id669a134d578025b0c71199d340d9bc47></i></a></div><ul class="nav docs-sidenav collapse" id=id669a134d578025b0c71199d340d9bc47><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1/>代码设计</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/5.%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/%E9%93%B6%E8%A1%8C%E8%BD%AC%E8%B4%A6/>银行转账</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfd5e66920c96f8e1d0d8c21ce6a34059")' href=#idfd5e66920c96f8e1d0d8c21ce6a34059 aria-expanded=false aria-controls=idfd5e66920c96f8e1d0d8c21ce6a34059 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/>分层架构</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfd5e66920c96f8e1d0d8c21ce6a34059 aria-expanded=false aria-controls=idfd5e66920c96f8e1d0d8c21ce6a34059><i class="fa-solid fa-angle-right" id=caret-idfd5e66920c96f8e1d0d8c21ce6a34059></i></a></div><ul class="nav docs-sidenav collapse" id=idfd5e66920c96f8e1d0d8c21ce6a34059><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E5%B1%82%E7%9A%84%E5%88%92%E5%88%86/>层的划分</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E4%BB%A3%E7%A0%81%E6%A8%A1%E5%9E%8B/>代码模型</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E6%9C%8D%E5%8A%A1%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8D%8F%E4%BD%9C/>服务与数据协作</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8C%96/>架构演化</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/>领域事件</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1683057645b972d91e6a539568a2ca6a")' href=#id1683057645b972d91e6a539568a2ca6a aria-expanded=false aria-controls=id1683057645b972d91e6a539568a2ca6a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/>基础概念</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1683057645b972d91e6a539568a2ca6a aria-expanded=false aria-controls=id1683057645b972d91e6a539568a2ca6a><i class="fa-solid fa-angle-right" id=caret-id1683057645b972d91e6a539568a2ca6a></i></a></div><ul class="nav docs-sidenav collapse" id=id1683057645b972d91e6a539568a2ca6a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0208619270c274b6212ea9b0eb12f56f")' href=#id0208619270c274b6212ea9b0eb12f56f aria-expanded=false aria-controls=id0208619270c274b6212ea9b0eb12f56f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9/>聚合与聚合根</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0208619270c274b6212ea9b0eb12f56f aria-expanded=false aria-controls=id0208619270c274b6212ea9b0eb12f56f><i class="fa-solid fa-angle-right" id=caret-id0208619270c274b6212ea9b0eb12f56f></i></a></div><ul class="nav docs-sidenav collapse" id=id0208619270c274b6212ea9b0eb12f56f><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9/%E8%81%9A%E5%90%88%E4%B8%8E%E8%81%9A%E5%90%88%E6%A0%B9%E7%9A%84%E8%AE%BE%E8%AE%A1/>聚合与聚合根的设计</a></li></ul></div><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E9%A2%86%E5%9F%9F%E5%AF%B9%E8%B1%A1/>领域对象</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/>领域事件</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/%E6%95%B0%E6%8D%AE%E8%A7%86%E5%9B%BE/>数据视图</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ideb39f6da1c117c87bfe456264d97cd08")' href=#ideb39f6da1c117c87bfe456264d97cd08 aria-expanded=false aria-controls=ideb39f6da1c117c87bfe456264d97cd08 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/>开源框架</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ideb39f6da1c117c87bfe456264d97cd08 aria-expanded=false aria-controls=ideb39f6da1c117c87bfe456264d97cd08><i class="fa-solid fa-angle-right" id=caret-ideb39f6da1c117c87bfe456264d97cd08></i></a></div><ul class="nav docs-sidenav collapse" id=ideb39f6da1c117c87bfe456264d97cd08><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id931067d02635b6d4672039a57edd3edd")' href=#id931067d02635b6d4672039a57edd3edd aria-expanded=false aria-controls=id931067d02635b6d4672039a57edd3edd aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/contextmapper/>ContextMapper</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id931067d02635b6d4672039a57edd3edd aria-expanded=false aria-controls=id931067d02635b6d4672039a57edd3edd><i class="fa-solid fa-angle-right" id=caret-id931067d02635b6d4672039a57edd3edd></i></a></div><ul class="nav docs-sidenav collapse" id=id931067d02635b6d4672039a57edd3edd><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/contextmapper/%E4%BC%9A%E5%91%98%E7%B3%BB%E7%BB%9F-dsl-%E6%8F%8F%E8%BF%B0/>会员系统 DSL 描述</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida0c798fdb544471d890d671d3cf26d1f")' href=#ida0c798fdb544471d890d671d3cf26d1f aria-expanded=false aria-controls=ida0c798fdb544471d890d671d3cf26d1f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/>领域划分</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida0c798fdb544471d890d671d3cf26d1f aria-expanded=false aria-controls=ida0c798fdb544471d890d671d3cf26d1f><i class="fa-solid fa-angle-down" id=caret-ida0c798fdb544471d890d671d3cf26d1f></i></a></div><ul class="nav docs-sidenav collapse show" id=ida0c798fdb544471d890d671d3cf26d1f><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E4%BA%8B%E4%BB%B6%E9%A3%8E%E6%9A%B4/>事件风暴</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E6%8F%90%E7%82%BC%E9%97%AE%E9%A2%98%E5%9F%9F/>提炼问题域</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%80%9A%E7%94%A8%E8%AF%AD%E8%A8%80/>通用语言</a></li><li class="child level active"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/>限界上下文</a></li></ul></div><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5/>设计理念</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf4e0f91cb917fcdb2830506074f945a6")' href=#idf4e0f91cb917fcdb2830506074f945a6 aria-expanded=false aria-controls=idf4e0f91cb917fcdb2830506074f945a6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/>应用案例</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf4e0f91cb917fcdb2830506074f945a6 aria-expanded=false aria-controls=idf4e0f91cb917fcdb2830506074f945a6><i class="fa-solid fa-angle-right" id=caret-idf4e0f91cb917fcdb2830506074f945a6></i></a></div><ul class="nav docs-sidenav collapse" id=idf4e0f91cb917fcdb2830506074f945a6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf09d0f2ea3a2b25060641efbb750b80b")' href=#idf09d0f2ea3a2b25060641efbb750b80b aria-expanded=false aria-controls=idf09d0f2ea3a2b25060641efbb750b80b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6d74fd4fb6cf1350fdc0aacfc2e5f23d")' href=#id6d74fd4fb6cf1350fdc0aacfc2e5f23d aria-expanded=false aria-controls=id6d74fd4fb6cf1350fdc0aacfc2e5f23d aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id45a0815df192a03ac1b2a386caa6816b")' href=#id45a0815df192a03ac1b2a386caa6816b aria-expanded=false aria-controls=id45a0815df192a03ac1b2a386caa6816b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2d06f919b25ea1f332aaf574a9891a0d")' href=#id2d06f919b25ea1f332aaf574a9891a0d aria-expanded=false aria-controls=id2d06f919b25ea1f332aaf574a9891a0d aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ided08d80c524f77f1fdf7642a7e6afa49")' href=#ided08d80c524f77f1fdf7642a7e6afa49 aria-expanded=false aria-controls=ided08d80c524f77f1fdf7642a7e6afa49 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E4%BB%8E-mvc-%E5%88%B0-ddd/>从 MVC 到 DDD</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ided08d80c524f77f1fdf7642a7e6afa49 aria-expanded=false aria-controls=ided08d80c524f77f1fdf7642a7e6afa49><i class="fa-solid fa-angle-right" id=caret-ided08d80c524f77f1fdf7642a7e6afa49></i></a></div><ul class="nav docs-sidenav collapse" id=ided08d80c524f77f1fdf7642a7e6afa49><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E4%BB%8E-mvc-%E5%88%B0-ddd/%E4%BB%8E-mvc-%E5%88%B0-ddd-%E7%9A%84%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/>从 MVC 到 DDD 的架构演进</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id62b44f033294eba52cbe346844e73981")' href=#id62b44f033294eba52cbe346844e73981 aria-expanded=false aria-controls=id62b44f033294eba52cbe346844e73981 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/>数字钱包系统</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id62b44f033294eba52cbe346844e73981 aria-expanded=false aria-controls=id62b44f033294eba52cbe346844e73981><i class="fa-solid fa-angle-right" id=caret-id62b44f033294eba52cbe346844e73981></i></a></div><ul class="nav docs-sidenav collapse" id=id62b44f033294eba52cbe346844e73981><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1/>代码设计</a></li><li class="child level"><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/%E6%95%B0%E5%AD%97%E9%92%B1%E5%8C%85%E7%B3%BB%E7%BB%9F/%E9%93%B6%E8%A1%8C%E8%BD%AC%E8%B4%A6/>银行转账</a></li></ul></div></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#鲁棒图>鲁棒图</a></li></ul><ul><li><a href=#自治单元>自治单元</a></li><li><a href=#域依赖度>域依赖度</a></li></ul><ul><li><a href=#电商系统>电商系统</a></li><li><a href=#crm-系统>CRM 系统</a></li><li><a href=#国际报税系统>国际报税系统</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>限界上下文</h1><div class=article-style><h1 id=限界上下文>限界上下文</h1><p>对一个大型系统，领域模型的完全统一将是不可行的或者不划算的。DDD 的构建块不能盲目地应用在一个无限大的领域模型上，一个无限大的领域模型也无助于我们开发出优质的软件，限界上下文是分解领域模型的关键。限界上下文是一种分而治之的思维，也是一种高层的抽象机制，让人们对领域进行本质思考，简化问题和应对复杂性；它保证领域模型的一致性和完整性，清晰边界的控制力保证了领域的安全和稳定。</p><p>我们可以将限界上下文拆解为两个词：限界和上下文。限界就是领域的边界，而上下文则是语义环境。通过领域的限界上下文，我们就可以在统一的领域边界内用统一的语言进行交流。限界上下文用来封装通用语言和领域对象，提供上下文环境，保证在领域之内的一些术语、业务相关对象等（通用语言）有一个确切的含义，没有二义性。这个边界定义了模型的适用范围，使团队所有成员能够明确地知道什么应该在模型中实现，什么不应该在模型中实现。</p><p>用一个保险领域的例子来说明下术语的边界。保险业务领域有投保单、保单、批单、赔案等保险术语，它们分别应用于保险的不同业务流程。</p><ul><li>客户投保时，业务人员记录投保信息，系统对应有投保单实体对象。</li><li>缴费完成后，业务人员将投保单转为保单，系统对应有保单实体对象，保单实体与投保单实体关联。</li><li>如客户需要修改保单信息，保单变为批单，系统对应有批单实体对象，批单实体与保单实体关联。</li><li>如果客户发生理赔，生成赔案，系统对应有报案实体对象，报案实体对象与保单或者批单实体关联。</li></ul><p>投保单、保单、批单、赔案等，这些术语虽然都跟保单有关，但不能将保单这个术语作用在保险全业务领域。因为术语有它的边界，超出了边界理解上就会出现问题。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/05/y8AlQI.png alt=保单模型案例 loading=lazy data-zoomable></div></div></figure></p><p>首先，领域可以拆分为多个子领域。一个领域相当于一个问题域，领域拆分为子域的过程就是大问题拆分为小问题的过程。在这个图里面保险领域被拆分为：投保、支付、保单管理和理赔四个子域。子域还可根据需要进一步拆分为子子域，比如，支付子域可继续拆分为收款和付款子子域。拆到一定程度后，有些子子域的领域边界就可能变成限界上下文的边界了。</p><p>子域可能会包含多个限界上下文，如理赔子域就包括报案、查勘和定损等多个限界上下文（限界上下文与理赔的子子域领域边界重合）。也有可能子域本身的边界就是限界上下文边界，如投保子域。每个领域模型都有它对应的限界上下文，团队在限界上下文内用通用语言交流。领域内所有限界上下文的领域模型构成整个领域的领域模型。理论上限界上下文就是微服务的边界。我们将限界上下文内的领域模型映射到微服务，就完成了从问题域到软件的解决方案。可以说，限界上下文是微服务设计和拆分的主要依据。在领域模型中，如果不考虑技术异构、团队沟通等其它外部因素，一个限界上下文理论上就可以设计为一个微服务。</p><h1 id=识别限界上下文>识别限界上下文</h1><p>明确了系统的问题域和业务期望后，梳理出主要的业务流程，这些业务流程体现了各种参与者在这个过程中通过业务活动共同协作，最终完成具有业务价值的领域功能。业务流程结合了参与角色（Who）、业务活动（What）和业务价值（Why）。在业务流程的基础上，我们就可以抽象出不同的业务场景，这些业务场景又由多个业务活动组成，可以利用领域场景分析方法剖析场景，以帮助我们识别业务活动，例如采用用例对场景进行分析，此时，一个业务活动实则就是一个用例。业务流程是一个由多个用户角色参与的动态过程，而业务场景则是这些用户角色执行业务活动的静态上下文。</p><p>接下来，我们利用领域场景分析的用例分析方法剖析这些场景。通过参与者（Actor）来驱动对用例的识别，这些参与者恰好就是参与到场景业务活动的角色。根据用例描述出来的业务活动应该与统一语言一致，最好直接从统一语言中撷取。一旦准确地用统一语言描述出这些业务活动，我们就可以从语义相关性和功能相关性两个方面识别业务边界，进而提炼出初步的限界上下文。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/y13oPP.png alt=限界上下文的提炼 loading=lazy data-zoomable></div></div></figure></p><p>从不同角度看待限界上下文，限界上下文会呈现出对不同对象的控制力。</p><ul><li>领域逻辑层面：限界上下文确定了领域模型的业务边界，维护了模型的完整性与一致性，从而降低系统的业务复杂度。</li><li>团队合作层面：限界上下文确定了团队的工作边界，建立了团队之间的合作模式，提升了团队间的协作效率，“康威定律”告诉我们，系统设计（产品结构）等同组织形式，每个设计系统的组织，其产生的设计等同于组织之间的沟通结构，限界上下文指导产生的团队结构的工作模式是最高效的。</li><li>技术架构层面：限界上下文确定了系统架构的应用边界，保证了系统层和上下文领域层各自的一致性，建立了上下文之间的集成方式。微服务中，限界上下文指导技术人员划分微服务的边界，通常一个限界上下文作为一个在独立进程中运行的微服务。</li></ul><h2 id=鲁棒图>鲁棒图</h2><p>鲁棒图是需求设计过程中使用的一种方法（鲁棒性分析），通过鲁棒分析法可以让设计人员更清晰、全面了解需求。它通常使用在需求分析后及需求设计前做软件架构分析之用，它主要注重于功能需求的设计分析工作。需求规格说明书为其输入信息，设计模型为其输出信息。它是从功能需求向设计方案过渡的第一步，重点是识别组成软件系统的高级职责模块、规划模块之间的关系。</p><p>鲁棒图包含三种图形：边界、控制、实体，三个图形如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/zB0LD1Jn/image.png alt loading=lazy data-zoomable></div></div></figure></p><ul><li>边界：起与外界交互的作用，它只能与控制对象和执行者有关系</li><li>控制：对业务控制、流程控制的作用，它能与边界对象和实体对象有关系</li><li>实体：业务元素的存储对象，与领域模型中的对象有良好的关系。它只能与控制对象有关系</li></ul><p>我们在对之前识别出的每个 Use Case，都可以绘制一份鲁棒图。通过绘制鲁棒图，我们可以定义出该场景的涉及到的边界类、控制类以及这些控制类会加工/处理哪些实体对象。我们以邮箱注册账号这个 Case 为例，我们可以简单的绘制出鲁棒图如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/dVrLkCsQ/image.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=域划分评估>域划分评估</h1><p>在领域划分之后往往可以得到一个或多个域划分的方案（或者组合），接下来就是判断哪种划分方案更为合理。主要的判定原则会参照经典的“高内聚、低耦合”的原则，即将绘制每个 Use Case 的时序图，并以域为维度来绘制生命周期线，看域与域之间的调用是否过于频繁？甚至是反复调用不同的域服务？如果存在这种情况，就意味着这两个域之间存在比较严重的耦合。这往往通过直观就能有个大致的判断。</p><h2 id=自治单元>自治单元</h2><p>DDD 驱动我们把每一个限界上下文设计成一个个“自治”的单元，自治要满足四个特点：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/y18sds.png alt=自治单元概念示意 loading=lazy data-zoomable></div></div></figure></p><ul><li><p>最小完备是实现自治的基本条件，指的是自治单元履行的职责是根据业务价值的完整性和最小功能集进行设计的，这让自治单元无需求助其他自治单元获得信息，避免了不必要的依赖关系，同时也避免了不必要和不合适的职责添加到该自治单元上。</p></li><li><p>自我履行意味着由自治单元自身决定要做什么。是否应该履行某职责，由限界上下文拥有的信息来决定。站在自治单元的角度去思考：“如果我拥有了这些信息，我究竟应该履行哪些职责？”这些职责属于当前上下文的活动范围，一旦超出，就该毫不犹豫地将不属于该范围的请求转交给别的上下文。自我履行其实意味着对知识的掌握，为避免风险，你要履行的职责一定是你掌握的知识范畴之内。</p></li><li><p>稳定空间指的是减少外界变化对限界上下文内部的影响。稳定空间符合开放封闭原则（OCP），即对修改是封闭的，对扩展是开放的，该原则其实体现了一个单元的封闭空间与开放空间。封闭空间体现为对细节的封装与隐藏，开放空间体现为对共性特征的抽象与统一，二者共同确保了整个空间的稳定。</p></li><li><p>独立进化指的是减少限界上下文的变化对外界的影响。用限界上下文的上下游关系来阐释，则稳定空间寓意下游限界上下文，无论上游怎么变，我自岿然不动。要做到独立进化，就必须保证对外公开接口的稳定性，因为这些接口被众多消费者依赖和调用，一旦发生变更，就会牵一发而动全身。一个独立进化的限界上下文，需要一个稳定、设计良好的接口设计，并在版本上考虑了兼容与演化。</p></li></ul><p>最小完备是基础，只有赋予了限界上下文足够的信息，才能保证它的自我履行。稳定空间与独立进化则一个对内一个对外，是对变化的有效应对，而它们又是通过最小完备和自我履行来保障限界上下文受到变化的影响最小。</p><h2 id=域依赖度>域依赖度</h2><p>如果要从定量角度来分析，可以参考代码圈复杂度的度量算法，我们也可以设定一个“域依赖度”算法，来衡量域与域之间的依赖度。对于依赖度比较高的几个域，我们可以采用：域合并，域拆分或者提取第三方域做依赖倒置等降低耦合。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/MTQWN2n6/image.png alt loading=lazy data-zoomable></div></div></figure></p><p>通过将所有的 Use Case（至少是最关键的一级 Case）绘制完时序图后，我们基本上就可以得到一个经过平衡考量后合理的域划分。</p><h1 id=上下文映射>上下文映射</h1><p>限界上下文仅是一种对领域问题域的静态划分，还缺少一个重要的关注点，即：限界上下文之间是如何协作的？当我们发现彼此协作存在问题时，说明限界上下文的划分出现了问题，也是识别限界上下文的一种验证方法。Eric Evans 将这种体现限界上下文协作方式的要素称之为“上下文映射（Context Map）”，并给出了 9 种上下文映射关系：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/y1GkSf.png alt="9 种上下文映射" loading=lazy data-zoomable></div></div></figure></p><p>Open Host Service 相当于微服务之间的协作关系；防腐层（Anti-Corruption）是一种高度防御性的策略，结合门面（Facade）模式和适配器（Adapter）设计模式，将模型与其需要集成的其他模型隔离开来，以防止被频繁变更或不稳定的依赖模型污染和腐败。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/y1Gmwj.png alt=防腐层辅助上下文映射 loading=lazy data-zoomable></div></div></figure></p><h1 id=领域划分案例>领域划分案例</h1><p>接下来，我们通过对所有实体对象进行分类，就可以完成域划分了。</p><h2 id=电商系统>电商系统</h2><p>比如，主订单、子订单对象可以归类到交易域；买家、卖家对象可以归类到商户域等：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/CLy2Dr6S/image.png alt loading=lazy data-zoomable></div></div></figure></p><p>先行分析实体与事件关系，如下：</p><ul><li>订单：创建、付款、收款、关单、撤销、退款、查询、充转提</li><li>商户、用户：查询、鉴权、注册</li><li>产品：签约、制定计收费规划</li></ul><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/fbr6tz9R/image.png alt loading=lazy data-zoomable></div></div></figure></p><p>当然，最终所有的对象是归类到十个域还是二十个域，从理论上看，可以看做一次排列组合过程。只是，我们往往可以根据以往的经验、业务知识，做一个初始的域划分（但不见得是靠谱的）。因此，我们可以认为一个域实际上是一个或多个实体对象的信息集合，并对所管理的实体对象的生命周期进行管理。</p><ul><li>一个域管理一个或多个实体对象</li><li>一个实体对象被一个域进行管理</li><li>如果出现一个实体对象被多个域进行管理，那么相关域的职责实际上就是存在冲突，存在耦合，相互影响。</li></ul><h2 id=crm-系统>CRM 系统</h2><p>比如在 CRM 领域，我们按照下面的战略设计图，我会自然的把 CRM 系统划分成销售服务，组织权限服务，营销服务，售卖服务：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/R055KqkF/image.png alt loading=lazy data-zoomable></div></div></figure></p><h2 id=国际报税系统>国际报税系统</h2><p>国际报税系统是为跨国公司的驻外出差雇员（系统中被称之为 Assignee）提供方便一体化的税收信息填报平台。客户是一家会计师事务所，该事务所的专员（Admin）通过该平台可以收集雇员提交的报税信息，然后对这些信息进行税务评审。如果 Admin 评审出信息有问题，则返回给 Assignee 重新修改和填报。一旦信息确认无误，则进行税收分析和计算，并获得最终的税务报告提交给当地政府以及雇员本人。</p><p>在早期的架构设计时，架构师并没有对整个系统的问题域进行拆分，而是基于用户角色对系统进行了简单粗暴的划分，分为了两个相对独立的子系统：Frond End 与 Office End，这两个子系统单独部署，分别面向 Assignee 与 Admin。系统之间的集成则通过消息和 Web Service 进行通信。两个子系统的开发分属不同的团队，Frond End 由美国的团队负责开发与维护，而 Office End 则由印度的团队负责。整个架构如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/ylzHwn.png alt=原架构图 loading=lazy data-zoomable></div></div></figure></p><p><strong>采用这种架构面临的问题如下：</strong></p><ul><li>庞大的代码库：整个 Front End 和 Office End 都没有做物理分解，随着需求的增多，代码库会变得格外庞大。</li><li>分散的逻辑：系统分解的边界是不合理的，没有按照业务分解，而是按照用户的角色进行分解，因而导致大量相似的逻辑分散在两个不同的子系统中。</li><li>重复的数据：两个子系统中存在业务重叠，因而也导致了部分数据的重复。</li><li>复杂的集成：Front End 与 Office End 因为某些相关的业务需要彼此通信，这种集成关系是双向的，且由两个不同的团队开发，导致集成的接口混乱，消息协议多样化。</li><li>知识未形成共享：两个团队完全独立开发，没有掌握端对端的整体流程，团队之间没有形成知识的共享。</li><li>无法应对需求变化：新增需求包括对国际旅游、Visa 的支持，现有系统的架构无法很好地支持这些变化。</li></ul><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/04/ylzXWT.png alt=划分后的图 loading=lazy data-zoomable></div></div></figure></p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/architecture-series/3.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86/%E9%80%9A%E7%94%A8%E8%AF%AD%E8%A8%80/ rel=next>通用语言</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte-website.oss-accelerate.aliyuncs.com/disqus/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte-website.oss-accelerate.aliyuncs.com/disqus/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>