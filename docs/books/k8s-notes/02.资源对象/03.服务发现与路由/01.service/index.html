<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
  

  

  
  
  
    
  
  <meta name="description" content="Next-gen Tech Edu" />

  
  <link rel="alternate" hreflang="zh" href="https://ng-tech.icu/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css" integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin="anonymous">
    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.0d97305106da5efa530e28b021b4c580.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-40NYXJ8823");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  
    <link rel="alternate" href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/index.xml" type="application/rss+xml" title="Next-gen Tech Edu" />
  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://ng-tech.icu/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@wx-chevalier" />
    <meta property="twitter:creator" content="@wx-chevalier" />
  
  <meta property="og:site_name" content="Next-gen Tech Edu" />
  <meta property="og:url" content="https://ng-tech.icu/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/" />
  <meta property="og:title" content="01.Service | Next-gen Tech Edu" />
  <meta property="og:description" content="Next-gen Tech Edu" /><meta property="og:image" content="https://ng-tech.icu/media/sharing.png" />
    <meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
  

  



  

  





  <title>01.Service | Next-gen Tech Edu</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="143781fc9c8e8f8a054706359959ae09" >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Next-gen Tech Edu</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/books-gallery"><span>笔记（万篇）</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#knowledge-map"><span>知识图谱</span></a>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>实验室</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/galaxy-home/gh-craft"><span>Craft 方块世界</span></a>
              
                <a class="dropdown-item" href="/galaxy-home/glossary-cards"><span>3D 知识卡牌</span></a>
              
            </div>
          </li>

          
          

          
          <style>
            .dropdown-item{
              display: inline-flex;
            }
          </style>
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>其他阅读渠道</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png"></img><span>知乎</span></a>
              
                <a class="dropdown-item" href="https://segmentfault.com/blog/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png"></img><span>SegmentFault</span></a>
              
                <a class="dropdown-item" href="https://zhuanlan.zhihu.com/wxyyxc1992"><img style="width:16px;height:16px;display:inline-block;margin-right:8px" src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png"></img><span>掘金</span></a>
              
            </div>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link" href="https://github.com/wx-chevalier" aria-label="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>
        </li>
        

        
        
        

        
        
        
        <div></div>
        
        <style>
        @media only screen and (max-width: 600px) {
          .jimmysong-template {
            display: none!important;
          }
        }
        </style>
        
        <li class="jimmysong-template" style="color: white;font-size: 12px;">
          <a href="https://jimmysong.io" style="color: white">By Jimmy Song's Template</a>
        </li>
      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">
<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          03.服务发现与路由
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      <ul class="nav docs-sidenav">
        <li style="display: inline-flex">
          <a style="cursor: pointer;" onclick="window.history.back()">
            <i class="fas fa-arrow-left pr-1"></i>
            Back
          </a>
          <span>|</span>
          <a href="/books/">
            <i class="fa-solid fa-house" style="margin-right: 4px"></i>
            Books
          </a>
        </li>
      </ul>

      
      
        
          
        
      



  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id10d5a829473bb232612fd80e732f6a2a&#34;)" href="#id10d5a829473bb232612fd80e732f6a2a" aria-expanded="false" aria-controls="id10d5a829473bb232612fd80e732f6a2a" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/">02.资源对象</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id10d5a829473bb232612fd80e732f6a2a" aria-expanded="false" aria-controls="id10d5a829473bb232612fd80e732f6a2a">
    
    <i class="fa-solid fa-angle-down" id="caret-id10d5a829473bb232612fd80e732f6a2a"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id10d5a829473bb232612fd80e732f6a2a">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idbe6e1386855a9f859d5574f258dc59e7&#34;)" href="#idbe6e1386855a9f859d5574f258dc59e7" aria-expanded="false" aria-controls="idbe6e1386855a9f859d5574f258dc59e7" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/">01.Pod</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idbe6e1386855a9f859d5574f258dc59e7" aria-expanded="false" aria-controls="idbe6e1386855a9f859d5574f258dc59e7">
    
        <i class="fa-solid fa-angle-right" id="caret-idbe6e1386855a9f859d5574f258dc59e7"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idbe6e1386855a9f859d5574f258dc59e7">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id84702f0ebb91e1ebeff9270f3407753d&#34;)" href="#id84702f0ebb91e1ebeff9270f3407753d" aria-expanded="false" aria-controls="id84702f0ebb91e1ebeff9270f3407753d" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%85%B1%E4%BA%AB%E4%B8%8E%E8%B0%83%E5%BA%A6/">共享与调度</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id84702f0ebb91e1ebeff9270f3407753d" aria-expanded="false" aria-controls="id84702f0ebb91e1ebeff9270f3407753d">
    
        <i class="fa-solid fa-angle-right" id="caret-id84702f0ebb91e1ebeff9270f3407753d"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id84702f0ebb91e1ebeff9270f3407753d">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%85%B1%E4%BA%AB%E4%B8%8E%E8%B0%83%E5%BA%A6/%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8/">共享存储</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%85%B1%E4%BA%AB%E4%B8%8E%E8%B0%83%E5%BA%A6/%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/">进程通信</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%85%B1%E4%BA%AB%E4%B8%8E%E8%B0%83%E5%BA%A6/%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4/">网络空间</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-ide6ea2461f8efaeae93a5421f513dbe2e&#34;)" href="#ide6ea2461f8efaeae93a5421f513dbe2e" aria-expanded="false" aria-controls="ide6ea2461f8efaeae93a5421f513dbe2e" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/">声明与管理</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#ide6ea2461f8efaeae93a5421f513dbe2e" aria-expanded="false" aria-controls="ide6ea2461f8efaeae93a5421f513dbe2e">
    
        <i class="fa-solid fa-angle-right" id="caret-ide6ea2461f8efaeae93a5421f513dbe2e"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="ide6ea2461f8efaeae93a5421f513dbe2e">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/hello-world/">Hello World</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/01.pod/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/initcontainers/">InitContainers</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id361eddde4c13b79822c10e775a93d5a7&#34;)" href="#id361eddde4c13b79822c10e775a93d5a7" aria-expanded="false" aria-controls="id361eddde4c13b79822c10e775a93d5a7" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/">02.控制器</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id361eddde4c13b79822c10e775a93d5a7" aria-expanded="false" aria-controls="id361eddde4c13b79822c10e775a93d5a7">
    
        <i class="fa-solid fa-angle-right" id="caret-id361eddde4c13b79822c10e775a93d5a7"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id361eddde4c13b79822c10e775a93d5a7">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idc26556b0a67661384a0499d460c369da&#34;)" href="#idc26556b0a67661384a0499d460c369da" aria-expanded="false" aria-controls="idc26556b0a67661384a0499d460c369da" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/ambassador/">Ambassador</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idc26556b0a67661384a0499d460c369da" aria-expanded="false" aria-controls="idc26556b0a67661384a0499d460c369da">
    
        <i class="fa-solid fa-angle-right" id="caret-idc26556b0a67661384a0499d460c369da"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idc26556b0a67661384a0499d460c369da">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/ambassador/k3s-%E7%BB%93%E5%90%88-ambassador-%E9%83%A8%E7%BD%B2/">K3s 结合 Ambassador 部署</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idef607b1bda186fc6dbccfe822cb6d94c&#34;)" href="#idef607b1bda186fc6dbccfe822cb6d94c" aria-expanded="false" aria-controls="idef607b1bda186fc6dbccfe822cb6d94c" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id3deea3c14cdea93b81ebf50943b480f5&#34;)" href="#id3deea3c14cdea93b81ebf50943b480f5" aria-expanded="false" aria-controls="id3deea3c14cdea93b81ebf50943b480f5" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/">Deployment</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id3deea3c14cdea93b81ebf50943b480f5" aria-expanded="false" aria-controls="id3deea3c14cdea93b81ebf50943b480f5">
    
        <i class="fa-solid fa-angle-right" id="caret-id3deea3c14cdea93b81ebf50943b480f5"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id3deea3c14cdea93b81ebf50943b480f5">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idc064d7b030310d5597b2597b5c2cdcc0&#34;)" href="#idc064d7b030310d5597b2597b5c2cdcc0" aria-expanded="false" aria-controls="idc064d7b030310d5597b2597b5c2cdcc0" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E6%A1%88%E4%BE%8B/">案例</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idc064d7b030310d5597b2597b5c2cdcc0" aria-expanded="false" aria-controls="idc064d7b030310d5597b2597b5c2cdcc0">
    
        <i class="fa-solid fa-angle-right" id="caret-idc064d7b030310d5597b2597b5c2cdcc0"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idc064d7b030310d5597b2597b5c2cdcc0">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E6%A1%88%E4%BE%8B/%E9%9B%86%E7%BE%A4%E5%BA%94%E7%94%A8/">集群应用</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E6%A1%88%E4%BE%8B/%E7%AE%80%E5%8D%95%E6%97%A0%E7%8A%B6%E6%80%81%E5%BA%94%E7%94%A8/">简单无状态应用</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E6%A1%88%E4%BE%8B/%E6%9C%89%E7%8A%B6%E6%80%81%E5%BA%94%E7%94%A8/">有状态应用</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id036bea786ec821b8143e9f1604cfdbf9&#34;)" href="#id036bea786ec821b8143e9f1604cfdbf9" aria-expanded="false" aria-controls="id036bea786ec821b8143e9f1604cfdbf9" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/">声明与管理</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id036bea786ec821b8143e9f1604cfdbf9" aria-expanded="false" aria-controls="id036bea786ec821b8143e9f1604cfdbf9">
    
        <i class="fa-solid fa-angle-right" id="caret-id036bea786ec821b8143e9f1604cfdbf9"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id036bea786ec821b8143e9f1604cfdbf9">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/daemonset/">DaemonSet</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/deployment/">Deployment</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%AE%A1%E7%90%86/replicaset/">ReplicaSet</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id097ec02762192176c10495d2f21aa6ff&#34;)" href="#id097ec02762192176c10495d2f21aa6ff" aria-expanded="false" aria-controls="id097ec02762192176c10495d2f21aa6ff" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E9%99%90%E5%88%B6%E4%B8%8E%E8%B0%83%E5%BA%A6/">限制与调度</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id097ec02762192176c10495d2f21aa6ff" aria-expanded="false" aria-controls="id097ec02762192176c10495d2f21aa6ff">
    
        <i class="fa-solid fa-angle-right" id="caret-id097ec02762192176c10495d2f21aa6ff"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id097ec02762192176c10495d2f21aa6ff">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E9%99%90%E5%88%B6%E4%B8%8E%E8%B0%83%E5%BA%A6/%E8%8A%82%E7%82%B9%E8%B0%83%E5%BA%A6/">节点调度</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/deployment/%E9%99%90%E5%88%B6%E4%B8%8E%E8%B0%83%E5%BA%A6/%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6/">资源限制</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id4bbfe7546e9bdc88bb750456f099f7ca&#34;)" href="#id4bbfe7546e9bdc88bb750456f099f7ca" aria-expanded="false" aria-controls="id4bbfe7546e9bdc88bb750456f099f7ca" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/sidecar/">SideCar</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id4bbfe7546e9bdc88bb750456f099f7ca" aria-expanded="false" aria-controls="id4bbfe7546e9bdc88bb750456f099f7ca">
    
        <i class="fa-solid fa-angle-right" id="caret-id4bbfe7546e9bdc88bb750456f099f7ca"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id4bbfe7546e9bdc88bb750456f099f7ca">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/sidecar/adimission-controller/">Adimission Controller</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id6d66cbe8b67245429307691baccfb06f&#34;)" href="#id6d66cbe8b67245429307691baccfb06f" aria-expanded="false" aria-controls="id6d66cbe8b67245429307691baccfb06f" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/stateful-set/">Stateful Set</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id6d66cbe8b67245429307691baccfb06f" aria-expanded="false" aria-controls="id6d66cbe8b67245429307691baccfb06f">
    
        <i class="fa-solid fa-angle-right" id="caret-id6d66cbe8b67245429307691baccfb06f"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id6d66cbe8b67245429307691baccfb06f">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id66eacddf6a88a72bf9f04c486142501a&#34;)" href="#id66eacddf6a88a72bf9f04c486142501a" aria-expanded="false" aria-controls="id66eacddf6a88a72bf9f04c486142501a" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/stateful-set/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">99.参考资料</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id66eacddf6a88a72bf9f04c486142501a" aria-expanded="false" aria-controls="id66eacddf6a88a72bf9f04c486142501a">
    
        <i class="fa-solid fa-angle-right" id="caret-id66eacddf6a88a72bf9f04c486142501a"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id66eacddf6a88a72bf9f04c486142501a">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/02.%E6%8E%A7%E5%88%B6%E5%99%A8/stateful-set/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2021.kubernetes-statefulset-examples-best-practices/">2021.Kubernetes StatefulSet - Examples &amp; Best Practices</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id3fd60b471485e42108168d8435991fe3&#34;)" href="#id3fd60b471485e42108168d8435991fe3" aria-expanded="false" aria-controls="id3fd60b471485e42108168d8435991fe3" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/">03.服务发现与路由</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id3fd60b471485e42108168d8435991fe3" aria-expanded="false" aria-controls="id3fd60b471485e42108168d8435991fe3">
    
    <i class="fa-solid fa-angle-down" id="caret-id3fd60b471485e42108168d8435991fe3"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id3fd60b471485e42108168d8435991fe3">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id70401182242ac6517a73ecac7ae108c0&#34;)" href="#id70401182242ac6517a73ecac7ae108c0" aria-expanded="false" aria-controls="id70401182242ac6517a73ecac7ae108c0" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link  active" href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/">01.Service</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id70401182242ac6517a73ecac7ae108c0" aria-expanded="false" aria-controls="id70401182242ac6517a73ecac7ae108c0">
    
        <i class="fa-solid fa-angle-right" id="caret-id70401182242ac6517a73ecac7ae108c0"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse   show" id="id70401182242ac6517a73ecac7ae108c0">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/%E6%A1%88%E4%BE%8B%E8%AE%BF%E9%97%AE%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1/">案例：访问应用服务</a></li>




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id7ca591ca97bb0c26b8897b1b9ff102e6&#34;)" href="#id7ca591ca97bb0c26b8897b1b9ff102e6" aria-expanded="false" aria-controls="id7ca591ca97bb0c26b8897b1b9ff102e6" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/%E6%9C%8D%E5%8A%A1%E5%AE%9A%E4%B9%89/">服务定义</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id7ca591ca97bb0c26b8897b1b9ff102e6" aria-expanded="false" aria-controls="id7ca591ca97bb0c26b8897b1b9ff102e6">
    
        <i class="fa-solid fa-angle-right" id="caret-id7ca591ca97bb0c26b8897b1b9ff102e6"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id7ca591ca97bb0c26b8897b1b9ff102e6">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/01.service/%E6%9C%8D%E5%8A%A1%E5%AE%9A%E4%B9%89/clusterip/">ClusterIP</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id08151cd819e6c534c78d4e6dd0d98489&#34;)" href="#id08151cd819e6c534c78d4e6dd0d98489" aria-expanded="false" aria-controls="id08151cd819e6c534c78d4e6dd0d98489" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/02.ingress/">02.Ingress</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id08151cd819e6c534c78d4e6dd0d98489" aria-expanded="false" aria-controls="id08151cd819e6c534c78d4e6dd0d98489">
    
        <i class="fa-solid fa-angle-right" id="caret-id08151cd819e6c534c78d4e6dd0d98489"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id08151cd819e6c534c78d4e6dd0d98489">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idd601e2273a8f1ac66e0995b200c16a10&#34;)" href="#idd601e2273a8f1ac66e0995b200c16a10" aria-expanded="false" aria-controls="idd601e2273a8f1ac66e0995b200c16a10" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/02.ingress/nginx/">Nginx</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idd601e2273a8f1ac66e0995b200c16a10" aria-expanded="false" aria-controls="idd601e2273a8f1ac66e0995b200c16a10">
    
        <i class="fa-solid fa-angle-right" id="caret-idd601e2273a8f1ac66e0995b200c16a10"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idd601e2273a8f1ac66e0995b200c16a10">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/02.ingress/nginx/certmanager/">CertManager</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/02.ingress/nginx/nginx-ingress-%E5%85%B3%E8%81%94%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1/">Nginx Ingress 关联外部服务</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/02.ingress/nginx/nginx-ingress-%E9%85%8D%E7%BD%AE/">Nginx Ingress 配置</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id17878814a8f973da15f4ffb10e2d293e&#34;)" href="#id17878814a8f973da15f4ffb10e2d293e" aria-expanded="false" aria-controls="id17878814a8f973da15f4ffb10e2d293e" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id7eaee77fed2619c1fc7ab5307097b6a1&#34;)" href="#id7eaee77fed2619c1fc7ab5307097b6a1" aria-expanded="false" aria-controls="id7eaee77fed2619c1fc7ab5307097b6a1" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id2cac3e1d37028dc70991e6a001cd7c90&#34;)" href="#id2cac3e1d37028dc70991e6a001cd7c90" aria-expanded="false" aria-controls="id2cac3e1d37028dc70991e6a001cd7c90" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/kube-proxy/">kube-proxy</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id2cac3e1d37028dc70991e6a001cd7c90" aria-expanded="false" aria-controls="id2cac3e1d37028dc70991e6a001cd7c90">
    
        <i class="fa-solid fa-angle-right" id="caret-id2cac3e1d37028dc70991e6a001cd7c90"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id2cac3e1d37028dc70991e6a001cd7c90">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/kube-proxy/kube-proxy/">kube-proxy</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/03.%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1/kube-proxy/%E4%BB%A3%E7%90%86%E4%B8%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">代理与负载均衡</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id79f903f698d35d271a30c0c455593b44&#34;)" href="#id79f903f698d35d271a30c0c455593b44" aria-expanded="false" aria-controls="id79f903f698d35d271a30c0c455593b44" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id62681f481b9a4ea557ab3328c865c764&#34;)" href="#id62681f481b9a4ea557ab3328c865c764" aria-expanded="false" aria-controls="id62681f481b9a4ea557ab3328c865c764" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/04.%E8%BA%AB%E4%BB%BD%E4%B8%8E%E6%9D%83%E9%99%90/">04.身份与权限</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id62681f481b9a4ea557ab3328c865c764" aria-expanded="false" aria-controls="id62681f481b9a4ea557ab3328c865c764">
    
        <i class="fa-solid fa-angle-right" id="caret-id62681f481b9a4ea557ab3328c865c764"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id62681f481b9a4ea557ab3328c865c764">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id4e0a982174ea6215718658686b23dc18&#34;)" href="#id4e0a982174ea6215718658686b23dc18" aria-expanded="false" aria-controls="id4e0a982174ea6215718658686b23dc18" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/04.%E8%BA%AB%E4%BB%BD%E4%B8%8E%E6%9D%83%E9%99%90/rbac/">RBAC</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id4e0a982174ea6215718658686b23dc18" aria-expanded="false" aria-controls="id4e0a982174ea6215718658686b23dc18">
    
        <i class="fa-solid fa-angle-right" id="caret-id4e0a982174ea6215718658686b23dc18"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id4e0a982174ea6215718658686b23dc18">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/04.%E8%BA%AB%E4%BB%BD%E4%B8%8E%E6%9D%83%E9%99%90/rbac/service-account/">Service Account</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id425fd3adf42941a01af48958d49eb75e&#34;)" href="#id425fd3adf42941a01af48958d49eb75e" aria-expanded="false" aria-controls="id425fd3adf42941a01af48958d49eb75e" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idbf35c34c6b9b3f08c4d8c5347425ed5f&#34;)" href="#idbf35c34c6b9b3f08c4d8c5347425ed5f" aria-expanded="false" aria-controls="idbf35c34c6b9b3f08c4d8c5347425ed5f" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id47221e5495d1f62c7dd040e1ab0a5a06&#34;)" href="#id47221e5495d1f62c7dd040e1ab0a5a06" aria-expanded="false" aria-controls="id47221e5495d1f62c7dd040e1ab0a5a06" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/">05.网络</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id47221e5495d1f62c7dd040e1ab0a5a06" aria-expanded="false" aria-controls="id47221e5495d1f62c7dd040e1ab0a5a06">
    
        <i class="fa-solid fa-angle-right" id="caret-id47221e5495d1f62c7dd040e1ab0a5a06"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id47221e5495d1f62c7dd040e1ab0a5a06">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id1b35d2b9165093b8c0e8d242fa7555e3&#34;)" href="#id1b35d2b9165093b8c0e8d242fa7555e3" aria-expanded="false" aria-controls="id1b35d2b9165093b8c0e8d242fa7555e3" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/calico/">Calico</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id1b35d2b9165093b8c0e8d242fa7555e3" aria-expanded="false" aria-controls="id1b35d2b9165093b8c0e8d242fa7555e3">
    
        <i class="fa-solid fa-angle-right" id="caret-id1b35d2b9165093b8c0e8d242fa7555e3"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id1b35d2b9165093b8c0e8d242fa7555e3">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/calico/%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/">工作原理</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id1645846ea252fe003da88d50931c5e90&#34;)" href="#id1645846ea252fe003da88d50931c5e90" aria-expanded="false" aria-controls="id1645846ea252fe003da88d50931c5e90" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/flannel/">Flannel</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id1645846ea252fe003da88d50931c5e90" aria-expanded="false" aria-controls="id1645846ea252fe003da88d50931c5e90">
    
        <i class="fa-solid fa-angle-right" id="caret-id1645846ea252fe003da88d50931c5e90"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id1645846ea252fe003da88d50931c5e90">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/flannel/host-gw-%E6%A8%A1%E5%BC%8F/">host-gw 模式</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/flannel/udp-%E6%A8%A1%E5%BC%8F/">UDP 模式</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/flannel/vxlan-%E6%A8%A1%E5%BC%8F/">VXLAN 模式</a></li>

      
        </ul>
      
    

    
      </div>
    




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/netfilter/">netfilter</a></li>




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id0c01a457865c36abf6c2c741953a1452&#34;)" href="#id0c01a457865c36abf6c2c741953a1452" aria-expanded="false" aria-controls="id0c01a457865c36abf6c2c741953a1452" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/05.%E7%BD%91%E7%BB%9C/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E6%BC%94%E5%8C%96/">容器网络演化</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id7827c8a75386cee3134dd56f5307032d&#34;)" href="#id7827c8a75386cee3134dd56f5307032d" aria-expanded="false" aria-controls="id7827c8a75386cee3134dd56f5307032d" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/">06.存储</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id7827c8a75386cee3134dd56f5307032d" aria-expanded="false" aria-controls="id7827c8a75386cee3134dd56f5307032d">
    
        <i class="fa-solid fa-angle-right" id="caret-id7827c8a75386cee3134dd56f5307032d"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id7827c8a75386cee3134dd56f5307032d">
      



  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idda6824d7f9df1cd9e5b14d956061b933&#34;)" href="#idda6824d7f9df1cd9e5b14d956061b933" aria-expanded="false" aria-controls="idda6824d7f9df1cd9e5b14d956061b933" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/configmap/">ConfigMap</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idda6824d7f9df1cd9e5b14d956061b933" aria-expanded="false" aria-controls="idda6824d7f9df1cd9e5b14d956061b933">
    
        <i class="fa-solid fa-angle-right" id="caret-idda6824d7f9df1cd9e5b14d956061b933"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idda6824d7f9df1cd9e5b14d956061b933">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/configmap/%E5%88%9B%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/">创建与使用</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id3f538791f9b9b39f87248efa91f14972&#34;)" href="#id3f538791f9b9b39f87248efa91f14972" aria-expanded="false" aria-controls="id3f538791f9b9b39f87248efa91f14972" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/rook/">Rook</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id3f538791f9b9b39f87248efa91f14972" aria-expanded="false" aria-controls="id3f538791f9b9b39f87248efa91f14972">
    
        <i class="fa-solid fa-angle-right" id="caret-id3f538791f9b9b39f87248efa91f14972"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id3f538791f9b9b39f87248efa91f14972">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/rook/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">安装配置</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idfa2b005496879b83159a2bc37f95b00e&#34;)" href="#idfa2b005496879b83159a2bc37f95b00e" aria-expanded="false" aria-controls="idfa2b005496879b83159a2bc37f95b00e" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id8c951117c01b4db76c65fb0f3c17dcd6&#34;)" href="#id8c951117c01b4db76c65fb0f3c17dcd6" aria-expanded="false" aria-controls="id8c951117c01b4db76c65fb0f3c17dcd6" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/%E5%8D%B7/">卷</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id8c951117c01b4db76c65fb0f3c17dcd6" aria-expanded="false" aria-controls="id8c951117c01b4db76c65fb0f3c17dcd6">
    
        <i class="fa-solid fa-angle-right" id="caret-id8c951117c01b4db76c65fb0f3c17dcd6"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id8c951117c01b4db76c65fb0f3c17dcd6">
      



  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/%E5%8D%B7/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/">本地存储</a></li>




  <li class="child level "><a href="/books/k8s-notes/02.%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1/06.%E5%AD%98%E5%82%A8/%E5%8D%B7/%E6%8C%81%E4%B9%85%E5%8D%B7/">持久卷</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idab865060e5fda29efd70693729db6a46&#34;)" href="#idab865060e5fda29efd70693729db6a46" aria-expanded="false" aria-controls="idab865060e5fda29efd70693729db6a46" aria-hidden="false" data-toggle="collapse">
    
    </div>
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

    
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents"></nav>

      
<div class="subscribe-module col-24 mt-1">
    <img src="https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png" alt="image" title="王下邀月熊的微信公众号"/>
</div>



    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          

          <h1>01.Service</h1>

          <div class="article-style">
            <h1 id="服务">服务</h1>
<p>Kubernetes Pods 的创建和销毁都是为了匹配集群的状态。Pods 是非永久性资源。如果您使用部署来运行您的应用程序，它可以动态地创建和销毁 Pod。每个 Pod 都有自己的 IP 地址，然而在 Deployment 中，在某一时刻运行的 Pod 集可能与稍后运行该应用的 Pod 集不同。这就导致了一个问题：如果某套 Pod（称其为 &ldquo;后端&rdquo;）为你的集群内的其他 Pod（称其为 &ldquo;前端&rdquo;）提供功能，那么前端如何发现并跟踪连接到哪个 IP 地址，以便前端可以使用后端部分的工作负载？</p>
<blockquote>
<p>A Kubernetes Service is an abstraction layer which defines a logical set of Pods and enables external traffic exposure, load balancing and service discovery for those Pods.</p>
</blockquote>
<p>Kubernetes Service 定义了这样一种抽象：一个 Pod 的逻辑分组及一种可以访问它们不同的策略；即 Service 是对一组提供相同功能的 Pods 的抽象，并为它们提供一个统一的入口。借助 Service，应用可以方便的实现服务发现与负载均衡，并实现应用的零宕机升级。譬如考虑一个图片处理后端应用程序，它运行了 3 个副本。这些副本是可互换的：前端不需要关心它们调用了哪个后端副本。然而组成这一组后端程序的 Pod 实际上可能会发生变化，前端客户端不应该也没必要知道，而且也不需要跟踪这一组后端的状态；Service 定义的抽象能够解耦这种关联。</p>
<h1 id="cni-与服务的网络映射">CNI 与服务的网络映射</h1>
<p>为了给容器提供网络，K8s 使用了 CNI 规范，Container Network Interface。CNI 是一个规范，它汇集了一些用于开发插件的库，用于配置和管理容器的网络。它为 K8s 的各种网络解决方案提供了一个通用接口。你可以找到几个针对 AWS、GCP、Cloud Foundry 等的插件。虽然 CNI 定义了 Pod 网络，但它不能帮助你在不同节点的 Pod 之间进行通信。K8s 网络的基本特征是：</p>
<ul>
<li>所有的 Pod 都能在不同的节点上相互通信。</li>
<li>所有节点都能与所有的 Pod 进行通信。</li>
<li>不要使用 NAT。</li>
</ul>
<p>所有的 Pod 和节点的 IP 都不使用 NAT 进行路由。这是解决与使用一些软件，这将有助于你在创建一个 Overlay 网络：</p>
<ul>
<li><a href="https://www.weave.works/docs/net/latest/kube-addon/" target="_blank" rel="noopener">Weave</a></li>
<li><a href="https://github.com/coreos/flannel/blob/master/Documentation/kubernetes.md" target="_blank" rel="noopener">Flannel</a></li>
<li><a href="https://github.com/tigera/canal/tree/master/k8s-install" target="_blank" rel="noopener">Channel</a></li>
<li><a href="https://docs.projectcalico.org/latest/introduction/" target="_blank" rel="noopener">Calico</a></li>
<li><a href="http://romana.io/" target="_blank" rel="noopener">Roman</a></li>
<li><a href="https://github.com/nuagenetworks/nuage-kubernetes/blob/v5.1.1-1/docs/kubernetes-1-installation.rst" target="_blank" rel="noopener">Nuage</a></li>
<li><a href="http://contiv.github.io/" target="_blank" rel="noopener">Contiv</a></li>
</ul>
<p>在 K8s 集群中，客户端需要访问的服务就是 Service 对象。每个 Service 会对应一个集群内部有效的虚拟 IP，集群内部通过虚拟 IP 访问一个服务。Service 由 kube-proxy 实现软件负载均衡器，负责将对 Service 的请求转发到后端的某个 Pod 实例上。且 Kubernetes 为每个 Service 分配了一个全局唯一的虚拟 IP 地址(Cluster IP)，每个服务在 Kubernetes 架构上即变成了具备唯一 IP 地址的通信节点。此外，K8s 还内建了基于域名的服务发现机制，Kubernetes 将 Service Name 与 Service Cluster IP 做一个 DNS 域名映射，优雅的解决了服务发现的问题。Kubernetes 提供了内置的 dns 机制和 ClusterIP 机制，每个 Service 都自动注册域名，分配 Cluster IP，这样服务间的依赖可以从 IP 变为 name。DNS Server 通过 K8s api server 来观测是否有新 Service 建立，并为其建立对应的 dns 记录。如果集群已经 enable DNS，那么 Pod 可以自动对 Service 做 name 解析。</p>
<p>譬如，有个叫做 my-service 的 Service，他对应的 kubernetes namespace 为 my-ns，那么会有他对应的 dns 记录，叫做 my-service.my-ns。那么在 my-ns 的 namespace 中的 Pod 都可以对 my-service 做 name 解析来轻松找到这个 Service。在其他 namespace 中的 pod 解析 my-service.my-ns 来找到他。解析出来的结果是这个 Service 对应的 Cluster IP。</p>
<h1 id="links">Links</h1>
<ul>
<li><a href="https://parg.co/kXe" target="_blank" rel="noopener">https://parg.co/kXe</a></li>
</ul>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 0001-01-01</p>

          



          


  
  
  

  

  
  <section id="comments" class="mb-3 pt-0">
    
<div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); 
    s.async = true;
    s.src = 'https://' + "ngte" + '.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </section>
  



          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2022 NGTE all rights reserved</p>
        </div>
    </div>
  </div>

  <script type="text/javascript" id="clstr_globe" async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script>
  
</footer>


    </main>
  </div>
</div>
<script src="//unpkg.com/heti/umd/heti-addon.min.js"></script>
<script>
  const heti = new Heti('.article');
  heti.autoSpacing();
</script>
<script type="text/javascript">
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "12adcc35-9621-4313-8262-62dc654b29d8";
  (function () {
    setTimeout(function() {
      d = document;
      s = d.createElement("script");
      s.src = "https://client.crisp.chat/l.js";
      s.async = 1;
      d.getElementsByTagName("head")[0].appendChild(s);
    }, 2500);
  })();
</script>
  </div>

  <div class="page-footer">
    
    
  </div>

      

    
    <script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>

    
    
    
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
      

    

    
    
    

    
    
    
      
      <script id="search-hit-algolia-template" type="text/html">
        <div class="search-hit">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a>
            </div>
            <div class="article-metadata search-hit-type">{{type}}</div>
            <p class="search-hit-description">{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js" crossorigin="anonymous"></script>
      
      
    

    
    

    
    
    
    
      <script id="dsq-count-scr" src="https://ngte.disqus.com/count.js" async></script>
      
    

    
    
      
      
      
      
      
      
      
    

    
    <script src="/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js" type="module"></script>
    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":false}</script>

    
    
    
    
    
    
    
    
    
    
    <script src="/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js"></script>

    
    
    
    
    
    
    <script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>


    

    
    
    <script src="https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    <script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>

    


</body>
</html>
