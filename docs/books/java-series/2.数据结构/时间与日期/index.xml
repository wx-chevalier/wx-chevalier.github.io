<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>时间与日期 | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/</link><atom:link href="https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/index.xml" rel="self" type="application/rss+xml"/><description>时间与日期</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>时间与日期</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/</link></image><item><title>Date</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/date/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/date/</guid><description>&lt;h1 id="java-时间与日期处理">Java 时间与日期处理&lt;/h1>
&lt;p>在 Java 8 之前，我们最常见的时间与日期处理相关的类就是 Date、Calendar 以及  SimpleDateFormatter  等等。不过 &lt;code>java.util.Date&lt;/code> 也是被诟病已久，它包含了日期、时间、毫秒数等众多繁杂的信息，其内部利用午夜 12 点来区分日期，利用 1970-01-01 来计算时间；并且其月份从 0 开始计数，而且用于获得年、月、日等信息的接口也是太不直观。除此之外，&lt;code>java.util.Date&lt;/code> 与 &lt;code>SimpleDateFormatter&lt;/code> 都不是类型安全的，而 JSR-310 中的 &lt;code>LocalDate&lt;/code> 与 &lt;code>LocalTime&lt;/code> 等则是不变类型，更加适合于并发编程。JSR 310 实际上有两个日期概念。第一个是 Instant，它大致对应于 &lt;code>java.util.Date&lt;/code> 类，因为它代表了一个确定的时间点，即相对于标准 Java 纪元(1970 年 1 月 1 日)的偏移量；但与 &lt;code>java.util.Date&lt;/code> 类不同的是其精确到了纳秒级别。另一个则是 LocalDate、LocalTime 以及 LocalDateTime 这样代表了一般时区概念、易于理解的对象。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Class / Type&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Year&lt;/td>
&lt;td>Represents a year.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>YearMonth&lt;/td>
&lt;td>A month within a specific year.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LocalDate&lt;/td>
&lt;td>A date without an explicitly specified time zone.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LocalTime&lt;/td>
&lt;td>A time without an explicitly specified time zone.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LocalDateTime&lt;/td>
&lt;td>A combination date and time without an explicitly specified time zone.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>最新 JDBC 映射将把数据库的日期类型和 Java 8 的新类型关联起来：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>SQL&lt;/th>
&lt;th>Java&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>date&lt;/td>
&lt;td>LocalDate&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>time&lt;/td>
&lt;td>LocalTime&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>timestamp&lt;/td>
&lt;td>LocalDateTime&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>datetime&lt;/td>
&lt;td>LocalDateTime&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="date">Date&lt;/h1>
&lt;p>java.util.Date 对象本身不包含任何时区信息，我们无法在 Date 对象上设置时区。一个 Date 对象包含的唯一东西是从 1970 年 1 月 1 日 00:00:00 UTC 开始的“纪元”以来的毫秒数。你可以在 DateFormat 对象上设置时区，告诉它你想在哪个时区显示日期和时间。Date 表示特定的瞬间，精确到毫秒，&lt;code>yyyy-mm-dd hh:mm:ss&lt;/code>；Timestamp 此类型由.Date 和单独的毫微秒值组成。yyyy-mm-dd hh:mm:ss.fffffffff&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 默认创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Date&lt;/span> &lt;span class="n">date0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 TimeStamp 中创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Date&lt;/span> &lt;span class="n">date1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 基于 Instant 创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Date&lt;/span> &lt;span class="n">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">from&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">instant&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从格式化字符串中获取
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">SimpleDateFormat&lt;/span> &lt;span class="n">sdf&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">java&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">util&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Date&lt;/span> &lt;span class="n">dt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdf&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2005-2-19&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 LocalDateTime 中转化而来
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Date&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">from&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ldt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">atZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">systemDefault&lt;/span>&lt;span class="o">()).&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="获取与比较">获取与比较&lt;/h2>
&lt;p>基于 Date 的日期比较常常使用以下方式：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>使用 getTime() 方法获取两个日期(自 1970 年 1 月 1 日经历的毫秒数值)，然后比较这两个值。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用方法 before()，after() 和 equals()。例如，一个月的 12 号比 18 号早，则 &lt;code>new Date(99, 2, 12).before(new Date (99, 2, 18))&lt;/code> 返回 true。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用 &lt;code>compareTo()&lt;/code> 方法，它是由 Comparable 接口定义的，Date 类实现了这个接口。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Date&lt;/span> &lt;span class="n">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1359641834000L&lt;/span>&lt;span class="o">);&lt;/span>&lt;span class="c1">// 本地时间 2013-1-31 22:17:14 对应的时间戳
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">dateStr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;2013-1-31 22:17:14&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SimpleDateFormat&lt;/span> &lt;span class="n">dateFormat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd HH:mm:ss&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dateFormat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setTimeZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TimeZone&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getTimeZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;GMT&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Date&lt;/span> &lt;span class="n">dateTmp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dateFormat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">dateStr&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// System.out.printIn 默认按照本地时间打印
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">dateTmp&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ParseException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">dateStrTmp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dateFormat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">dateStrTmp&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Fri Feb 01 06:17:14 CST 2013
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2013-01-31 14:17:14
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>操作系统是&amp;quot;Asia/Shanghai&amp;quot;，即 GMT+8 的北京时间，那么执行日期转字符串的 format 方法时，由于日期生成时默认是操作系统时区，因此 2013-1-31 22:17:14 是北京时间，那么推算到 GMT 时区，自然是要减 8 个小时的；而执行字符串转日期的 parse 方法时，由于字符串本身没有时区的概念，因此 2013-1-31 22:17:14 就是指 GMT（UTC）时间，那么当转化为日期时要加上默认时区，即&amp;quot;Asia/Shanghai&amp;quot;，因此要加上 8 个小时。&lt;/p>
&lt;h1 id="calendar">Calendar&lt;/h1>
&lt;p>Date 用于记录某一个含日期的、精确到毫秒的时间。重点在代表一刹那的时间本身。Calendar 用于将某一日期放到历法中的互动——时间和年、月、日、星期、上午、下午、夏令时等这些历法规定互相作用关系和互动。我们可以通过 Calendar 内置的构造器来创建实例：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span> &lt;span class="n">builder&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Calendar&lt;/span> &lt;span class="n">calendar1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">builder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Date&lt;/span> &lt;span class="n">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在 Calendar 中我们则能够获得较为直观的年月日信息：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2017，不再是 2017 - 1900 = 117
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">year&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">YEAR&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">month&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MONTH&lt;/span>&lt;span class="o">)+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">day&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">DAY_OF_MONTH&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">hour&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">HOUR_OF_DAY&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">minute&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MINUTE&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">seconds&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n">calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Calendar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECOND&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>除此之外，Calendar 还提供了一系列 set 方法来允许我们动态设置时间，还可以使用 add 等方法进行日期的加减。&lt;/p>
&lt;h1 id="simpledateformat">SimpleDateFormat&lt;/h1>
&lt;p>SimpleDateFormat 用来进行简单的数据格式化转化操作：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Date&lt;/span> &lt;span class="n">dNow&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">(&lt;/span> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">SimpleDateFormat&lt;/span> &lt;span class="n">ft&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SimpleDateFormat&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;E yyyy.MM.dd &amp;#39;at&amp;#39; hh:mm:ss a zzz&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>LocalDateTime</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/localdatetime/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/localdatetime/</guid><description>&lt;h1 id="localdatetime">LocalDateTime&lt;/h1>
&lt;h2 id="localdate">LocalDate&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取当前日期：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">today&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 根据年月日取日期，12月就是12：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">crischristmas&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2017&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 根据指定格式字符串取
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">endOfFeb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2017-05-15&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 严格按照ISO yyyy-MM-dd验证，02写成2都不行，当然也有一个重载方法允许自己定义格式
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2014-02-29&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 无效日期无法通过：DateTimeParseException: Invalid date
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过自定义时间字符串格式获取
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">DateTimeFormatter&lt;/span> &lt;span class="n">germanFormatter&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DateTimeFormatter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="na">ofLocalizedDate&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">FormatStyle&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MEDIUM&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="na">withLocale&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Locale&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">GERMAN&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">xmas&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;24.12.2014&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">germanFormatter&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">xmas&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 2014-12-24
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取其他时区下日期
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">localDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;GMT+02:30&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 LocalDateTime 中获取实例
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">localDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">localDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">localDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toLocalDate&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>LocalDate 同样需要依赖于 DateTimeFormatter 来进行格式化：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">localDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">();&lt;/span>&lt;span class="c1">//For reference
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">DateTimeFormatter&lt;/span> &lt;span class="n">formatter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DateTimeFormatter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofPattern&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;dd LLLL yyyy&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">formattedString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">localDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">formatter&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>LocalDate 提供了内置方法以提取日历相关的信息，以及对于日期进行加减操作：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取本月第1天
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">firstDayOfThisMonth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">today&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">with&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TemporalAdjusters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">firstDayOfMonth&lt;/span>&lt;span class="o">());&lt;/span> &lt;span class="c1">// 2014-12-01
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取本月第2天
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">secondDayOfThisMonth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">today&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">withDayOfMonth&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 2014-12-02
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取本月最后一天，再也不用计算是28，29，30还是31
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">lastDayOfThisMonth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">today&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">with&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TemporalAdjusters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lastDayOfMonth&lt;/span>&lt;span class="o">());&lt;/span> &lt;span class="c1">// 2014-12-31
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取下一天
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">firstDayOf2015&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lastDayOfThisMonth&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">plusDays&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 变成了2015-01-01
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 取2015年1月第一个周一
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">firstMondayOf2015&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2015-01-01&amp;#34;&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">with&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TemporalAdjusters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">firstInMonth&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">DayOfWeek&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MONDAY&lt;/span>&lt;span class="o">));&lt;/span> &lt;span class="c1">// 2015-01-05
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="localtime">LocalTime&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取其他时区下时间
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalTime&lt;/span> &lt;span class="n">localTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;GMT+02:30&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 LocalDateTime 中获取实例
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">localDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalTime&lt;/span> &lt;span class="n">localTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">localDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toLocalTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mo">00&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mo">02&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mf">02.345&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="localdatetime-1">LocalDateTime&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过时间戳创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">localDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofInstant&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofEpochSecond&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1450073569l&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">TimeZone&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDefault&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">toZoneId&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过 Date 对象创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Date&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">ldt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofInstant&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">(),&lt;/span> &lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">systemDefault&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过解析时间字符串创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">DateTimeFormatter&lt;/span> &lt;span class="n">formatter&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DateTimeFormatter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="na">ofPattern&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;MMM dd, yyyy - HH:mm&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">parsed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Nov 03, 2014 - 07:13&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">formatter&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">formatter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">parsed&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Nov 03, 2014 - 07:13
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>获取年、月、日等信息&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">sylvester&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2014&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Month&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">DECEMBER&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">31&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">59&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">59&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DayOfWeek&lt;/span> &lt;span class="n">dayOfWeek&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sylvester&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDayOfWeek&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">dayOfWeek&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// WEDNESDAY
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Month&lt;/span> &lt;span class="n">month&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sylvester&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMonth&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">month&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// DECEMBER
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">long&lt;/span> &lt;span class="n">minuteOfDay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sylvester&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getLong&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ChronoField&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MINUTE_OF_DAY&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">minuteOfDay&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 1439
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>时间格式化展示&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">DateTimeFormatter&lt;/span> &lt;span class="n">formatter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DateTimeFormatter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofPattern&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd HH:mm&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">dateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1986&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Month&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">APRIL&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">formattedDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">formatter&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// &amp;#34;1986-04-08 12:30&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">localDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">plusDays&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">localDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">minusHours&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>时间戳</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/%E6%97%B6%E9%97%B4%E6%88%B3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/%E6%97%B6%E9%97%B4%E6%88%B3/</guid><description>&lt;h1 id="时间戳">时间戳&lt;/h1>
&lt;p>在 Java 8 之前，我们使用 &lt;code>java.sql.Timestamp&lt;/code> 来表示时间戳对象，可以通过以下方式创建与获取对象：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 利用系统标准时间创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Timestamp&lt;/span> &lt;span class="n">timestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Timestamp&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentTimeMillis&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 Date 对象中创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">Timestamp&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">()).&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取自 1970-01-01 00:00:00 GMT 以来的毫秒数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">timestamp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在 Java 8 中，即可以使用 &lt;code>java.time.Instant&lt;/code> 来表示自从 1970-01-01T00:00:00Z 之后经过的标准时间：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 基于静态函数创建
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Instant&lt;/span> &lt;span class="n">instant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 基于 Date 或者毫秒数转换
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Instant&lt;/span> &lt;span class="n">someInstant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">someDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Instant&lt;/span> &lt;span class="n">someInstant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofEpochMilli&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">someDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 基于 TimeStamp 转换
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Instant&lt;/span> &lt;span class="n">instant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">timestamp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 LocalDate 转化而来
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">atStartOfDay&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneOffset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">UTC&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 从 LocalDateTime 转化而来
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ldt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">atZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">systemDefault&lt;/span>&lt;span class="o">()).&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取毫秒
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">timeStampMillis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toEpochMilli&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 获取秒
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">timeStampSeconds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getEpochSecond&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Clock 方便我们去读取当前的日期与时间。Clock 可以根据不同的时区来进行创建，并且可以作为&lt;code>System.currentTimeMillis()&lt;/code>的替代。这种指向时间轴的对象即是&lt;code>Instant&lt;/code>类。Instants 可以被用于创建&lt;code>java.util.Date&lt;/code>对象。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Clock&lt;/span> &lt;span class="n">clock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">systemDefaultZone&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">long&lt;/span> &lt;span class="n">millis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">millis&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Instant&lt;/span> &lt;span class="n">instant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">instant&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Date&lt;/span> &lt;span class="n">legacyDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">from&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">instant&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// legacy java.util.Date
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>时区</title><link>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/%E6%97%B6%E5%8C%BA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/java-series/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/%E6%97%B6%E5%8C%BA/</guid><description>&lt;h1 id="时区转换">时区转换&lt;/h1>
&lt;p>Timezones 以 &lt;code>ZoneId&lt;/code> 来区分。可以通过静态构造方法很容易的创建，Timezones 定义了 Instants 与 Local Dates 之间的转化关系：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAvailableZoneIds&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// prints all available timezone ids
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneId&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">zone1&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Europe/Berlin&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneId&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">zone2&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Brazil/East&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">zone1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getRules&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">zone2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getRules&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ZoneRules[currentStandardOffset=+01:00]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ZoneRules[currentStandardOffset=-03:00]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDateTime&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">ldt&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZonedDateTime&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">zdt&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">ldt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">atZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">systemDefault&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Date&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">from&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">zdt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toInstant&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneId&lt;/span> &lt;span class="n">losAngeles&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;America/Los_Angeles&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneId&lt;/span> &lt;span class="n">berlin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Europe/Berlin&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2014-02-20 12:00
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">dateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2014&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mo">02&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2014-02-20 12:00, Europe/Berlin (+01:00)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ZonedDateTime&lt;/span> &lt;span class="n">berlinDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ZonedDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">dateTime&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">berlin&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2014-02-20 03:00, America/Los_Angeles (-08:00)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ZonedDateTime&lt;/span> &lt;span class="n">losAngelesDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">berlinDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">withZoneSameInstant&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">losAngeles&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">offsetInSeconds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">losAngelesDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getOffset&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getTotalSeconds&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// -28800
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// a collection of all available zones
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">allZoneIds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ZoneId&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAvailableZoneIds&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// using offsets
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDateTime&lt;/span> &lt;span class="n">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2013&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Month&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">JULY&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneOffset&lt;/span> &lt;span class="n">offset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ZoneOffset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;+05:00&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2013-07-20 03:30 +05:00
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">OffsetDateTime&lt;/span> &lt;span class="n">plusFive&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">OffsetDateTime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2013-07-19 20:30 -02:00
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">OffsetDateTime&lt;/span> &lt;span class="n">minusTwo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plusFive&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">withOffsetSameInstant&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ZoneOffset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofHours&lt;/span>&lt;span class="o">(-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="时差">时差&lt;/h1>
&lt;p>Period 类以年月日来表示日期差，而 Duration 以秒与毫秒来表示时间差；Duration 适用于处理 Instant 与机器时间。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// periods
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">firstDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2010&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">17&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 2010-05-17
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">secondDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2015&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 2015-03-07
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Period&lt;/span> &lt;span class="n">period&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">between&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">firstDate&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">secondDate&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">days&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDays&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// 18
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">months&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMonths&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// 9
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">years&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getYears&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// 4
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">boolean&lt;/span> &lt;span class="n">isNegative&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">isNegative&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Period&lt;/span> &lt;span class="n">twoMonthsAndFiveDays&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Period&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofMonths&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">plusDays&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">sixthOfJanuary&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LocalDate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2014&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// add two months and five days to 2014-01-06, result is 2014-03-11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">LocalDate&lt;/span> &lt;span class="n">eleventhOfMarch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sixthOfJanuary&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">plus&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">twoMonthsAndFiveDays&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// durations
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Instant&lt;/span> &lt;span class="n">firstInstant&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">Instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofEpochSecond&lt;/span>&lt;span class="o">(&lt;/span> &lt;span class="mi">1294881180&lt;/span> &lt;span class="o">);&lt;/span> &lt;span class="c1">// 2011-01-13 01:13
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Instant&lt;/span> &lt;span class="n">secondInstant&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Instant&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofEpochSecond&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1294708260&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 2011-01-11 01:11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Duration&lt;/span> &lt;span class="n">between&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Duration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">between&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">firstInstant&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">secondInstant&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// negative because firstInstant is after secondInstant (-172920)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">seconds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">between&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getSeconds&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// get absolute result in minutes (2882)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">absoluteResult&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">between&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">abs&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">toMinutes&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// two hours in seconds (7200)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">twoHoursInSeconds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Duration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofHours&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">getSeconds&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>