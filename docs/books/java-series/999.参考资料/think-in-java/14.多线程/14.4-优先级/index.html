<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="14.4 优先级 14.4 优先级 线程的优先级（Priority）告诉调试程序该线程的重要程度有多大。如果有大量线程都被堵塞，都在等候运行，调试程序会首先运行具有最高优先级的那个线程。然而，这并不表示优先级较低的线程不"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.4-%E4%BC%98%E5%85%88%E7%BA%A7/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.4-%E4%BC%98%E5%85%88%E7%BA%A7/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.4-%E4%BC%98%E5%85%88%E7%BA%A7/"><meta property="og:title" content="14.4 优先级 | Next-gen Tech Edu"><meta property="og:description" content="14.4 优先级 14.4 优先级 线程的优先级（Priority）告诉调试程序该线程的重要程度有多大。如果有大量线程都被堵塞，都在等候运行，调试程序会首先运行具有最高优先级的那个线程。然而，这并不表示优先级较低的线程不"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>14.4 优先级 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=24bf4db7b7b6df4679b40762f191a22d><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">14.多线程</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id214ecc87c188b2007b2d478ce6167fb1")' href=#id214ecc87c188b2007b2d478ce6167fb1 aria-expanded=false aria-controls=id214ecc87c188b2007b2d478ce6167fb1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/>Think in Java</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id214ecc87c188b2007b2d478ce6167fb1 aria-expanded=false aria-controls=id214ecc87c188b2007b2d478ce6167fb1><i class="fa-solid fa-angle-down" id=caret-id214ecc87c188b2007b2d478ce6167fb1></i></a></div><ul class="nav docs-sidenav collapse show" id=id214ecc87c188b2007b2d478ce6167fb1><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idca73ee751e8224db415e54c000dd27fb")' href=#idca73ee751e8224db415e54c000dd27fb aria-expanded=false aria-controls=idca73ee751e8224db415e54c000dd27fb aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/>1.对象入门</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idca73ee751e8224db415e54c000dd27fb aria-expanded=false aria-controls=idca73ee751e8224db415e54c000dd27fb><i class="fa-solid fa-angle-right" id=caret-idca73ee751e8224db415e54c000dd27fb></i></a></div><ul class="nav docs-sidenav collapse" id=idca73ee751e8224db415e54c000dd27fb><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.1-%E6%8A%BD%E8%B1%A1%E7%9A%84%E8%BF%9B%E6%AD%A5/>1.1 抽象的进步</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.10-%E6%B0%B8%E4%B9%85%E6%80%A7/>1.10 永久性</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.11-java%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/>1.11 Java和因特网</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.12-%E5%88%86%E6%9E%90%E5%92%8C%E8%AE%BE%E8%AE%A1/>1.12 分析和设计</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.13-java%E8%BF%98%E6%98%AFc++/>1.13 Java还是C++</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.2-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8E%A5%E5%8F%A3/>1.2 对象的接口</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.3-%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88%E7%9A%84%E9%9A%90%E8%97%8F/>1.3 实现方案的隐藏</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.4-%E6%96%B9%E6%A1%88%E7%9A%84%E9%87%8D%E5%A4%8D%E4%BD%BF%E7%94%A8/>1.4 方案的重复使用</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.5-%E7%BB%A7%E6%89%BF%E9%87%8D%E6%96%B0%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3/>1.5 继承：重新使用接口</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.6-%E5%A4%9A%E6%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%92%E6%8D%A2%E4%BD%BF%E7%94%A8/>1.6 多态对象的互换使用</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.7-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%AD%98%E5%9C%A8%E6%97%B6%E9%97%B4/>1.7 对象的创建和存在时间</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/1.%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/1.9-%E5%A4%9A%E7%BA%BF%E7%A8%8B/>1.9 多线程</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide41bfd2e5eef4f5cc967d0bf0d3beae5")' href=#ide41bfd2e5eef4f5cc967d0bf0d3beae5 aria-expanded=false aria-controls=ide41bfd2e5eef4f5cc967d0bf0d3beae5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/>10.Java IO 系统</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide41bfd2e5eef4f5cc967d0bf0d3beae5 aria-expanded=false aria-controls=ide41bfd2e5eef4f5cc967d0bf0d3beae5><i class="fa-solid fa-angle-right" id=caret-ide41bfd2e5eef4f5cc967d0bf0d3beae5></i></a></div><ul class="nav docs-sidenav collapse" id=ide41bfd2e5eef4f5cc967d0bf0d3beae5><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.1-%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA/>10.1 输入和输出</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.10-%E6%80%BB%E7%BB%93/>10.10 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.11-%E7%BB%83%E4%B9%A0/>10.11 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.2-%E5%A2%9E%E6%B7%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%9C%89%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3/>10.2 增添属性和有用的接口</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.3-%E6%9C%AC%E8%BA%AB%E7%9A%84%E7%BC%BA%E9%99%B7randomaccessfile/>10.3 本身的缺陷：RandomAccessFile</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.4-file%E7%B1%BB/>10.4 File类</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.5-io%E6%B5%81%E7%9A%84%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8/>10.5 IO流的典型应用</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.6-streamtokenizer/>10.6 StreamTokenizer</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.7-java-1.1%E7%9A%84io%E6%B5%81/>10.7 Java 1.1的IO流</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.8-%E5%8E%8B%E7%BC%A9/>10.8 压缩</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/10.java-io-%E7%B3%BB%E7%BB%9F/10.9-%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96/>10.9 对象序列化</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb836ac598092c15afaccbaa2c465c59e")' href=#idb836ac598092c15afaccbaa2c465c59e aria-expanded=false aria-controls=idb836ac598092c15afaccbaa2c465c59e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/>11.运行期类型鉴定</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb836ac598092c15afaccbaa2c465c59e aria-expanded=false aria-controls=idb836ac598092c15afaccbaa2c465c59e><i class="fa-solid fa-angle-right" id=caret-idb836ac598092c15afaccbaa2c465c59e></i></a></div><ul class="nav docs-sidenav collapse" id=idb836ac598092c15afaccbaa2c465c59e><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/11.1-%E5%AF%B9rtti%E7%9A%84%E9%9C%80%E8%A6%81/>11.1 对RTTI的需要</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/11.2-rtti-%E8%AF%AD%E6%B3%95/>11.2 RTTI 语法</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/11.3-%E5%8F%8D%E5%B0%84%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E4%BF%A1%E6%81%AF/>11.3 反射：运行期类信息</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/11.4-%E6%80%BB%E7%BB%93/>11.4 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/11.%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%B1%BB%E5%9E%8B%E9%89%B4%E5%AE%9A/11.5-%E7%BB%83%E4%B9%A0/>11.5 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide320911890134774be5931d1a0a20cc9")' href=#ide320911890134774be5931d1a0a20cc9 aria-expanded=false aria-controls=ide320911890134774be5931d1a0a20cc9 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/>12.传递和返回对象</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide320911890134774be5931d1a0a20cc9 aria-expanded=false aria-controls=ide320911890134774be5931d1a0a20cc9><i class="fa-solid fa-angle-right" id=caret-ide320911890134774be5931d1a0a20cc9></i></a></div><ul class="nav docs-sidenav collapse" id=ide320911890134774be5931d1a0a20cc9><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.1-%E4%BC%A0%E9%80%92%E6%8C%87%E9%92%88/>12.1 传递指针</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.2-%E5%88%B6%E4%BD%9C%E6%9C%AC%E5%9C%B0%E5%89%AF%E6%9C%AC/>12.2 制作本地副本</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.3-%E5%85%8B%E9%9A%86%E7%9A%84%E6%8E%A7%E5%88%B6/>12.3 克隆的控制</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.4-%E5%8F%AA%E8%AF%BB%E7%B1%BB/>12.4 只读类</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.5-%E6%80%BB%E7%BB%93/>12.5 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/12.%E4%BC%A0%E9%80%92%E5%92%8C%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/12.6-%E7%BB%83%E4%B9%A0/>12.6 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddba1dfa22d26f49d68205d3c67fa5695")' href=#iddba1dfa22d26f49d68205d3c67fa5695 aria-expanded=false aria-controls=iddba1dfa22d26f49d68205d3c67fa5695 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbb7b9ed9f3766574125ce978e02ab9b3")' href=#idbb7b9ed9f3766574125ce978e02ab9b3 aria-expanded=false aria-controls=idbb7b9ed9f3766574125ce978e02ab9b3 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/>14.多线程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbb7b9ed9f3766574125ce978e02ab9b3 aria-expanded=false aria-controls=idbb7b9ed9f3766574125ce978e02ab9b3><i class="fa-solid fa-angle-down" id=caret-idbb7b9ed9f3766574125ce978e02ab9b3></i></a></div><ul class="nav docs-sidenav collapse show" id=idbb7b9ed9f3766574125ce978e02ab9b3><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.1-%E5%8F%8D%E5%BA%94%E7%81%B5%E6%95%8F%E7%9A%84%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2/>14.1 反应灵敏的用户界面</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.2-%E5%85%B1%E4%BA%AB%E6%9C%89%E9%99%90%E7%9A%84%E8%B5%84%E6%BA%90/>14.2 共享有限的资源</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.3-%E5%A0%B5%E5%A1%9E/>14.3 堵塞</a></li><li class="child level active"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.4-%E4%BC%98%E5%85%88%E7%BA%A7/>14.4 优先级</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.5-%E5%9B%9E%E9%A1%BErunnable/>14.5 回顾runnable</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.6-%E6%80%BB%E7%BB%93/>14.6 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.7-%E7%BB%83%E4%B9%A0/>14.7 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0717cbd205b42e749ff12487fe013a48")' href=#id0717cbd205b42e749ff12487fe013a48 aria-expanded=false aria-controls=id0717cbd205b42e749ff12487fe013a48 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/>15.网络编程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0717cbd205b42e749ff12487fe013a48 aria-expanded=false aria-controls=id0717cbd205b42e749ff12487fe013a48><i class="fa-solid fa-angle-right" id=caret-id0717cbd205b42e749ff12487fe013a48></i></a></div><ul class="nav docs-sidenav collapse" id=id0717cbd205b42e749ff12487fe013a48><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.1-%E6%9C%BA%E5%99%A8%E7%9A%84%E6%A0%87%E8%AF%86/>15.1 机器的标识</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.10-%E7%BB%83%E4%B9%A0/>15.10 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.2-%E5%A5%97%E6%8E%A5%E5%AD%97/>15.2 套接字</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.3-%E6%9C%8D%E5%8A%A1%E5%A4%9A%E4%B8%AA%E5%AE%A2%E6%88%B7/>15.3 服务多个客户</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.4-%E6%95%B0%E6%8D%AE%E6%8A%A5/>15.4 数据报</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.5-%E4%B8%80%E4%B8%AAweb%E5%BA%94%E7%94%A8/>15.5 一个Web应用</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.6-java%E4%B8%8Ecgi%E7%9A%84%E6%B2%9F%E9%80%9A/>15.6 Java与CGI的沟通</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.7-%E7%94%A8jdbc%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93/>15.7 用JDBC连接数据库</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.8-%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95/>15.8 远程方法</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/15.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/15.9-%E6%80%BB%E7%BB%93/>15.9 总结</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb45833a961ce68d05972119f0bd5689d")' href=#idb45833a961ce68d05972119f0bd5689d aria-expanded=false aria-controls=idb45833a961ce68d05972119f0bd5689d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/>16.设计范式</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb45833a961ce68d05972119f0bd5689d aria-expanded=false aria-controls=idb45833a961ce68d05972119f0bd5689d><i class="fa-solid fa-angle-right" id=caret-idb45833a961ce68d05972119f0bd5689d></i></a></div><ul class="nav docs-sidenav collapse" id=idb45833a961ce68d05972119f0bd5689d><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.1-%E8%8C%83%E5%BC%8F%E7%9A%84%E6%A6%82%E5%BF%B5/>16.1 范式的概念</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.10-%E7%BB%83%E4%B9%A0/>16.10 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.2-%E8%A7%82%E5%AF%9F%E5%99%A8%E8%8C%83%E5%BC%8F/>16.2 观察器范式</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.3-%E6%A8%A1%E6%8B%9F%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AB%99/>16.3 模拟垃圾回收站</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.4-%E6%94%B9%E8%BF%9B%E8%AE%BE%E8%AE%A1/>16.4 改进设计</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.5-%E6%8A%BD%E8%B1%A1%E7%9A%84%E5%BA%94%E7%94%A8/>16.5 抽象的应用</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.6-%E5%A4%9A%E9%87%8D%E6%B4%BE%E9%81%A3/>16.6 多重派遣</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.7-%E8%AE%BF%E9%97%AE%E5%99%A8%E8%8C%83%E5%BC%8F/>16.7 访问器范式</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.8-rtti%E7%9C%9F%E7%9A%84%E6%9C%89%E5%AE%B3%E5%90%97/>16.8 RTTI真的有害吗</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/16.%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F/16.9-%E6%80%BB%E7%BB%93/>16.9 总结</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9dcdb57b589db03f63de5260a0331b23")' href=#id9dcdb57b589db03f63de5260a0331b23 aria-expanded=false aria-controls=id9dcdb57b589db03f63de5260a0331b23 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/>17.项目</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9dcdb57b589db03f63de5260a0331b23 aria-expanded=false aria-controls=id9dcdb57b589db03f63de5260a0331b23><i class="fa-solid fa-angle-right" id=caret-id9dcdb57b589db03f63de5260a0331b23></i></a></div><ul class="nav docs-sidenav collapse" id=id9dcdb57b589db03f63de5260a0331b23><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/17.1-%E6%96%87%E5%AD%97%E5%A4%84%E7%90%86/>17.1 文字处理</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/17.2-%E6%96%B9%E6%B3%95%E6%9F%A5%E6%89%BE%E5%B7%A5%E5%85%B7/>17.2 方法查找工具</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/17.3-%E5%A4%8D%E6%9D%82%E6%80%A7%E7%90%86%E8%AE%BA/>17.3 复杂性理论</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/17.4-%E6%80%BB%E7%BB%93/>17.4 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/17.%E9%A1%B9%E7%9B%AE/17.5-%E7%BB%83%E4%B9%A0/>17.5 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf0960bbb6faeb4cccffb1ac69252ea28")' href=#idf0960bbb6faeb4cccffb1ac69252ea28 aria-expanded=false aria-controls=idf0960bbb6faeb4cccffb1ac69252ea28 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/>2.一切都是对象</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf0960bbb6faeb4cccffb1ac69252ea28 aria-expanded=false aria-controls=idf0960bbb6faeb4cccffb1ac69252ea28><i class="fa-solid fa-angle-right" id=caret-idf0960bbb6faeb4cccffb1ac69252ea28></i></a></div><ul class="nav docs-sidenav collapse" id=idf0960bbb6faeb4cccffb1ac69252ea28><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.1-%E7%94%A8%E6%8C%87%E9%92%88%E6%93%8D%E7%BA%B5%E5%AF%B9%E8%B1%A1/>2.1 用指针操纵对象</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.10-%E6%80%BB%E7%BB%93/>2.10 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.11-%E7%BB%83%E4%B9%A0/>2.11 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.2-%E6%89%80%E6%9C%89%E5%AF%B9%E8%B1%A1%E9%83%BD%E5%BF%85%E9%A1%BB%E5%88%9B%E5%BB%BA/>2.2 所有对象都必须创建</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.3-%E7%BB%9D%E5%AF%B9%E4%B8%8D%E8%A6%81%E6%B8%85%E9%99%A4%E5%AF%B9%E8%B1%A1/>2.3 绝对不要清除对象</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.4-%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%B1%BB/>2.4 新建数据类型：类</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.5-%E6%96%B9%E6%B3%95%E8%87%AA%E5%8F%98%E9%87%8F%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC/>2.5 方法、自变量和返回值</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.6-%E6%9E%84%E5%BB%BAjava%E7%A8%8B%E5%BA%8F/>2.6 构建Java程序</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.7-%E6%88%91%E4%BB%AC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F/>2.7 我们的第一个Java程序</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.8-%E6%B3%A8%E9%87%8A%E5%92%8C%E5%B5%8C%E5%85%A5%E6%96%87%E6%A1%A3/>2.8 注释和嵌入文档</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/2.%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/2.9-%E7%BC%96%E7%A0%81%E6%A0%B7%E5%BC%8F/>2.9 编码样式</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id742622a5c8a24c8f9f9a1ecc037a0f62")' href=#id742622a5c8a24c8f9f9a1ecc037a0f62 aria-expanded=false aria-controls=id742622a5c8a24c8f9f9a1ecc037a0f62 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/3.%E6%8E%A7%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B/>3.控制程序流程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id742622a5c8a24c8f9f9a1ecc037a0f62 aria-expanded=false aria-controls=id742622a5c8a24c8f9f9a1ecc037a0f62><i class="fa-solid fa-angle-right" id=caret-id742622a5c8a24c8f9f9a1ecc037a0f62></i></a></div><ul class="nav docs-sidenav collapse" id=id742622a5c8a24c8f9f9a1ecc037a0f62><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/3.%E6%8E%A7%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B/3.1-%E4%BD%BF%E7%94%A8java%E8%BF%90%E7%AE%97%E7%AC%A6/>3.1 使用Java运算符</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/3.%E6%8E%A7%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B/3.2-%E6%89%A7%E8%A1%8C%E6%8E%A7%E5%88%B6/>3.2 执行控制</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/3.%E6%8E%A7%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B/3.3-%E6%80%BB%E7%BB%93/>3.3 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/3.%E6%8E%A7%E5%88%B6%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B/3.4-%E7%BB%83%E4%B9%A0/>3.4 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idada88f416ec1dfab89f033bf872d6408")' href=#idada88f416ec1dfab89f033bf872d6408 aria-expanded=false aria-controls=idada88f416ec1dfab89f033bf872d6408 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/>4.初始化和清除</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idada88f416ec1dfab89f033bf872d6408 aria-expanded=false aria-controls=idada88f416ec1dfab89f033bf872d6408><i class="fa-solid fa-angle-right" id=caret-idada88f416ec1dfab89f033bf872d6408></i></a></div><ul class="nav docs-sidenav collapse" id=idada88f416ec1dfab89f033bf872d6408><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.1-%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E8%87%AA%E5%8A%A8%E5%88%9D%E5%A7%8B%E5%8C%96/>4.1 用构造器自动初始化</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.2-%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD/>4.2 方法重载</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.3-%E6%B8%85%E9%99%A4%E6%94%B6%E5%B0%BE%E5%92%8C%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86/>4.3 清除：收尾和垃圾收集</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.4-%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/>4.4 成员初始化</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.5-%E6%95%B0%E7%BB%84%E5%88%9D%E5%A7%8B%E5%8C%96/>4.5 数组初始化</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.6-%E6%80%BB%E7%BB%93/>4.6 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/4.%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E9%99%A4/4.7-%E7%BB%83%E4%B9%A0/>4.7 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idadcf0cac1c984df3c4fe242a8cf5b932")' href=#idadcf0cac1c984df3c4fe242a8cf5b932 aria-expanded=false aria-controls=idadcf0cac1c984df3c4fe242a8cf5b932 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/>5.隐藏实施过程</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idadcf0cac1c984df3c4fe242a8cf5b932 aria-expanded=false aria-controls=idadcf0cac1c984df3c4fe242a8cf5b932><i class="fa-solid fa-angle-right" id=caret-idadcf0cac1c984df3c4fe242a8cf5b932></i></a></div><ul class="nav docs-sidenav collapse" id=idadcf0cac1c984df3c4fe242a8cf5b932><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.1-%E5%8C%85%E5%BA%93%E5%8D%95%E5%85%83/>5.1 包：库单元</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.2-java%E8%AE%BF%E9%97%AE%E6%8C%87%E7%A4%BA%E7%AC%A6/>5.2 Java访问指示符</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.3-%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%AE%9E%E7%8E%B0/>5.3 接口与实现</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.4-%E7%B1%BB%E8%AE%BF%E9%97%AE/>5.4 类访问</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.5-%E6%80%BB%E7%BB%93/>5.5 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/5.%E9%9A%90%E8%97%8F%E5%AE%9E%E6%96%BD%E8%BF%87%E7%A8%8B/5.6-%E7%BB%83%E4%B9%A0/>5.6 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id867e4ec83e2a44d87f6aed649979a0c1")' href=#id867e4ec83e2a44d87f6aed649979a0c1 aria-expanded=false aria-controls=id867e4ec83e2a44d87f6aed649979a0c1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/>6.类再生</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id867e4ec83e2a44d87f6aed649979a0c1 aria-expanded=false aria-controls=id867e4ec83e2a44d87f6aed649979a0c1><i class="fa-solid fa-angle-right" id=caret-id867e4ec83e2a44d87f6aed649979a0c1></i></a></div><ul class="nav docs-sidenav collapse" id=id867e4ec83e2a44d87f6aed649979a0c1><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.1-%E5%90%88%E6%88%90%E7%9A%84%E8%AF%AD%E6%B3%95/>6.1 合成的语法</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.10-%E6%80%BB%E7%BB%93/>6.10 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.11-%E7%BB%83%E4%B9%A0/>6.11 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.2-%E7%BB%A7%E6%89%BF%E7%9A%84%E8%AF%AD%E6%B3%95/>6.2 继承的语法</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.3-%E5%90%88%E6%88%90%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9A%84%E7%BB%93%E5%90%88/>6.3 合成与继承的结合</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.4-%E5%88%B0%E5%BA%95%E9%80%89%E6%8B%A9%E5%90%88%E6%88%90%E8%BF%98%E6%98%AF%E7%BB%A7%E6%89%BF/>6.4 到底选择合成还是继承</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.5-protected/>6.5 protected</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.6-%E7%B4%AF%E7%A7%AF%E5%BC%80%E5%8F%91/>6.6 累积开发</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.7-%E4%B8%8A%E6%BA%AF%E9%80%A0%E5%9E%8B/>6.7 上溯造型</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.8-final%E5%85%B3%E9%94%AE%E5%AD%97/>6.8 final关键字</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/6.%E7%B1%BB%E5%86%8D%E7%94%9F/6.9-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E7%B1%BB%E8%A3%85%E8%BD%BD/>6.9 初始化和类装载</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf3d9d72d599cb56e323c67f4c3e5106c")' href=#idf3d9d72d599cb56e323c67f4c3e5106c aria-expanded=false aria-controls=idf3d9d72d599cb56e323c67f4c3e5106c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/>7.多态性</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf3d9d72d599cb56e323c67f4c3e5106c aria-expanded=false aria-controls=idf3d9d72d599cb56e323c67f4c3e5106c><i class="fa-solid fa-angle-right" id=caret-idf3d9d72d599cb56e323c67f4c3e5106c></i></a></div><ul class="nav docs-sidenav collapse" id=idf3d9d72d599cb56e323c67f4c3e5106c><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.1-%E4%B8%8A%E6%BA%AF%E9%80%A0%E5%9E%8B/>7.1 上溯造型</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.10-%E7%BB%83%E4%B9%A0/>7.10 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.2-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/>7.2 深入理解</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.3-%E8%A6%86%E7%9B%96%E4%B8%8E%E9%87%8D%E8%BD%BD/>7.3 覆盖与重载</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.4-%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95/>7.4 抽象类和方法</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.5-%E6%8E%A5%E5%8F%A3/>7.5 接口</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.6-%E5%86%85%E9%83%A8%E7%B1%BB/>7.6 内部类</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.7-%E6%9E%84%E9%80%A0%E5%99%A8%E5%92%8C%E5%A4%9A%E6%80%81%E6%80%A7/>7.7 构造器和多态性</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.8-%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BF%E8%BF%9B%E8%A1%8C%E8%AE%BE%E8%AE%A1/>7.8 通过继承进行设计</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/7.%E5%A4%9A%E6%80%81%E6%80%A7/7.9-%E6%80%BB%E7%BB%93/>7.9 总结</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide8fec1c6956e847a0af483b3edf921cd")' href=#ide8fec1c6956e847a0af483b3edf921cd aria-expanded=false aria-controls=ide8fec1c6956e847a0af483b3edf921cd aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/>8.对象的容纳</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide8fec1c6956e847a0af483b3edf921cd aria-expanded=false aria-controls=ide8fec1c6956e847a0af483b3edf921cd><i class="fa-solid fa-angle-right" id=caret-ide8fec1c6956e847a0af483b3edf921cd></i></a></div><ul class="nav docs-sidenav collapse" id=ide8fec1c6956e847a0af483b3edf921cd><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.1-%E6%95%B0%E7%BB%84/>8.1 数组</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.2-%E9%9B%86%E5%90%88/>8.2 集合</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.3-%E8%BF%AD%E4%BB%A3%E5%99%A8/>8.3 迭代器</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.4-%E9%9B%86%E5%90%88%E7%9A%84%E7%B1%BB%E5%9E%8B/>8.4 集合的类型</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.5-%E6%8E%92%E5%BA%8F/>8.5 排序</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.6-%E9%80%9A%E7%94%A8%E9%9B%86%E5%90%88%E5%BA%93/>8.6 通用集合库</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.7-%E6%96%B0%E9%9B%86%E5%90%88/>8.7 新集合</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.8-%E6%80%BB%E7%BB%93/>8.8 总结</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/8.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B9%E7%BA%B3/8.9-%E7%BB%83%E4%B9%A0/>8.9 练习</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id24b0f4bf6b1849b1d34cc1cf59d9a598")' href=#id24b0f4bf6b1849b1d34cc1cf59d9a598 aria-expanded=false aria-controls=id24b0f4bf6b1849b1d34cc1cf59d9a598 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/9.%E5%BC%82%E5%B8%B8%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6/>9.异常差错控制</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id24b0f4bf6b1849b1d34cc1cf59d9a598 aria-expanded=false aria-controls=id24b0f4bf6b1849b1d34cc1cf59d9a598><i class="fa-solid fa-angle-right" id=caret-id24b0f4bf6b1849b1d34cc1cf59d9a598></i></a></div><ul class="nav docs-sidenav collapse" id=id24b0f4bf6b1849b1d34cc1cf59d9a598><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/9.%E5%BC%82%E5%B8%B8%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6/9.10-%E7%BB%83%E4%B9%A0/>9.10 练习</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/9.%E5%BC%82%E5%B8%B8%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6/9.6-%E7%94%A8finally%E6%B8%85%E9%99%A4/>9.6 用finally清除</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/9.%E5%BC%82%E5%B8%B8%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6/9.7-%E6%9E%84%E9%80%A0%E5%99%A8/>9.7 构造器</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/9.%E5%BC%82%E5%B8%B8%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6/9.9-%E6%80%BB%E7%BB%93/>9.9 总结</a></li></ul></div><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95a-%E4%BD%BF%E7%94%A8%E9%9D%9Ejava%E4%BB%A3%E7%A0%81/>附录A 使用非JAVA代码</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95b-%E5%AF%B9%E6%AF%94c++%E5%92%8Cjava/>附录B 对比C++和Java</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95c-java%E7%BC%96%E7%A8%8B%E8%A7%84%E5%88%99/>附录C Java编程规则</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95d-%E6%80%A7%E8%83%BD/>附录D 性能</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95e-%E5%85%B3%E4%BA%8E%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AF%9D/>附录E 关于垃圾收集的一些话</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E9%99%84%E5%BD%95f-%E6%8E%A8%E8%8D%90%E8%AF%BB%E7%89%A9/>附录F 推荐读物</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2%E7%9A%84%E8%AF%9D/>写在前面的话</a></li><li class="child level"><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/%E5%BC%95%E8%A8%80/>引言</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>14.4 优先级</h1><div class=article-style><h1 id=144-优先级>14.4 优先级</h1><p>14.4 优先级</p><p>线程的优先级（Priority）告诉调试程序该线程的重要程度有多大。如果有大量线程都被堵塞，都在等候运行，调试程序会首先运行具有最高优先级的那个线程。然而，这并不表示优先级较低的线程不会运行（换言之，不会因为存在优先级而导致死锁）。若线程的优先级较低，只不过表示它被准许运行的机会小一些而已。</p><p>可用 getPriority()方法读取一个线程的优先级，并用 setPriority()改变它。在下面这个程序片中，大家会发现计数器的计数速度慢了下来，因为它们关联的线程分配了较低的优先级：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//: Counter5.java
</span></span></span><span class=line><span class=cl><span class=c1>// Adjusting the priorities of threads
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>import</span> <span class=nn>java.awt.*</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.awt.event.*</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.applet.*</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Ticker2</span> <span class=kd>extends</span> <span class=n>Thread</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Button</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;Toggle&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>    <span class=n>incPriority</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;up&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>    <span class=n>decPriority</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;down&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>TextField</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TextField</span><span class=o>(</span><span class=mi>10</span><span class=o>),</span>
</span></span><span class=line><span class=cl>    <span class=n>pr</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TextField</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span> <span class=c1>// Display priority
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>private</span> <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>runFlag</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>Ticker2</span><span class=o>(</span><span class=n>Container</span> <span class=n>c</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>ToggleL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>incPriority</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>UpL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>decPriority</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>DownL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>Panel</span> <span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Panel</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>t</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>pr</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>b</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>incPriority</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>decPriority</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>p</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>ToggleL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>runFlag</span> <span class=o>=</span> <span class=o>!</span><span class=n>runFlag</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>UpL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>newPriority</span> <span class=o>=</span> <span class=n>getPriority</span><span class=o>()</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(</span><span class=n>newPriority</span> <span class=o>&gt;</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newPriority</span> <span class=o>=</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=n>setPriority</span><span class=o>(</span><span class=n>newPriority</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>DownL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>newPriority</span> <span class=o>=</span> <span class=n>getPriority</span><span class=o>()</span> <span class=o>-</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(</span><span class=n>newPriority</span> <span class=o>&lt;</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newPriority</span> <span class=o>=</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=n>setPriority</span><span class=o>(</span><span class=n>newPriority</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=kc>true</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(</span><span class=n>runFlag</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>t</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=n>Integer</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>count</span><span class=o>++));</span>
</span></span><span class=line><span class=cl>        <span class=n>pr</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span>
</span></span><span class=line><span class=cl>          <span class=n>Integer</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>getPriority</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>      <span class=n>yield</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Counter5</span> <span class=kd>extends</span> <span class=n>Applet</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Button</span>
</span></span><span class=line><span class=cl>    <span class=n>start</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;Start&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>    <span class=n>upMax</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;Inc Max Priority&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>    <span class=n>downMax</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Button</span><span class=o>(</span><span class=s>&#34;Dec Max Priority&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>started</span> <span class=o>=</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=kt>int</span> <span class=n>SIZE</span> <span class=o>=</span> <span class=mi>10</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Ticker2</span><span class=o>[]</span> <span class=n>s</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Ticker2</span><span class=o>[</span><span class=n>SIZE</span><span class=o>];</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>TextField</span> <span class=n>mp</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TextField</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>init</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>      <span class=n>s</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Ticker2</span><span class=o>(</span><span class=k>this</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Label</span><span class=o>(</span><span class=s>&#34;MAX_PRIORITY = &#34;</span>
</span></span><span class=line><span class=cl>      <span class=o>+</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Label</span><span class=o>(</span><span class=s>&#34;MIN_PRIORITY = &#34;</span>
</span></span><span class=line><span class=cl>      <span class=o>+</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Label</span><span class=o>(</span><span class=s>&#34;Group Max Priority = &#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=n>mp</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=n>start</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=o>(</span><span class=n>upMax</span><span class=o>);</span> <span class=n>add</span><span class=o>(</span><span class=n>downMax</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>start</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>StartL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>upMax</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>UpMaxL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>downMax</span><span class=o>.</span><span class=na>addActionListener</span><span class=o>(</span><span class=k>new</span> <span class=n>DownMaxL</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>showMaxPriority</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Recursively display parent thread groups:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ThreadGroup</span> <span class=n>parent</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>      <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>getParent</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=o>(</span><span class=n>parent</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Label</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;Parent threadgroup max priority = &#34;</span>
</span></span><span class=line><span class=cl>        <span class=o>+</span> <span class=n>parent</span><span class=o>.</span><span class=na>getMaxPriority</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>      <span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=na>getParent</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>showMaxPriority</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>mp</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=n>Integer</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span>
</span></span><span class=line><span class=cl>      <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>getMaxPriority</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>StartL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(!</span><span class=n>started</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>started</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>          <span class=n>s</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>start</span><span class=o>();</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>UpMaxL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>maxp</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>getMaxPriority</span><span class=o>();</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(++</span><span class=n>maxp</span> <span class=o>&gt;</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=n>maxp</span> <span class=o>=</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>maxp</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>showMaxPriority</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>class</span> <span class=nc>DownMaxL</span> <span class=kd>implements</span> <span class=n>ActionListener</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>actionPerformed</span><span class=o>(</span><span class=n>ActionEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>maxp</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>getMaxPriority</span><span class=o>();</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(--</span><span class=n>maxp</span> <span class=o>&lt;</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=n>maxp</span> <span class=o>=</span> <span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=n>s</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>getThreadGroup</span><span class=o>().</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>maxp</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>showMaxPriority</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Counter5</span> <span class=n>applet</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Counter5</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Frame</span> <span class=n>aFrame</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Frame</span><span class=o>(</span><span class=s>&#34;Counter5&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>aFrame</span><span class=o>.</span><span class=na>addWindowListener</span><span class=o>(</span>
</span></span><span class=line><span class=cl>      <span class=k>new</span> <span class=n>WindowAdapter</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>void</span> <span class=nf>windowClosing</span><span class=o>(</span><span class=n>WindowEvent</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>          <span class=n>System</span><span class=o>.</span><span class=na>exit</span><span class=o>(</span><span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>      <span class=o>});</span>
</span></span><span class=line><span class=cl>    <span class=n>aFrame</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>applet</span><span class=o>,</span> <span class=n>BorderLayout</span><span class=o>.</span><span class=na>CENTER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>aFrame</span><span class=o>.</span><span class=na>setSize</span><span class=o>(</span><span class=mi>300</span><span class=o>,</span> <span class=mi>600</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>applet</span><span class=o>.</span><span class=na>init</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>applet</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>aFrame</span><span class=o>.</span><span class=na>setVisible</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span> <span class=c1>///:~
</span></span></span></code></pre></div><p>Ticker 采用本章前面构造好的形式，但有一个额外的 TextField（文本字段），用于显示线程的优先级；以及两个额外的按钮，用于人为提高及降低优先级。</p><p>也要注意 yield()的用法，它将控制权自动返回给调试程序（机制）。若不进行这样的处理，多线程机制仍会工作，但我们会发现它的运行速度慢了下来（试试删去对 yield()的调用）。亦可调用 sleep()，但假若那样做，计数频率就会改由 sleep()的持续时间控制，而不是优先级。</p><p>Counter5 中的 init()创建了由 10 个 Ticker2 构成的一个数组；它们的按钮以及输入字段（文本字段）由 Ticker2 构造器置入窗体。Counter5 增加了新的按钮，用于启动一切，以及用于提高和降低线程组的最大优先级。除此以外，还有一些标签用于显示一个线程可以采用的最大及最小优先级；以及一个特殊的文本字段，用于显示线程组的最大优先级（在下一节里，我们将全面讨论线程组的问题）。最后，父线程组的优先级也作为标签显示出来。</p><p>按下“up”（上）或“down”（下）按钮的时候，会先取得 Ticker2 当前的优先级，然后相应地提高或者降低。
运行该程序时，我们可注意到几件事情。首先，线程组的默认优先级是 5。即使在启动线程之前（或者在创建线程之前，这要求对代码进行适当的修改）将最大优先级降到 5 以下，每个线程都会有一个 5 的默认优先级。</p><p>最简单的测试是获取一个计数器，将它的优先级降低至 1，此时应观察到它的计数频率显著放慢。现在试着再次提高优先级，可以升高回线程组的优先级，但不能再高了。现在将线程组的优先级降低两次。线程的优先级不会改变，但假若试图提高或者降低它，就会发现这个优先级自动变成线程组的优先级。此外，新线程仍然具有一个默认优先级，即使它比组的优先级还要高（换句话说，不要指望利用组优先级来防止新线程拥有比现有的更高的优先级）。</p><p>最后，试着提高组的最大优先级。可以发现，这样做是没有效果的。我们只能减少线程组的最大优先级，而不能增大它。</p><p>14.4.1 线程组</p><p>所有线程都隶属于一个线程组。那可以是一个默认线程组，亦可是一个创建线程时明确指定的组。在创建之初，线程被限制到一个组里，而且不能改变到一个不同的组。每个应用都至少有一个线程从属于系统线程组。若创建多个线程而不指定一个组，它们就会自动归属于系统线程组。</p><p>线程组也必须从属于其他线程组。必须在构造器里指定新线程组从属于哪个线程组。若在创建一个线程组的时候没有指定它的归属，则同样会自动成为系统线程组的一名属下。因此，一个应用程序中的所有线程组最终都会将系统线程组作为自己的“父”。
之所以要提出“线程组”的概念，很难从字面上找到原因。这多少为我们讨论的主题带来了一些混乱。一般地说，我们认为是由于“安全”或者“保密”方面的理由才使用线程组的。根据 Arnold 和 Gosling 的说法：“线程组中的线程可以修改组内的其他线程，包括那些位于分层结构最深处的。一个线程不能修改位于自己所在组或者下属组之外的任何线程”（注释 ①）。然而，我们很难判断“修改”在这儿的具体含义是什么。下面这个例子展示了位于一个“叶子组”内的线程能修改它所在线程组树的所有线程的优先级，同时还能为这个“树”内的所有线程都调用一个方法。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>①：《</span><span class=n>The</span> <span class=n>Java</span> <span class=n>Programming</span> <span class=n>Language</span><span class=err>》第</span><span class=mi>179</span><span class=err>页。该书由</span><span class=n>Arnold</span><span class=err>和</span><span class=n>Jams</span> <span class=n>Gosling</span><span class=err>编著，</span><span class=n>Addison</span><span class=o>-</span><span class=n>Wesley</span><span class=err>于</span><span class=mi>1996</span><span class=err>年出版</span>
</span></span><span class=line><span class=cl><span class=c1>//: TestAccess.java
</span></span></span><span class=line><span class=cl><span class=c1>// How threads can access other threads
</span></span></span><span class=line><span class=cl><span class=c1>// in a parent thread group
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>TestAccess</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ThreadGroup</span>
</span></span><span class=line><span class=cl>      <span class=n>x</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ThreadGroup</span><span class=o>(</span><span class=s>&#34;x&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>      <span class=n>y</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ThreadGroup</span><span class=o>(</span><span class=n>x</span><span class=o>,</span> <span class=s>&#34;y&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>      <span class=n>z</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ThreadGroup</span><span class=o>(</span><span class=n>y</span><span class=o>,</span> <span class=s>&#34;z&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Thread</span>
</span></span><span class=line><span class=cl>      <span class=n>one</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TestThread1</span><span class=o>(</span><span class=n>x</span><span class=o>,</span> <span class=s>&#34;one&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>      <span class=n>two</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TestThread2</span><span class=o>(</span><span class=n>z</span><span class=o>,</span> <span class=s>&#34;two&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>TestThread1</span> <span class=kd>extends</span> <span class=n>Thread</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>int</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=n>TestThread1</span><span class=o>(</span><span class=n>ThreadGroup</span> <span class=n>g</span><span class=o>,</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>super</span><span class=o>(</span><span class=n>g</span><span class=o>,</span> <span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>f</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span><span class=o>++;</span> <span class=c1>// modify this thread
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>getName</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34; f()&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>TestThread2</span> <span class=kd>extends</span> <span class=n>TestThread1</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>TestThread2</span><span class=o>(</span><span class=n>ThreadGroup</span> <span class=n>g</span><span class=o>,</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>super</span><span class=o>(</span><span class=n>g</span><span class=o>,</span> <span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>start</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ThreadGroup</span> <span class=n>g</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>      <span class=n>getThreadGroup</span><span class=o>().</span><span class=na>getParent</span><span class=o>().</span><span class=na>getParent</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>g</span><span class=o>.</span><span class=na>list</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Thread</span><span class=o>[]</span> <span class=n>gAll</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Thread</span><span class=o>[</span><span class=n>g</span><span class=o>.</span><span class=na>activeCount</span><span class=o>()];</span>
</span></span><span class=line><span class=cl>    <span class=n>g</span><span class=o>.</span><span class=na>enumerate</span><span class=o>(</span><span class=n>gAll</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>gAll</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>gAll</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>setPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=o>((</span><span class=n>TestThread1</span><span class=o>)</span><span class=n>gAll</span><span class=o>[</span><span class=n>i</span><span class=o>]).</span><span class=na>f</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>g</span><span class=o>.</span><span class=na>list</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span> <span class=c1>///:~
</span></span></span></code></pre></div><p>在 main()中，我们创建了几个 ThreadGroup（线程组），每个都位于不同的“叶”上：x 没有参数，只有它的名字（一个 String），所以会自动进入“system”（系统）线程组；y 位于 x 下方，而 z 位于 y 下方。注意初始化是按照文字顺序进行的，所以代码合法。</p><p>有两个线程创建之后进入了不同的线程组。其中，TestThread1 没有一个 run()方法，但有一个 f()，用于通知线程以及打印出一些东西，以便我们知道它已被调用。而 TestThread2 属于 TestThread1 的一个子类，它的 run()非常详尽，要做许多事情。首先，它获得当前线程所在的线程组，然后利用 getParent()在继承树中向上移动两级（这样做是有道理的，因为我想把 TestThread2 在分级结构中向下移动两级）。随后，我们调用方法 activeCount()，查询这个线程组以及所有子线程组内有多少个线程，从而创建由指向 Thread 的指针构成的一个数组。enumerate()方法将指向所有这些线程的指针置入数组 gAll 里。然后在整个数组里遍历，为每个线程都调用 f()方法，同时修改优先级。这样一来，位于一个“叶子”线程组里的线程就修改了位于父线程组的线程。</p><p>调试方法 list()打印出与一个线程组有关的所有信息，把它们作为标准输出。在我们对线程组的行为进行调查的时候，这样做是相当有好处的。下面是程序的输出：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>x</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=n>Thread</span><span class=o>[</span><span class=n>one</span><span class=o>,</span><span class=mi>5</span><span class=o>,</span><span class=n>x</span><span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>y</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>z</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>            <span class=n>Thread</span><span class=o>[</span><span class=n>two</span><span class=o>,</span><span class=mi>5</span><span class=o>,</span><span class=n>z</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>one</span> <span class=nf>f</span><span class=o>()</span>
</span></span><span class=line><span class=cl><span class=n>two</span> <span class=nf>f</span><span class=o>()</span>
</span></span><span class=line><span class=cl><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>x</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=n>Thread</span><span class=o>[</span><span class=n>one</span><span class=o>,</span><span class=mi>1</span><span class=o>,</span><span class=n>x</span><span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>y</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>z</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>            <span class=n>Thread</span><span class=o>[</span><span class=n>two</span><span class=o>,</span><span class=mi>1</span><span class=o>,</span><span class=n>z</span><span class=o>]</span>
</span></span></code></pre></div><p>list()不仅打印出 ThreadGroup 或者 Thread 的类名，也打印出了线程组的名字以及它的最高优先级。对于线程，则打印出它们的名字，并接上线程优先级以及所属的线程组。注意 list()会对线程和线程组进行缩排处理，指出它们是未缩排的线程组的“子”。
大家可看到 f()是由 TestThread2 的 run()方法调用的，所以很明显，组内的所有线程都是相当脆弱的。然而，我们只能访问那些从自己的 system 线程组树分支出来的线程，而且或许这就是所谓“安全”的意思。我们不能访问其他任何人的系统线程树。</p><ol><li>线程组的控制</li></ol><p>抛开安全问题不谈，线程组最有用的一个地方就是控制：只需用单个命令即可完成对整个线程组的操作。下面这个例子演示了这一点，并对线程组内优先级的限制进行了说明。括号内的注释数字便于大家比较输出结果：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//: ThreadGroup1.java
</span></span></span><span class=line><span class=cl><span class=c1>// How thread groups control priorities
</span></span></span><span class=line><span class=cl><span class=c1>// of the threads inside them.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ThreadGroup1</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Get the system thread &amp; print its Info:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ThreadGroup</span> <span class=n>sys</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>.</span><span class=na>currentThread</span><span class=o>().</span><span class=na>getThreadGroup</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (1)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Reduce the system thread group priority:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>sys</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span> <span class=o>-</span> <span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Increase the main thread priority:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Thread</span> <span class=n>curr</span> <span class=o>=</span> <span class=n>Thread</span><span class=o>.</span><span class=na>currentThread</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>curr</span><span class=o>.</span><span class=na>setPriority</span><span class=o>(</span><span class=n>curr</span><span class=o>.</span><span class=na>getPriority</span><span class=o>()</span> <span class=o>+</span> <span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (2)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Attempt to set a new group to the max:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ThreadGroup</span> <span class=n>g1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ThreadGroup</span><span class=o>(</span><span class=s>&#34;g1&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Attempt to set a new thread to the max:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Thread</span> <span class=n>t</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Thread</span><span class=o>(</span><span class=n>g1</span><span class=o>,</span> <span class=s>&#34;A&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=na>setPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (3)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Reduce g1&#39;s max priority, then attempt
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// to increase it:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>g1</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span> <span class=o>-</span> <span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (4)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Attempt to set a new thread to the max:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>t</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Thread</span><span class=o>(</span><span class=n>g1</span><span class=o>,</span> <span class=s>&#34;B&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=na>setPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (5)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Lower the max priority below the default
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// thread priority:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>g1</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MIN_PRIORITY</span> <span class=o>+</span> <span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Look at a new thread&#39;s priority before
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// and after changing it:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>t</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Thread</span><span class=o>(</span><span class=n>g1</span><span class=o>,</span> <span class=s>&#34;C&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (6)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>t</span><span class=o>.</span><span class=na>setPriority</span><span class=o>(</span><span class=n>t</span><span class=o>.</span><span class=na>getPriority</span><span class=o>()</span> <span class=o>-</span><span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g1</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (7)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Make g2 a child Threadgroup of g1 and
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// try to increase its priority:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ThreadGroup</span> <span class=n>g2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ThreadGroup</span><span class=o>(</span><span class=n>g1</span><span class=o>,</span> <span class=s>&#34;g2&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g2</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (8)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>g2</span><span class=o>.</span><span class=na>setMaxPriority</span><span class=o>(</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>g2</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (9)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Add a bunch of new threads to g2:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>      <span class=k>new</span> <span class=n>Thread</span><span class=o>(</span><span class=n>g2</span><span class=o>,</span> <span class=n>Integer</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=n>i</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Show information about all threadgroups
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// and threads:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>sys</span><span class=o>.</span><span class=na>list</span><span class=o>();</span> <span class=c1>// (10)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Starting all threads:&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Thread</span><span class=o>[]</span> <span class=n>all</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Thread</span><span class=o>[</span><span class=n>sys</span><span class=o>.</span><span class=na>activeCount</span><span class=o>()];</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=na>enumerate</span><span class=o>(</span><span class=n>all</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>all</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=o>(!</span><span class=n>all</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>isAlive</span><span class=o>())</span>
</span></span><span class=line><span class=cl>        <span class=n>all</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>start</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Suspends &amp; Stops all threads in
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// this group and its subgroups:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;All threads started&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=na>suspend</span><span class=o>();</span> <span class=c1>// Deprecated in Java 1.2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Never gets here...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;All threads suspended&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=na>stop</span><span class=o>();</span> <span class=c1>// Deprecated in Java 1.2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;All threads stopped&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span> <span class=c1>///:~
</span></span></span></code></pre></div><p>下面的输出结果已进行了适当的编辑，以便用一页能够装下（java.lang.已被删去），而且添加了适当的数字，与前面程序列表中括号里的数字对应：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>1</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>5</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>2</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>3</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>4</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>8</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>5</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>8</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>6</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>7</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>3</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>8</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>9</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>10</span><span class=o>)</span><span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>3</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>0</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>1</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>2</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>3</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>4</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>Starting</span> <span class=n>all</span> <span class=n>threads</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=n>All</span> <span class=n>threads</span> <span class=n>started</span>
</span></span></code></pre></div><p>所有程序都至少有一个线程在运行，而且 main()采取的第一项行动便是调用 Thread 的一个 static（静态）方法，名为 currentThread()。从这个线程开始，线程组将被创建，而且会为结果调用 list()。输出如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>1</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>10</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>5</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span></code></pre></div><p>我们可以看到，主线程组的名字是 system，而主线程的名字是 main，而且它从属于 system 线程组。
第二个练习显示出 system 组的最高优先级可以减少，而且 main 线程可以增大自己的优先级：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>2</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span></code></pre></div><p>第三个练习创建一个新的线程组，名为 g1；它自动从属于 system 线程组，因为并没有明确指定它的归属关系。我们在 g1 内部放置了一个新线程，名为 A。随后，我们试着将这个组的最大优先级设到最高的级别，并将 A 的优先级也设到最高一级。结果如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>3</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=err>```</span> <span class=n>java</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>可以看出，不可能将线程组的最大优先级设为高于它的父线程组。</span>
</span></span><span class=line><span class=cl><span class=err>第四个练习将</span><span class=n>g1</span><span class=err>的最大优先级降低两级，然后试着把它升至</span><span class=n>Thread</span><span class=o>.</span><span class=na>MAX_PRIORITY</span><span class=err>。结果如下：</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>```</span> <span class=n>java</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>4</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>8</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span></code></pre></div><p>同样可以看出，提高最大优先级的企图是失败的。我们只能降低一个线程组的最大优先级，而不能提高它。此外，注意线程 A 的优先级并未改变，而且它现在高于线程组的最大优先级。也就是说，线程组最大优先级的变化并不能对现有线程造成影响。
第五个练习试着将一个新线程设为最大优先级。如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>5</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>8</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span></code></pre></div><p>因此，新线程不能变到比最大线程组优先级还要高的一级。
这个程序的默认线程优先级是 6；若新建一个线程，那就是它的默认优先级，而且不会发生变化，除非对优先级进行了特别的处理。练习六将把线程组的最大优先级降至默认线程优先级以下，看看在这种情况下新建一个线程会发生什么事情：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>6</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span></code></pre></div><p>尽管线程组现在的最大优先级是 3，但仍然用默认优先级 6 来创建新线程。所以，线程组的最大优先级不会影响默认优先级（事实上，似乎没有办法可以设置新线程的默认优先级）。
改变了优先级后，接下来试试将其降低一级，结果如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>7</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>3</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span></code></pre></div><p>因此，只有在试图改变优先级的时候，才会强迫遵守线程组最大优先级的限制。
我们在(8)和(9)中进行了类似的试验。在这里，我们创建了一个新的线程组，名为 g2，将其作为 g1 的一个子组，并改变了它的最大优先级。大家可以看到，g2 的优先级无论如何都不可能高于 g1：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>8</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=o>(</span><span class=mi>9</span><span class=o>)</span> <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span></code></pre></div><p>也要注意在 g2 创建的时候，它会被自动设为 g1 的线程组最大优先级。
经过所有这些实验以后，整个线程组和线程系统都会被打印出来，如下所示：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=o>(</span><span class=mi>10</span><span class=o>)</span><span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>system</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>9</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>Thread</span><span class=o>[</span><span class=n>main</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>system</span><span class=o>]</span>
</span></span><span class=line><span class=cl>      <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g1</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>A</span><span class=o>,</span><span class=mi>9</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>B</span><span class=o>,</span><span class=mi>8</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>Thread</span><span class=o>[</span><span class=n>C</span><span class=o>,</span><span class=mi>3</span><span class=o>,</span><span class=n>g1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>ThreadGroup</span><span class=o>[</span><span class=n>name</span><span class=o>=</span><span class=n>g2</span><span class=o>,</span><span class=n>maxpri</span><span class=o>=</span><span class=mi>3</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>0</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>1</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>2</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>3</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>Thread</span><span class=o>[</span><span class=mi>4</span><span class=o>,</span><span class=mi>6</span><span class=o>,</span><span class=n>g2</span><span class=o>]</span>
</span></span></code></pre></div><p>所以由线程组的规则所限，一个子组的最大优先级在任何时候都只能低于或等于它的父组的最大优先级。</p><p>本程序的最后一个部分演示了用于整组线程的方法。程序首先遍历整个线程树，并启动每一个尚未启动的线程。例如，system 组随后会被挂起（暂停），最后被中止（尽管用 suspend()和 stop()对整个线程组进行操作看起来似乎很有趣，但应注意这些方法在 Java 1.2 里都是被“反对”的）。但在挂起 system 组的同时，也挂起了 main 线程，而且整个程序都会关闭。所以永远不会达到让线程中止的那一步。实际上，假如真的中止了 main 线程，它会“掷”出一个 ThreadDeath 异常，所以我们通常不这样做。由于 ThreadGroup 是从 Object 继承的，其中包含了 wait()方法，所以也能调用 wait(秒数 ×1000)，令程序暂停运行任意秒数的时间。当然，事前必须在一个同步块里取得对象锁。</p><p>ThreadGroup 类也提供了 suspend()和 resume()方法，所以能中止和启动整个线程组和它的所有线程，也能中止和启动它的子组，所有这些只需一个命令即可（再次提醒，suspend()和 resume()都是 Java 1.2 所“反对”的）。
从表面看，线程组似乎有些让人摸不着头脑，但请注意我们很少需要直接使用它们。</p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.3-%E5%A0%B5%E5%A1%9E/ rel=next>14.3 堵塞</a></div><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/java-series/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/think-in-java/14.%E5%A4%9A%E7%BA%BF%E7%A8%8B/14.5-%E5%9B%9E%E9%A1%BErunnable/ rel=prev>14.5 回顾runnable</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>