<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Swagger 随着前后端分离架构和微服务架构的流行，我们使用 Spring Boot 来构建 RESTful API 项目的场景越来越多。通常我们的一个 RESTful API 就有可能要服务于多个不同的开发人员或开发团队：IOS 开发、Android 开发、Web 开发甚至其他的后"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/swagger/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.fab3cd1900ae35687457073b2d518207.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/swagger/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/swagger/"><meta property="og:title" content="Swagger | Next-gen Tech Edu"><meta property="og:description" content="Swagger 随着前后端分离架构和微服务架构的流行，我们使用 Spring Boot 来构建 RESTful API 项目的场景越来越多。通常我们的一个 RESTful API 就有可能要服务于多个不同的开发人员或开发团队：IOS 开发、Android 开发、Web 开发甚至其他的后"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>Swagger | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=3d034f2b210ac95c97b1bd501ca1f4e9><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">接口文档</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id81065069af82d438c704d3edf58bfb0e")' href=#id81065069af82d438c704d3edf58bfb0e aria-expanded=false aria-controls=id81065069af82d438c704d3edf58bfb0e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/>4.请求与响应</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id81065069af82d438c704d3edf58bfb0e aria-expanded=false aria-controls=id81065069af82d438c704d3edf58bfb0e><i class="fa-solid fa-angle-down" id=caret-id81065069af82d438c704d3edf58bfb0e></i></a></div><ul class="nav docs-sidenav collapse show" id=id81065069af82d438c704d3edf58bfb0e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id20ec0110f2d5395813dc35b9ed2d4aee")' href=#id20ec0110f2d5395813dc35b9ed2d4aee aria-expanded=false aria-controls=id20ec0110f2d5395813dc35b9ed2d4aee aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/>接口文档</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id20ec0110f2d5395813dc35b9ed2d4aee aria-expanded=false aria-controls=id20ec0110f2d5395813dc35b9ed2d4aee><i class="fa-solid fa-angle-down" id=caret-id20ec0110f2d5395813dc35b9ed2d4aee></i></a></div><ul class="nav docs-sidenav collapse show" id=id20ec0110f2d5395813dc35b9ed2d4aee><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/springfox/>Springfox</a></li><li class="child level active"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/swagger/>Swagger</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id03828852eb7451a6ee48e25d70cb63a0")' href=#id03828852eb7451a6ee48e25d70cb63a0 aria-expanded=false aria-controls=id03828852eb7451a6ee48e25d70cb63a0 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%8F%82%E6%95%B0/>路由与参数</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id03828852eb7451a6ee48e25d70cb63a0 aria-expanded=false aria-controls=id03828852eb7451a6ee48e25d70cb63a0><i class="fa-solid fa-angle-right" id=caret-id03828852eb7451a6ee48e25d70cb63a0></i></a></div><ul class="nav docs-sidenav collapse" id=id03828852eb7451a6ee48e25d70cb63a0><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%8F%82%E6%95%B0/%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C/>参数校验</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%8F%82%E6%95%B0/%E5%8F%82%E6%95%B0%E6%B3%A8%E5%85%A5/>参数注入</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%8F%82%E6%95%B0/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/>文件上传</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbd6d8739514edb62127e12674afbe5e1")' href=#idbd6d8739514edb62127e12674afbe5e1 aria-expanded=false aria-controls=idbd6d8739514edb62127e12674afbe5e1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/>日志处理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbd6d8739514edb62127e12674afbe5e1 aria-expanded=false aria-controls=idbd6d8739514edb62127e12674afbe5e1><i class="fa-solid fa-angle-right" id=caret-idbd6d8739514edb62127e12674afbe5e1></i></a></div><ul class="nav docs-sidenav collapse" id=idbd6d8739514edb62127e12674afbe5e1><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/log4j2/>Log4j2</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/logback/>Logback</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/mdc/>MDC</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/slf4j/>Slf4j</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id514f92a468ffa8f4feee31683dce4569")' href=#id514f92a468ffa8f4feee31683dce4569 aria-expanded=false aria-controls=id514f92a468ffa8f4feee31683dce4569 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%93%8D%E5%BA%94%E8%BF%94%E5%9B%9E/>响应返回</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id514f92a468ffa8f4feee31683dce4569 aria-expanded=false aria-controls=id514f92a468ffa8f4feee31683dce4569><i class="fa-solid fa-angle-right" id=caret-id514f92a468ffa8f4feee31683dce4569></i></a></div><ul class="nav docs-sidenav collapse" id=id514f92a468ffa8f4feee31683dce4569><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%93%8D%E5%BA%94%E8%BF%94%E5%9B%9E/json-%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85/>Json 数据封装</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idafcbd6cd8bf1dbf014e608dd3c803ead")' href=#idafcbd6cd8bf1dbf014e608dd3c803ead aria-expanded=false aria-controls=idafcbd6cd8bf1dbf014e608dd3c803ead aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/>异步处理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idafcbd6cd8bf1dbf014e608dd3c803ead aria-expanded=false aria-controls=idafcbd6cd8bf1dbf014e608dd3c803ead><i class="fa-solid fa-angle-right" id=caret-idafcbd6cd8bf1dbf014e608dd3c803ead></i></a></div><ul class="nav docs-sidenav collapse" id=idafcbd6cd8bf1dbf014e608dd3c803ead><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id00d15895f215662e512f90f01d2395b6")' href=#id00d15895f215662e512f90f01d2395b6 aria-expanded=false aria-controls=id00d15895f215662e512f90f01d2395b6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/async/>Async</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id00d15895f215662e512f90f01d2395b6 aria-expanded=false aria-controls=id00d15895f215662e512f90f01d2395b6><i class="fa-solid fa-angle-right" id=caret-id00d15895f215662e512f90f01d2395b6></i></a></div><ul class="nav docs-sidenav collapse" id=id00d15895f215662e512f90f01d2395b6><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/async/async/>Async</a></li></ul></div><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/callable-%E4%B8%8E-webasynctask/>Callable 与 WebAsyncTask</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/deferredresult/>DeferredResult</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide99569239e2f00c1c85359dc2854f745")' href=#ide99569239e2f00c1c85359dc2854f745 aria-expanded=false aria-controls=ide99569239e2f00c1c85359dc2854f745 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/>异常处理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide99569239e2f00c1c85359dc2854f745 aria-expanded=false aria-controls=ide99569239e2f00c1c85359dc2854f745><i class="fa-solid fa-angle-right" id=caret-ide99569239e2f00c1c85359dc2854f745></i></a></div><ul class="nav docs-sidenav collapse" id=ide99569239e2f00c1c85359dc2854f745><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/>全局异常处理</a></li><li class="child level"><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/%E9%87%8D%E8%AF%95%E6%9C%BA%E5%88%B6/>重试机制</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#默认分组>默认分组</a></li><li><a href=#自定义默认分组的名称>自定义默认分组的名称</a></li><li><a href=#合并-controller-分组>合并 Controller 分组</a></li><li><a href=#更细粒度的接口分组>更细粒度的接口分组</a></li></ul><ul><li><a href=#分组的排序>分组的排序</a></li><li><a href=#接口的排序>接口的排序</a></li><li><a href=#参数的排序>参数的排序</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Swagger</h1><div class=article-style><h1 id=swagger>Swagger</h1><p>随着前后端分离架构和微服务架构的流行，我们使用 Spring Boot 来构建 RESTful API 项目的场景越来越多。通常我们的一个 RESTful API 就有可能要服务于多个不同的开发人员或开发团队：IOS 开发、Android 开发、Web 开发甚至其他的后端服务等。为了减少与其他团队平时开发期间的频繁沟通成本，传统做法就是创建一份 RESTful API 文档来记录所有接口细节，然而这样的做法有以下几个问题：</p><ul><li>由于接口众多，并且细节复杂（需要考虑不同的 HTTP 请求类型、HTTP 头部信息、HTTP 请求内容等），高质量地创建这份文档本身就是件非常吃力的事，下游的抱怨声不绝于耳。</li><li>随着时间推移，不断修改接口实现的时候都必须同步修改接口文档，而文档与代码又处于两个不同的媒介，除非有严格的管理机制，不然很容易导致不一致现象。</li></ul><p>为了解决上面这样的问题，本文将介绍 RESTful API 的重磅好伙伴 Swagger2，它可以轻松的整合到 Spring Boot 中，并与 Spring MVC 程序配合组织出强大 RESTful API 文档。它既可以减少我们创建文档的工作量，同时说明内容又整合入实现代码中，让维护文档和修改代码整合为一体，可以让我们在修改代码逻辑的同时方便的修改文档说明。另外 Swagger2 也提供了强大的页面测试功能来调试每个 RESTful API。</p><p>首先添加 swagger-spring-boot-starter 依赖，在 pom.xml 中加入依赖，具体如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>com.spring4all<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>swagger-spring-boot-starter<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.9.0.RELEASE<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>应用主类中添加 @EnableSwagger2Doc 注解，具体如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@EnableSwagger2Doc</span>
</span></span><span class=line><span class=cl><span class=nd>@SpringBootApplication</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Application</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>SpringApplication</span><span class=o>.</span><span class=na>run</span><span class=o>(</span><span class=n>Application</span><span class=o>.</span><span class=na>class</span><span class=o>,</span> <span class=n>args</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>application.properties 中配置文档相关内容，比如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=l>swagger.title=spring-boot-starter-swagger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.description=Starter for swagger 2.x</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.version=1.4.0.RELEASE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.license=Apache License, Version 2.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.licenseUrl=https://www.apache.org/licenses/LICENSE-2.0.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.termsOfServiceUrl=https://github.com/dyc87112/spring-boot-starter-swagger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.contact.name=didi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.contact.url=http://blog.didispace.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.contact.email=dyc87112@qq.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.base-package=com.didispace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>swagger.base-path=/**</span><span class=w>
</span></span></span></code></pre></div><p>各参数配置含义如下：</p><ul><li><code>swagger.title</code>：标题</li><li><code>swagger.description</code>：描述</li><li><code>swagger.version</code>：版本</li><li><code>swagger.license</code>：许可证</li><li><code>swagger.licenseUrl</code>：许可证 URL</li><li><code>swagger.termsOfServiceUrl</code>：服务条款 URL</li><li><code>swagger.contact.name</code>：维护人</li><li><code>swagger.contact.url</code>：维护人 URL</li><li><code>swagger.contact.email</code>：维护人 email</li><li><code>swagger.base-package</code>：swagger 扫描的基础包，默认：全扫描</li><li><code>swagger.base-path</code>：需要处理的基础 URL 规则，默认：/**</li></ul><h1 id=添加文档内容>添加文档内容</h1><p>在整合完 Swagger 之后，在 http://localhost:8080/swagger-ui.html 页面中可以看到，关于各个接口的描述还都是英文或遵循代码定义的名称产生的。这些内容对用户并不友好，所以我们需要自己增加一些说明来丰富文档内容。如下所示，我们通过@Api，@ApiOperation 注解来给 API 增加说明、通过@ApiImplicitParam、@ApiModel、@ApiModelProperty 注解来给参数增加说明。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=s>&#34;用户管理&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/users&#34;</span><span class=o>)</span>     <span class=c1>// 通过这里配置使下面的映射都在/users下
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 创建线程安全的Map，模拟users信息的存储
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>static</span> <span class=n>Map</span><span class=o>&lt;</span><span class=n>Long</span><span class=o>,</span> <span class=n>User</span><span class=o>&gt;</span> <span class=n>users</span> <span class=o>=</span> <span class=n>Collections</span><span class=o>.</span><span class=na>synchronizedMap</span><span class=o>(</span><span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;获取用户列表&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>getUserList</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=n>r</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;(</span><span class=n>users</span><span class=o>.</span><span class=na>values</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>r</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@PostMapping</span><span class=o>(</span><span class=s>&#34;/&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;创建用户&#34;</span><span class=o>,</span> <span class=n>notes</span> <span class=o>=</span> <span class=s>&#34;根据User对象创建用户&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>postUser</span><span class=o>(</span><span class=nd>@RequestBody</span> <span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>users</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>user</span><span class=o>.</span><span class=na>getId</span><span class=o>(),</span> <span class=n>user</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;success&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/{id}&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;获取用户详细信息&#34;</span><span class=o>,</span> <span class=n>notes</span> <span class=o>=</span> <span class=s>&#34;根据url的id来获取用户详细信息&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>User</span> <span class=nf>getUser</span><span class=o>(</span><span class=nd>@PathVariable</span> <span class=n>Long</span> <span class=n>id</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>users</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>id</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@PutMapping</span><span class=o>(</span><span class=s>&#34;/{id}&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiImplicitParam</span><span class=o>(</span><span class=n>paramType</span> <span class=o>=</span> <span class=s>&#34;path&#34;</span><span class=o>,</span> <span class=n>dataType</span> <span class=o>=</span> <span class=s>&#34;Long&#34;</span><span class=o>,</span> <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;id&#34;</span><span class=o>,</span> <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;用户编号&#34;</span><span class=o>,</span> <span class=n>required</span> <span class=o>=</span> <span class=kc>true</span><span class=o>,</span> <span class=n>example</span> <span class=o>=</span> <span class=s>&#34;1&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;更新用户详细信息&#34;</span><span class=o>,</span> <span class=n>notes</span> <span class=o>=</span> <span class=s>&#34;根据url的id来指定更新对象，并根据传过来的user信息来更新用户详细信息&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>putUser</span><span class=o>(</span><span class=nd>@PathVariable</span> <span class=n>Long</span> <span class=n>id</span><span class=o>,</span> <span class=nd>@RequestBody</span> <span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>User</span> <span class=n>u</span> <span class=o>=</span> <span class=n>users</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>id</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>u</span><span class=o>.</span><span class=na>setName</span><span class=o>(</span><span class=n>user</span><span class=o>.</span><span class=na>getName</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>u</span><span class=o>.</span><span class=na>setAge</span><span class=o>(</span><span class=n>user</span><span class=o>.</span><span class=na>getAge</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>users</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>id</span><span class=o>,</span> <span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;success&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@DeleteMapping</span><span class=o>(</span><span class=s>&#34;/{id}&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;删除用户&#34;</span><span class=o>,</span> <span class=n>notes</span> <span class=o>=</span> <span class=s>&#34;根据url的id来指定删除对象&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>deleteUser</span><span class=o>(</span><span class=nd>@PathVariable</span> <span class=n>Long</span> <span class=n>id</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>users</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=n>id</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;success&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Data</span>
</span></span><span class=line><span class=cl><span class=nd>@ApiModel</span><span class=o>(</span><span class=n>description</span><span class=o>=</span><span class=s>&#34;用户实体&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=s>&#34;用户编号&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Long</span> <span class=n>id</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=s>&#34;用户姓名&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=s>&#34;用户年龄&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Integer</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=接口分组>接口分组</h1><p>我们在 Spring Boot 中定义各个接口是以 Controller 作为第一级维度来进行组织的，Controller 与具体接口之间的关系是一对多的关系。我们可以将同属一个模块的接口定义在一个 Controller 里。默认情况下，Swagger 是以 Controller 为单位，对接口进行分组管理的。这个分组的元素在 Swagger 中称为 Tag，但是这里的 Tag 与接口的关系并不是一对多的，它支持更丰富的多对多关系。</p><h2 id=默认分组>默认分组</h2><p>首先，我们通过一个简单的例子，来看一下默认情况，Swagger 是如何根据 Controller 来组织 Tag 与接口关系的。定义两个 Controller，分别负责教师管理与学生管理接口，比如下面这样：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/teacher&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>TeacherController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/xxx&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>xxx</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;xxx&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/student&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>StudentController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=s>&#34;获取学生清单&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/list&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>bbb</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;bbb&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=s>&#34;获取教某个学生的老师清单&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/his-teachers&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>ccc</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;ccc&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=s>&#34;创建一个学生&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@PostMapping</span><span class=o>(</span><span class=s>&#34;/aaa&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>aaa</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;aaa&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>启动应用之后，我们可以看到 Swagger 中这两个 Controller 是这样组织的：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/07/ytOLWt.png alt="Swagger Controller 分组" loading=lazy data-zoomable></div></div></figure></p><p>图中标出了 Swagger 默认生成的 Tag 与 Spring Boot 中 Controller 展示的内容与位置。</p><h2 id=自定义默认分组的名称>自定义默认分组的名称</h2><p>接着，我们可以再试一下，通过@Api 注解来自定义 Tag，比如这样：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=s>&#34;教师管理&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/teacher&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>TeacherController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=s>&#34;学生管理&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/student&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>StudentController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>再次启动应用之后，我们就看到了如下的分组内容，代码中@Api 定义的 tags 内容替代了默认产生的 teacher-controller 和 student-controller。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/07/ytOvy8.png alt="自定义 Tag" loading=lazy data-zoomable></div></div></figure></p><h2 id=合并-controller-分组>合并 Controller 分组</h2><p>到这里，我们还都只是使用了 Tag 与 Controller 一一对应的情况，Swagger 中还支持更灵活的分组。我们可以通过定义同名的 Tag 来汇总 Controller 中的接口，比如我们可以定义一个 Tag 为“教学管理”，让这个分组同时包含教师管理和学生管理的所有接口，可以这样来实现：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;教师管理&#34;</span><span class=o>,</span> <span class=s>&#34;教学管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/teacher&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>TeacherController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;学生管理&#34;</span><span class=o>,</span> <span class=s>&#34;教学管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/student&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>StudentController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>最终效果如下：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/07/ytXPFs.png alt=多分组 loading=lazy data-zoomable></div></div></figure></p><h2 id=更细粒度的接口分组>更细粒度的接口分组</h2><p>通过@Api 可以实现将 Controller 中的接口合并到一个 Tag 中，但是如果我们希望精确到某个接口的合并呢？比如这样的需求：“教学管理”包含“教师管理”中所有接口以及“学生管理”管理中的“获取学生清单”接口（不是全部接口）。那么上面的实现方式就无法满足了。这时候发，我们可以通过使用@ApiOperation 注解中的 tags 属性做更细粒度的接口分类定义，比如上面的需求就可以这样子写：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;教师管理&#34;</span><span class=o>,</span><span class=s>&#34;教学管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/teacher&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>TeacherController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;xxx&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/xxx&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>xxx</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;xxx&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;学生管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/student&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>StudentController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;获取学生清单&#34;</span><span class=o>,</span> <span class=n>tags</span> <span class=o>=</span> <span class=s>&#34;教学管理&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/list&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>bbb</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;bbb&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=s>&#34;获取教某个学生的老师清单&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/his-teachers&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>ccc</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;ccc&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=s>&#34;创建一个学生&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@PostMapping</span><span class=o>(</span><span class=s>&#34;/aaa&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>aaa</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;aaa&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>效果如下图所示：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://s3.ax1x.com/2021/02/07/ytXVyT.png alt=部分分组 loading=lazy data-zoomable></div></div></figure></p><h1 id=内容的顺序>内容的顺序</h1><p>在完成了接口分组之后，对于接口内容的展现顺序又是众多用户特别关注的点，其中主要涉及三个方面：分组的排序、接口的排序以及参数的排序，下面我们就来逐个说说如何配置与使用。</p><h2 id=分组的排序>分组的排序</h2><p>关于分组排序，也就是 Tag 的排序。目前版本的 Swagger 支持并不太好，通过文档我们可以找到关于 Tag 排序的配置方法。Swagger 只提供了一个选项，就是按字母顺序排列。那么我们要如何实现排序呢？这里笔者给一个不需要扩展源码，仅依靠使用方式的定义来实现排序的建议：为 Tag 的命名做编号。比如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;1-教师管理&#34;</span><span class=o>,</span><span class=s>&#34;3-教学管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/teacher&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>TeacherController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Api</span><span class=o>(</span><span class=n>tags</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;2-学生管理&#34;</span><span class=o>})</span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/student&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>StudentController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiOperation</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;获取学生清单&#34;</span><span class=o>,</span> <span class=n>tags</span> <span class=o>=</span> <span class=s>&#34;3-教学管理&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;/list&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>bbb</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;bbb&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=接口的排序>接口的排序</h2><p>在完成了分组排序问题之后，在来看看同一分组内各个接口该如何实现排序。同样的，凡事先查文档，可以看到 Swagger 也提供了相应的配置，下面也分两种配置方式介绍：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=l>swagger.ui-config.operations-sorter=alpha</span><span class=w>
</span></span></span></code></pre></div><h2 id=参数的排序>参数的排序</h2><p>完成了接口的排序之后，更细粒度的就是请求参数的排序了。默认情况下，Swagger 对 Model 参数内容的展现也是按字母顺序排列的。如果我们希望可以按照 Model 中定义的成员变量顺序来展现，那么需要我们通过@ApiModelProperty 注解的 position 参数来实现位置的设置，比如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Data</span>
</span></span><span class=line><span class=cl><span class=nd>@ApiModel</span><span class=o>(</span><span class=n>description</span> <span class=o>=</span> <span class=s>&#34;用户实体&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;用户编号&#34;</span><span class=o>,</span> <span class=n>position</span> <span class=o>=</span> <span class=mi>1</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Long</span> <span class=n>id</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@NotNull</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Size</span><span class=o>(</span><span class=n>min</span> <span class=o>=</span> <span class=mi>2</span><span class=o>,</span> <span class=n>max</span> <span class=o>=</span> <span class=mi>5</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;用户姓名&#34;</span><span class=o>,</span> <span class=n>position</span> <span class=o>=</span> <span class=mi>2</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@NotNull</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Max</span><span class=o>(</span><span class=mi>100</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Min</span><span class=o>(</span><span class=mi>10</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;用户年龄&#34;</span><span class=o>,</span> <span class=n>position</span> <span class=o>=</span> <span class=mi>3</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Integer</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@NotNull</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Email</span>
</span></span><span class=line><span class=cl>    <span class=nd>@ApiModelProperty</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;用户邮箱&#34;</span><span class=o>,</span> <span class=n>position</span> <span class=o>=</span> <span class=mi>4</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>email</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/spring-notes/01.%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/4.%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/springfox/ rel=next>Springfox</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>