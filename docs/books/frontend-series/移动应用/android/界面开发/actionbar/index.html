<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Introduction Toolbar是某个应用程序中 Action Bar 的泛华。Action Bar 指 Activity 中承载了导航按钮、Brand、标题和副标题这些部分。 Toolbar & ActionBar ActionBar ToolBar 在开发一个 Android 应用中另一个比较重要的组件就是 Toolbar，它的作用很类似于早"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/actionbar/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/actionbar/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/actionbar/"><meta property="og:title" content="ActionBar | Next-gen Tech Edu"><meta property="og:description" content="Introduction Toolbar是某个应用程序中 Action Bar 的泛华。Action Bar 指 Activity 中承载了导航按钮、Brand、标题和副标题这些部分。 Toolbar & ActionBar ActionBar ToolBar 在开发一个 Android 应用中另一个比较重要的组件就是 Toolbar，它的作用很类似于早"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>ActionBar | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=30b3df6fbca4ea849e06e501ea64b2cf><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">界面开发</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id28cca02eedb5bdd0d478a10d1a7f8468")' href=#id28cca02eedb5bdd0d478a10d1a7f8468 aria-expanded=false aria-controls=id28cca02eedb5bdd0d478a10d1a7f8468 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/>Android</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id28cca02eedb5bdd0d478a10d1a7f8468 aria-expanded=false aria-controls=id28cca02eedb5bdd0d478a10d1a7f8468><i class="fa-solid fa-angle-down" id=caret-id28cca02eedb5bdd0d478a10d1a7f8468></i></a></div><ul class="nav docs-sidenav collapse show" id=id28cca02eedb5bdd0d478a10d1a7f8468><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5b1795697518cafb4a62041395bbc4e7")' href=#id5b1795697518cafb4a62041395bbc4e7 aria-expanded=false aria-controls=id5b1795697518cafb4a62041395bbc4e7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/>工程实践</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5b1795697518cafb4a62041395bbc4e7 aria-expanded=false aria-controls=id5b1795697518cafb4a62041395bbc4e7><i class="fa-solid fa-angle-right" id=caret-id5b1795697518cafb4a62041395bbc4e7></i></a></div><ul class="nav docs-sidenav collapse" id=id5b1795697518cafb4a62041395bbc4e7><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/android-development-some-of-the-best-practices/>Android Development ： Some of the best practices</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/apk-%E8%A7%A3%E6%9E%90/>Apk 解析</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/best-practices-for-android-developer-productivity/>Best Practices for Android Developer Productivity</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E5%BA%94%E7%94%A8%E5%8A%A0%E5%9B%BA/>应用加固</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6b82c5c73b0639acab461f4936423d0a")' href=#id6b82c5c73b0639acab461f4936423d0a aria-expanded=false aria-controls=id6b82c5c73b0639acab461f4936423d0a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/>界面开发</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6b82c5c73b0639acab461f4936423d0a aria-expanded=false aria-controls=id6b82c5c73b0639acab461f4936423d0a><i class="fa-solid fa-angle-down" id=caret-id6b82c5c73b0639acab461f4936423d0a></i></a></div><ul class="nav docs-sidenav collapse show" id=id6b82c5c73b0639acab461f4936423d0a><li class="child level active"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/actionbar/>ActionBar</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/activity/>Activity</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/adapterview/>AdapterView</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/gallery/>Gallery</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/recycleview/>RecycleView</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/>界面开发基础</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6adc0fedb7cbd12d1004d45d9b384f5e")' href=#id6adc0fedb7cbd12d1004d45d9b384f5e aria-expanded=false aria-controls=id6adc0fedb7cbd12d1004d45d9b384f5e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/>系统功能</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6adc0fedb7cbd12d1004d45d9b384f5e aria-expanded=false aria-controls=id6adc0fedb7cbd12d1004d45d9b384f5e><i class="fa-solid fa-angle-right" id=caret-id6adc0fedb7cbd12d1004d45d9b384f5e></i></a></div><ul class="nav docs-sidenav collapse" id=id6adc0fedb7cbd12d1004d45d9b384f5e><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E9%AB%98%E6%80%A7%E8%83%BD-okhttp/>高性能 OkHttp</a></li><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/>网络请求</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddbca337d3ba8866f4c40600a197324ff")' href=#iddbca337d3ba8866f4c40600a197324ff aria-expanded=false aria-controls=iddbca337d3ba8866f4c40600a197324ff aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86/>资源处理</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#iddbca337d3ba8866f4c40600a197324ff aria-expanded=false aria-controls=iddbca337d3ba8866f4c40600a197324ff><i class="fa-solid fa-angle-right" id=caret-iddbca337d3ba8866f4c40600a197324ff></i></a></div><ul class="nav docs-sidenav collapse" id=iddbca337d3ba8866f4c40600a197324ff><li class="child level"><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86/%E5%AD%97%E7%AC%A6%E4%B8%B2/>字符串</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#actionbar>ActionBar</a></li><li><a href=#toolbar>ToolBar</a><ul><li><a href=#action-menu-活动菜单->Action Menu( 活动菜单 )</a></li><li><a href=#search-view-搜索菜单->Search View( 搜索菜单 )</a></li></ul></li><li><a href=#collapsingtoolbarlayout>CollapsingToolbarLayout</a></li></ul><ul><li><a href=#parallax-header>Parallax Header</a></li><li><a href=#github-material-drawerhttpsgithubcommikepenzmaterialdrawer><a href=https://github.com/mikepenz/MaterialDrawer>Github-Material Drawer</a></a></li></ul><ul><li><a href=#styles>Styles</a><ul><li><a href=#translucent-bar-透明状态栏---immersive-mode-沉浸式状态栏->Translucent Bar( 透明状态栏 ) & Immersive Mode( 沉浸式状态栏 )</a></li></ul></li><li><a href=#search-view>Search View</a><ul><li><a href=#materialsearchviewhttpsgithubcommiguelcatalanmaterialsearchview><a href=https://github.com/MiguelCatalan/MaterialSearchView><strong>MaterialSearchView</strong></a></a></li></ul></li></ul><ul><li><a href=#statusbarutilhttpsgithubcomlaobiestatusbarutil><a href=https://github.com/laobie/StatusBarUtil>StatusBarUtil</a></a></li></ul><ul><li><a href=#pinterestviewhttpsgithubcombrucetoopinterestview><a href=https://github.com/brucetoo/PinterestView>PinterestView</a></a></li><li><a href=#boommenuhttpsgithubcomnightonkeboommenu><a href=https://github.com/Nightonke/BoomMenu>BoomMenu</a></a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>ActionBar</h1><div class=article-style><h1 id=introduction>Introduction</h1><p><a href=https://developer.android.com/reference/android/support/v7/widget/Toolbar.html target=_blank rel=noopener>Toolbar</a>是某个应用程序中 Action Bar 的泛华。Action Bar 指 Activity 中承载了导航按钮、Brand、标题和副标题这些部分。</p><h1 id=toolbar--actionbar>Toolbar & ActionBar</h1><h2 id=actionbar>ActionBar</h2><h2 id=toolbar>ToolBar</h2><p>在开发一个 Android 应用中另一个比较重要的组件就是 Toolbar，它的作用很类似于早年的 Android 中的 Action Bar，它主要担负着如下几个功能：</p><ul><li>导航按钮</li><li>应用标题与副标题</li><li>活动菜单</li><li>图标</li></ul><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://material-design.storage.googleapis.com/publish/material_v_4/material_ext_publish/0Bx4BSt6jniD7RTFrbmpoWjRrY00/layout_structure_appbar_structure1.png alt="enter description here" loading=lazy data-zoomable></div></div></figure></p><p>如果需要在应用中引入 Toolbar 的支持，首先需要设置下 style 主题，来去除原本的默认的 ActionBar。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;style</span> <span class=na>name=</span><span class=s>&#34;AppBaseTheme&#34;</span> <span class=na>parent=</span><span class=s>&#34;Theme.AppCompat.Light.NoActionBar&#34;</span><span class=nt>&gt;</span><span class=c>&lt;!--Light.DarkActionBar表示默认的黑色主体的Actionbar--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Customize your theme here. --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&#34;colorPrimary&#34;</span><span class=nt>&gt;</span>@color/sky_blue<span class=nt>&lt;/item&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&#34;colorPrimaryDark&#34;</span><span class=nt>&gt;</span>@color/deep_blue<span class=nt>&lt;/item&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&#34;colorAccent&#34;</span><span class=nt>&gt;</span>@color/material_deep_teal_200<span class=nt>&lt;/item&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;item</span> <span class=na>name=</span><span class=s>&#34;android:textColorPrimary&#34;</span><span class=nt>&gt;</span>@color/white<span class=nt>&lt;/item&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/style&gt;</span>
</span></span></code></pre></div><p>colorPrimary 表示标题栏 ActionBar 的颜色；colorPrimaryDark 表示状态栏的颜色；colorAccent 表示输入框，按钮等被选中时的颜色；textColorPrimary 表示标题栏(ActionBar 或者 ToolBar)中字体的颜色。接下来，在你需要引入 ToolBar 的布局文件中引入 ToolBar：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;android.support.v7.widget.Toolbar</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/main_toolbar&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:theme=</span><span class=s>&#34;@style/ThemeOverlay.AppCompat.Dark&#34;</span><span class=err>//这里的主题可以用来反衬toolBar的overFlow颜色</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:background=</span><span class=s>&#34;@color/sky_blue&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/android.support.v7.widget.Toolbar&gt;</span>
</span></span></code></pre></div><p>然后，在代码中获取 ToolBar 控件以及实例化：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Toolbar</span> <span class=n>toolbar</span> <span class=o>=</span> <span class=o>(</span><span class=n>Toolbar</span><span class=o>)</span> <span class=n>findViewById</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>main_toolbar</span><span class=o>);</span>
</span></span><span class=line><span class=cl>       <span class=n>toolbar</span><span class=o>.</span><span class=na>setNavigationIcon</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>mipmap</span><span class=o>.</span><span class=na>ic_toc_white_24dp</span><span class=o>);</span><span class=c1>//设置ToolBar头部图标
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>toolbar</span><span class=o>.</span><span class=na>setTitle</span><span class=o>(</span><span class=s>&#34;ToolBar&#34;</span><span class=o>);</span><span class=c1>//设置标题，也可以在xml中静态实现
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>setSupportActionBar</span><span class=o>(</span><span class=n>toolbar</span><span class=o>);</span><span class=c1>//使活动支持ToolBar
</span></span></span></code></pre></div><h3 id=action-menu-活动菜单->Action Menu( 活动菜单 )</h3><h3 id=search-view-搜索菜单->Search View( 搜索菜单 )</h3><p>如果需要在 Toolbar 中引入 SearchView，首先需要在菜单配置中加入 SearchView 的控件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>//menu.xml
</span></span><span class=line><span class=cl><span class=nt>&lt;menu</span> <span class=na>xmlns:android=</span><span class=s>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>xmlns:shivamgps=</span><span class=s>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>xmlns:tools=</span><span class=s>&#34;http://schemas.android.com/tools&#34;</span> <span class=na>tools:context=</span><span class=s>&#34;.HomeActivity&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;item</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/action_search&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:icon=</span><span class=s>&#34;@drawable/ic_search&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>shivamgps:showAsAction=</span><span class=s>&#34;always&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>shivamgps:actionViewClass=</span><span class=s>&#34;android.support.v7.widget.SearchView&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:title=</span><span class=s>&#34;Search&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;item</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/action_refresh&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:icon=</span><span class=s>&#34;@drawable/ic_refresh&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>shivamgps:showAsAction=</span><span class=s>&#34;always&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:title=</span><span class=s>&#34;@string/refresh&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;/menu&gt;</span>
</span></span></code></pre></div><p>然后在构造选项菜单时候：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span>
</span></span><span class=line><span class=cl> <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onCreateOptionsMenu</span><span class=o>(</span><span class=n>Menu</span> <span class=n>menu</span><span class=o>,</span> <span class=n>MenuInflater</span> <span class=n>inflater</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>inflater</span><span class=o>.</span><span class=na>inflate</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>menu</span><span class=o>.</span><span class=na>home</span><span class=o>,</span> <span class=n>menu</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>MenuItem</span> <span class=n>searchItem</span> <span class=o>=</span> <span class=n>menu</span><span class=o>.</span><span class=na>findItem</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>action_search</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>SearchManager</span> <span class=n>searchManager</span> <span class=o>=</span> <span class=o>(</span><span class=n>SearchManager</span><span class=o>)</span> <span class=n>getActivity</span><span class=o>().</span><span class=na>getSystemService</span><span class=o>(</span><span class=n>Context</span><span class=o>.</span><span class=na>SEARCH_SERVICE</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>SearchView</span> <span class=n>searchView</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>searchItem</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>searchView</span> <span class=o>=</span> <span class=o>(</span><span class=n>SearchView</span><span class=o>)</span> <span class=n>searchItem</span><span class=o>.</span><span class=na>getActionView</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>searchView</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>searchView</span><span class=o>.</span><span class=na>setSearchableInfo</span><span class=o>(</span><span class=n>searchManager</span><span class=o>.</span><span class=na>getSearchableInfo</span><span class=o>(</span><span class=n>getActivity</span><span class=o>().</span><span class=na>getComponentName</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>SearchView</span><span class=o>.</span><span class=na>OnQueryTextListener</span> <span class=n>queryTextListener</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SearchView</span><span class=o>.</span><span class=na>OnQueryTextListener</span><span class=o>()</span>
</span></span><span class=line><span class=cl>            <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>                <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>onQueryTextChange</span><span class=o>(</span><span class=n>String</span> <span class=n>newText</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=n>Log</span><span class=o>.</span><span class=na>i</span><span class=o>(</span><span class=s>&#34;onQueryTextChange&#34;</span><span class=o>,</span> <span class=n>newText</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>                <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>                <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>onQueryTextSubmit</span><span class=o>(</span><span class=n>String</span> <span class=n>query</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>Log</span><span class=o>.</span><span class=na>i</span><span class=o>(</span><span class=s>&#34;onQueryTextSubmit&#34;</span><span class=o>,</span> <span class=n>query</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>searchView</span><span class=o>.</span><span class=na>setOnQueryTextListener</span><span class=o>(</span><span class=n>queryTextListener</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>.</span><span class=na>onCreateOptionsMenu</span><span class=o>(</span><span class=n>menu</span><span class=o>,</span> <span class=n>inflater</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>onOptionsItemSelected</span><span class=o>(</span><span class=n>MenuItem</span> <span class=n>item</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>switch</span> <span class=o>(</span><span class=n>item</span><span class=o>.</span><span class=na>getItemId</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>case</span> <span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>action_search</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=c1>// Not implemented here
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>case</span> <span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>action_refresh</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=n>getVehicleOverViewList</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=n>searchView</span><span class=o>.</span><span class=na>setOnQueryTextListener</span><span class=o>(</span><span class=n>queryTextListener</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>.</span><span class=na>onCreateOptionsMenu</span><span class=o>(</span><span class=n>menu</span><span class=o>,</span> <span class=n>inflater</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><h4 id=floatingsearchviewhttpsgithubcomarimortyfloatingsearchview><a href=https://github.com/arimorty/floatingsearchview target=_blank rel=noopener>floatingsearchview</a></h4><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://github.com/arimorty/floatingsearchview/raw/master/images/inaction.gif alt loading=lazy data-zoomable></div></div></figure></p><h2 id=collapsingtoolbarlayout>CollapsingToolbarLayout</h2><p>提供了对于 Toolbar 的又一层包裹，可以用作视差滚动等效果。</p><p>当向下滚动时 ,Banner 大图会跟随滚动手势而 Collapse. 最后收折成一个普通的 ActionBar( 实际是个 Toolbar,Android 官方在最新的 Support Library 都推荐把 ActionBar 替换成 Toolbar).</p><p>通过属性 Flag 的组合, 也能实现把 ActionBar 直接推出屏幕, 让其消失 .</p><p><a href=http://android-developers.blogspot.sg/2015/05/android-design-support-library.html target=_blank rel=noopener>Android Support Library</a> 中提供的 CollapseToolbar 实现这效果 .</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;android.support.design.widget.CoordinatorLayout</span>
</span></span><span class=line><span class=cl>  <span class=na>xmlns:android=</span><span class=s>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>xmlns:app=</span><span class=s>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;android.support.design.widget.AppBarLayout</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;android.support.design.widget.CollapsingToolbarLayout</span>
</span></span><span class=line><span class=cl>      <span class=na>android:id=</span><span class=s>&#34;@+id/collapsing_toolbar&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>app:contentScrim=</span><span class=s>&#34;?attr/colorPrimary&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>app:expandedTitleMarginEnd=</span><span class=s>&#34;64dp&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>app:expandedTitleMarginStart=</span><span class=s>&#34;48dp&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>app:layout_scrollFlags=</span><span class=s>&#34;scroll|exitUntilCollapsed&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;ImageView</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/backdrop&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:layout_collapseMode=</span><span class=s>&#34;parallax&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:scaleType=</span><span class=s>&#34;centerCrop&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:src=</span><span class=s>&#34;@drawable/mu&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:transitionName=</span><span class=s>&#34;mu&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;android.support.v7.widget.Toolbar</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/toolbar&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;?attr/actionBarSize&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:layout_collapseMode=</span><span class=s>&#34;pin&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:popupTheme=</span><span class=s>&#34;@style/ThemeOverlay.AppCompat.Light&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:theme=</span><span class=s>&#34;@style/MyToolbarTheme&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/android.support.design.widget.CollapsingToolbarLayout&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/android.support.design.widget.AppBarLayout&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;android.support.v7.widget.RecyclerView</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@+id/recycler_view&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_behavior=</span><span class=s>&#34;@string/appbar_scrolling_view_behavior&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/android.support.design.widget.CoordinatorLayout&gt;</span>
</span></span></code></pre></div><p>这是 Layout 布局 .CoordinatorLayout 和 AppBarLayout 的组合在 <a href=http://www.cnblogs.com/wingyip/p/4604472.html target=_blank rel=noopener>这篇随笔</a> 中有介绍, 实现了滚动隐藏 Toolbar 的效果, 这里就不在重复了 .</p><p>CollapsingToolbarLayout 是实现 GIF 效果的关键 .</p><p>CollapsingToolbarLayout 有两个 Children.ImageView 用来显示 Banner 大图, 即 Gif 中曼联队徽的大图 . 而 Toolbar 就是折叠后看到的顶栏 Toolbar.</p><p>app:contentScrim="?attr/colorPrimary" ,CollapsingToolbarLayout 这个属性是设置折叠后 Toolbar 的颜色 .</p><p>app:layout_scrollFlags=&ldquo;scroll|exitUntilCollapsed&rdquo;, 这是两个 Flag 控制滚动时候 CollapsingToolbarLayout 的表现 .</p><ol><li><p>**Scroll, ** 表示向下滚动列表时候 ,CollapsingToolbarLayout 会滚出屏幕并且消失 ( 原文解释 :this flag should be set for all views that want to scroll off the screen - for views that do not use this flag, they’ll remain pinned to the top of the screen)</p></li><li><p>**exitUntilCollapsed, ** 表示这个 layout 会一直滚动离开屏幕范围, 直到它收折成它的最小高度 .( 原文解释 :this flag causes the view to scroll off until it is ‘collapsed’ (its minHeight) before exiting)</p></li></ol><p><strong>app:layout_collapseMode=&ldquo;parallax&rdquo;,</strong> 这是控制滚出屏幕范围的效果的</p><ol><li><p><strong>parallax,</strong> 表示滚动过程中, 会一直保持可见区域在正中间 .</p></li><li><p><strong>pin,</strong> 表示不会被滚出屏幕范围 .</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl><span class=kd>protected</span> <span class=kt>void</span> <span class=nf>onCreate</span><span class=o>(</span><span class=n>Bundle</span> <span class=n>savedInstanceState</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>super</span><span class=o>.</span><span class=na>onCreate</span><span class=o>(</span><span class=n>savedInstanceState</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>setContentView</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>layout</span><span class=o>.</span><span class=na>fourth_activity</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>final</span> <span class=n>Toolbar</span> <span class=n>toolbar</span> <span class=o>=</span> <span class=o>(</span><span class=n>Toolbar</span><span class=o>)</span> <span class=n>findViewById</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>toolbar</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>setSupportActionBar</span><span class=o>(</span><span class=n>toolbar</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ActionBar</span> <span class=n>actionBar</span> <span class=o>=</span> <span class=n>getSupportActionBar</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span><span class=n>actionBar</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>actionBar</span><span class=o>.</span><span class=na>setDisplayHomeAsUpEnabled</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>final</span> <span class=n>CollapsingToolbarLayout</span> <span class=n>collapsingToolbar</span> <span class=o>=</span> <span class=o>(</span><span class=n>CollapsingToolbarLayout</span><span class=o>)</span> <span class=n>findViewById</span><span class=o>(</span>
</span></span><span class=line><span class=cl>      <span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>collapsing_toolbar</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>collapsingToolbar</span><span class=o>.</span><span class=na>setTitle</span><span class=o>(</span><span class=n>getString</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>string</span><span class=o>.</span><span class=na>fourth_activity</span><span class=o>));</span>
</span></span><span class=line><span class=cl>  <span class=kd>final</span> <span class=n>RecyclerView</span> <span class=n>recyclerView</span> <span class=o>=</span> <span class=o>(</span><span class=n>RecyclerView</span><span class=o>)</span> <span class=n>findViewById</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>id</span><span class=o>.</span><span class=na>recycler_view</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>LinearLayoutManager</span> <span class=n>linearLayoutManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinearLayoutManager</span><span class=o>(</span><span class=k>this</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>linearLayoutManager</span><span class=o>.</span><span class=na>setOrientation</span><span class=o>(</span><span class=n>LinearLayoutManager</span><span class=o>.</span><span class=na>VERTICAL</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>recyclerView</span><span class=o>.</span><span class=na>setLayoutManager</span><span class=o>(</span><span class=n>linearLayoutManager</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>recyclerView</span><span class=o>.</span><span class=na>setAdapter</span><span class=o>(</span><span class=k>new</span> <span class=n>MyAdapter</span><span class=o>(</span><span class=k>this</span><span class=o>));</span>
</span></span><span class=line><span class=cl>  <span class=n>Bitmap</span> <span class=n>bitmap</span> <span class=o>=</span> <span class=n>BitmapFactory</span><span class=o>.</span><span class=na>decodeResource</span><span class=o>(</span><span class=n>getResources</span><span class=o>(),</span> <span class=n>R</span><span class=o>.</span><span class=na>drawable</span><span class=o>.</span><span class=na>mu</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Palette</span><span class=o>.</span><span class=na>from</span><span class=o>(</span><span class=n>bitmap</span><span class=o>).</span><span class=na>generate</span><span class=o>(</span><span class=k>new</span> <span class=n>Palette</span><span class=o>.</span><span class=na>PaletteAsyncListener</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onGenerated</span><span class=o>(</span><span class=kd>final</span> <span class=n>Palette</span> <span class=n>palette</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>defaultColor</span> <span class=o>=</span> <span class=n>getResources</span><span class=o>().</span><span class=na>getColor</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>color</span><span class=o>.</span><span class=na>medium_blue</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>defaultTitleColor</span> <span class=o>=</span> <span class=n>getResources</span><span class=o>().</span><span class=na>getColor</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>color</span><span class=o>.</span><span class=na>white</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>bgColor</span> <span class=o>=</span> <span class=n>palette</span><span class=o>.</span><span class=na>getDarkVibrantColor</span><span class=o>(</span><span class=n>defaultColor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>titleColor</span> <span class=o>=</span> <span class=n>palette</span><span class=o>.</span><span class=na>getLightVibrantColor</span><span class=o>(</span><span class=n>defaultTitleColor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>collapsingToolbar</span><span class=o>.</span><span class=na>setContentScrimColor</span><span class=o>(</span><span class=n>bgColor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>collapsingToolbar</span><span class=o>.</span><span class=na>setCollapsedTitleTextColor</span><span class=o>(</span><span class=n>titleColor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>collapsingToolbar</span><span class=o>.</span><span class=na>setExpandedTitleColor</span><span class=o>(</span><span class=n>titleColor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>});</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>这是 Activity 的 onCreate 方法, 有两处地方需要关注的</p><p>\1. <strong>setSupportActionBar()</strong> 方法, 告诉 AppCompatActivity 哪一个是 ActionBar( 实际是 Toolbar). 不然的话, 做透明 Status Bar( 电池, 手机信号那一区域 ) 效果时候 ,ActionBar 会位置不正确 .</p><p>\2. <strong>Palette,</strong> 调色板的意思, 也是 Android Support Library 提供的 . 用来抓取 Bitmap 的颜色 . 在此处的用处是, 当 ActionBar 被收折后, 背景颜色能保持和 Banner 大图的色调一致, 而 Title 文字的颜色保证和 Banner 大图的色调形成强对比 .</p><h1 id=appbar-layout>AppBar Layout</h1><ul><li><a href=http://blog.csdn.net/jdsjlzx/article/details/41441083 target=_blank rel=noopener>Android Material Design 之 Toolbar 与 Palette 实践</a></li></ul><p>AppBarLayout 是继承 LinerLayout 实现的一个 ViewGroup 容器组件，它是为了 Material Design 设计的 App Bar，支持手势滑动操作。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://img.blog.csdn.net/20150616103050252 alt loading=lazy data-zoomable></div></div></figure></p><p>默认的 AppBarLayout 是垂直方向的，它的作用是把 AppBarLayout 包裹的内容都作为 AppBar。类似上面图片贴出来的效果，代码布局如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;android.support.design.widget.AppBarLayout</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/appbar&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;android.support.v7.widget.Toolbar</span>
</span></span><span class=line><span class=cl>            <span class=na>android:id=</span><span class=s>&#34;@+id/toolbar&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_height=</span><span class=s>&#34;?attr/actionBarSize&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:background=</span><span class=s>&#34;?attr/colorPrimary&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:minHeight=</span><span class=s>&#34;?attr/actionBarSize&#34;</span><span class=nt>&gt;&lt;/android.support.v7.widget.Toolbar&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;android.support.design.widget.TabLayout</span>
</span></span><span class=line><span class=cl>            <span class=na>android:id=</span><span class=s>&#34;@+id/tabs&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:layout_scrollFlags=</span><span class=s>&#34;scroll&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:tabIndicatorColor=</span><span class=s>&#34;@android:color/holo_red_dark&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:tabSelectedTextColor=</span><span class=s>&#34;@android:color/holo_red_dark&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:tabTextColor=</span><span class=s>&#34;@android:color/black&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/android.support.design.widget.AppBarLayout&gt;</span>
</span></span></code></pre></div><p>此处将 Toolbar 和 Tablayout 的组合部分共同构成 AppBar 的效果。<strong>注意：</strong> AppBarLayout 必须作为 Toolbar 的父布局容器，AppBarLayout 是支持手势滑动效果的。</p><h2 id=parallax-header>Parallax Header</h2><p>AppBarLayout 往往跟 CoordinatorLayout 合作，可以实现视差滚动的效果。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://img.blog.csdn.net/20150617093244517 alt loading=lazy data-zoomable></div></div></figure></p><p>从开发文档中可以了解到，CoordinatorLayout 是一个增强型的 FrameLayout。它的作用有两个</p><p>例如一下布局代码：</p><pre tabindex=0><code> &lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
    android:id=&#34;@+id/main_content&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;match_parent&#34;&gt;


    &lt;android.support.design.widget.AppBarLayout
        android:id=&#34;@+id/appbar&#34;
        android:layout_width=&#34;match_parent&#34;
        android:layout_height=&#34;wrap_content&#34;&gt;

        &lt;android.support.v7.widget.Toolbar
            android:id=&#34;@+id/toolbar&#34;
            android:layout_width=&#34;match_parent&#34;
            android:layout_height=&#34;?attr/actionBarSize&#34;
            android:background=&#34;?attr/colorPrimary&#34;
            app:layout_scrollFlags=&#34;scroll|enterAlways&#34; /&gt;

        &lt;android.support.design.widget.TabLayout
        android:id=&#34;@+id/tabs&#34;
        android:layout_width=&#34;match_parent&#34;
        android:layout_height=&#34;wrap_content&#34;
        app:tabGravity=&#34;fill&#34; /&gt;


    &lt;/android.support.design.widget.AppBarLayout&gt;

    &lt;!--可滑动的布局内容--&gt;
    &lt;android.support.v7.widget.RecyclerView
        android:id=&#34;@+id/recyclerView&#34;
        android:layout_width=&#34;match_parent&#34;
        android:layout_height=&#34;wrap_content&#34;
        app:layout_behavior=&#34;@string/appbar_scrolling_view_behavior&#34; /&gt;

    &lt;android.support.design.widget.FloatingActionButton
        android:layout_width=&#34;wrap_content&#34;
        android:layout_height=&#34;wrap_content&#34;
        android:src=&#34;@drawable/ic_discuss&#34;
        android:layout_gravity=&#34;bottom|end&#34;/&gt;


&lt;/android.support.design.widget.CoordinatorLayout&gt;
</code></pre><p>从上面布局看到，CoordinatorLayout 协调布局中包裹了两个布局，一个是 NestedScrollView，一个是 AppBarLayout，以及 FAB 按钮。</p><p>我们来看看 CoordinatorLayout 是怎么来协调这两个子视图手势操作的。</p><ol><li>由于 CoordinatorLayout 是 FrameLayout 布局，我们可以通过</li></ol><pre tabindex=0><code>android:layout_gravity=&#34;bottom|end&#34;
</code></pre><p>属性来控制组件在整个布局中的位置，比如上面效果中的 FAB 就是通过 android:layout_gravity=”bottom|end” 来确定 FAB 的位置在底端的最右边的位置。</p><ol start=2><li>为了达到上面效果图的手势动画效果，我们必须做如下设置，通过 app:layout_scrollFlags=”scroll|enterAlways” 属性来确定哪个组件是可滑动的</li></ol><p>设置的 layout_scrollFlags 有如下几种选项：</p><ul><li>scroll: 所有想滚动出屏幕的 view 都需要设置这个 flag- 没有设置这个 flag 的 view 将被固定在屏幕顶部。</li><li>enterAlways: 这个 flag 让任意向下的滚动都会导致该 view 变为可见，启用快速 “ 返回模式 ”。</li><li>enterAlwaysCollapsed: 当你的视图已经设置 minHeight 属性又使用此标志时，你的视图只能已最小高度进入，只有当滚动视图到达顶部时才扩大到完整高度。</li><li>exitUntilCollapsed: 滚动退出屏幕，最后折叠在顶端。</li></ul><p>我们上面的布局中 给 Toolbar 设置了 app:layout_scrollFlags 属性，因此，Toolbar 是可以滚动出屏幕，且向下滚动有可以出现。</p><ol start=3><li>为了使得 Toolbar 可以滑动，我们必须还得有个条件，就是 CoordinatorLayout 布局下包裹一个可以滑动的布局，比如 RecyclerView，NestedScrollView( 经过测试，ListView，ScrollView 不支持 ) 具有滑动效果的组件。并且给这些组件设置如下属性来告诉 CoordinatorLayout，该组件是带有滑动行为的组件，然后 CoordinatorLayout 在接受到滑动时会通知 AppBarLayout 中可滑动的 Toolbar 可以滑出屏幕了。</li></ol><pre tabindex=0><code>app:layout_behavior=&#34;@string/appbar_scrolling_view_behavior&#34;
</code></pre><p><strong>总结：</strong> 为了使得 Toolbar 有滑动效果，必须做到如下三点：</p><pre tabindex=0><code> app:layout_behavior=&#34;@string/appbar_scrolling_view_behavior&#34;
</code></pre><p>##CollapsingToolbarLayout</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://img.blog.csdn.net/20150617115211729 alt=这里写图片描述 loading=lazy data-zoomable></div></div></figure></p><p>CollapsingToolbarLayout 包裹 Toolbar 的时候提供一个可折叠的 Toolbar，一般作为 AppbarLayout 的子视图使用。</p><p>CollapsingToolbarLayout 提供以下属性和方法是用：</p><ol><li>Collapsing title : ToolBar 的标题，当 CollapsingToolbarLayout 全屏没有折叠时，title 显示的是大字体，在折叠的过程中，title 不断变小到一定大小的效果。你可以调用 setTitle(CharSequence) 方法设置 title。</li><li>Content scrim : ToolBar 被折叠到顶部固定时候的背景，你可以调用 setContentScrim(Drawable) 方法改变背景或者 在属性中使用 app:contentScrim="?attr/colorPrimary" 来改变背景。</li><li>Status bar scrim：状态栏的背景，调用方法 setStatusBarScrim(Drawable)。还没研究明白，不过这个只能在 Android5.0 以上系统有效果。</li><li>Parallax scrolling children : CollapsingToolbarLayout 滑动时，子视图的视觉差，可以通过属性 app:layout_collapseParallaxMultiplier=&ldquo;0.6&rdquo; 改变。</li><li>CollapseMode：子视图的折叠模式，有两种 “pin”：固定模式，在折叠的时候最后固定在顶端；“parallax”：视差模式，在折叠的时候会有个视差折叠的效果。我们可以在布局中使用属性 app:layout_collapseMode=&ldquo;parallax&rdquo; 来改变。</li></ol><p>布局代码如下：</p><pre tabindex=0><code></code></pre><p><strong><em>总结：</em></strong> CollapsingToolbarLayout 主要是提供一个可折叠的 Toolbar 容器，对容器中的不同视图设置 layout_collapseMode 折叠模式，来达到不同的折叠效果。</p><p>1.Toolbar 的高度 layout_height 必须固定，不能 “wrap_content”，否则 Toolbar 不会滑动，也没有折叠效果。2. 为了能让 FloatingActionButton 也能折叠且消失出现，我们必须给 FAB 设置锚点属性 app:layout_anchor="@id/appbar"</p><pre tabindex=0><code>意思是FAB浮动按钮显示在哪个布局区域。

且设置当前锚点的位置

app:layout_anchorGravity=”bottom|end|right”

意思FAB浮动按钮在这个布局区域的具体位置。

两个属性共同作用才是的FAB 浮动按钮也能折叠消失，出现。

3.给需要有折叠效果的组件设置 layout_collapseMode属性。

### OverscrollScaling(滚动缩放)

效果如下所示：

![](https://cdn-images-1.medium.com/max/1200/1*lEMS5RiBLGk3Q72FhXBwxA.gif)

参考博客地址，[这里](https://medium.com/@nullthemall/overscroll-appbarlayout-behavior-e58f1ee2807#.nua34q5uh)，[代码地址](https://gist.github.com/NikolaDespotoski/7d6a019e5aafe60ebade)

# Navigation Drawer

在Android提出Material Design设计方案之后，对于菜单栏，Android也是提供了一种所谓的[Navigation Drawer][1]的侧边菜单栏设计方案。Navigation Drawer与Toolbar相比更多的是一种全局的设计配置方式，往往会在Activity的最外层包裹一个DrawerLayout，具体的主页面的几个Tab可以用Fragment的方式插入到Activity种。

DrawerLayout提供了整个抽屉的容器，而NavigationView是后期推出的专门针对Draw中头部与菜单的继承自ListView的布局。

![](http://img.blog.csdn.net/20150617143302413)

用于侧滑菜单中的menu布局。之前Google在V4包中推出自己的  DrawerLayout作为抽屉侧滑菜单，标准使用方法可以参考 google 原生态 抽屉式侧滑菜单 Android DrawerLayout 布局的使用介绍。

当时的官方布局是这样的：
</code></pre><p>&lt;android.support.v4.widget.DrawerLayout xmlns:android=&ldquo;<a href=http://schemas.android.com/apk/res/android%22 target=_blank rel=noopener>http://schemas.android.com/apk/res/android"</a>\ android:id=&rdquo;@+id/drawer_layout"<br>android:layout_width=&ldquo;match_parent&rdquo;<br>android:layout_height=&ldquo;match_parent&rdquo; ></p><pre><code>&lt;!-- the main content view --&gt;

&lt;FrameLayout
    android:id=&quot;@+id/frame_content&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot; &gt;
&lt;/FrameLayout&gt;

&lt;!-- the navigetion view --&gt;

&lt;ListView
    android:id=&quot;@+id/drawer_list&quot;
    android:layout_width=&quot;240dp&quot;
    android:layout_height=&quot;match_parent&quot;
    android:layout_gravity=&quot;start&quot;
    android:background=&quot;#9999cc&quot;
    android:choiceMode=&quot;singleChoice&quot;
    android:divider=&quot;@android:color/transparent&quot;
    android:dividerHeight=&quot;0dp&quot; &gt;
&lt;/ListView&gt;
</code></pre><p>&lt;/android.support.v4.widget.DrawerLayout></p><pre tabindex=0><code>其实这次谷歌只是将上面的ListView布局替换成NavigationView了。简化了之前ListView写适配器的繁琐。

先如今布局改成如下：
</code></pre><p>&lt;android.support.v4.widget.DrawerLayout xmlns:android=&ldquo;<a href=http://schemas.android.com/apk/res/android%22 target=_blank rel=noopener>http://schemas.android.com/apk/res/android"</a> xmlns:app=&ldquo;<a href=http://schemas.android.com/apk/res-auto%22 target=_blank rel=noopener>http://schemas.android.com/apk/res-auto"</a> android:id=&rdquo;@+id/drawer_layout&rdquo; android:layout_width=&ldquo;match_parent&rdquo; android:layout_height=&ldquo;match_parent&rdquo;></p><pre><code>&lt;!-- the main content view --&gt;

&lt;include layout=&quot;@layout/layout_content&quot; /&gt;

&lt;!-- the navigetion view --&gt;

&lt;android.support.design.widget.NavigationView
    android:id=&quot;@+id/navigationView&quot;
    android:layout_width=&quot;wrap_content&quot;
    android:layout_height=&quot;match_parent&quot;
    android:layout_gravity=&quot;left&quot;
    android:fitsSystemWindows=&quot;true&quot;
    app:headerLayout=&quot;@layout/layout_header&quot;
    app:menu=&quot;@layout/layout_menu&quot;&gt;

&lt;/android.support.design.widget.NavigationView&gt;
</code></pre><p>&lt;/android.support.v4.widget.DrawerLayout></p><pre tabindex=0><code>中NavigationView 中的 android:layout_gravity=”start” 属性来控制抽屉菜单从哪边滑出，一般“start ”从左边滑出，“end”从右边滑出。

这里最主要的两个属性分别是：

1.app:headerLayout: 给NavigationView添加头部布局

2.app：menu：给NavigationView添加menu菜单布局

app:headerLayout布局如下：
</code></pre><p><linearlayout xmlns:android=http://schemas.android.com/apk/res/android android:layout_width=match_parent android:layout_height=200dp android:background=@drawable/img1 android:gravity=center android:orientation=vertical></p><pre><code>&lt;ImageView
    android:layout_width=&quot;125dp&quot;
    android:layout_height=&quot;125dp&quot;
    android:scaleType=&quot;centerCrop&quot;
    android:src=&quot;@drawable/image&quot; /&gt;

&lt;TextView
    android:layout_marginTop=&quot;15dp&quot;
    android:layout_width=&quot;wrap_content&quot;
    android:layout_height=&quot;wrap_content&quot;
    android:text=&quot;CSDN废墟的树博客&quot;
    android:textColor=&quot;@android:color/white&quot; /&gt;
</code></pre></linearlayout>```<p>app：menu 布局如下：</p><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;match_parent&#34;&gt;

    &lt;group
        android:checkableBehavior=&#34;single&#34;
        android:title=&#34;Home items&#34;&gt;

        &lt;item
            android:id=&#34;@+id/nav_blog&#34;
            android:icon=&#34;@drawable/ic_account_balance_black_24dp&#34;
            android:title=&#34;博客地址&#34; /&gt;

        &lt;item
            android:id=&#34;@+id/nav_ver&#34;
            android:icon=&#34;@drawable/ic_error_outline_black_36dp&#34;
            android:title=&#34;版本信息&#34; /&gt;

        &lt;item
            android:id=&#34;@+id/nav_about&#34;
            android:icon=&#34;@drawable/ic_error_outline_black_36dp&#34;
            android:title=&#34;关于我&#34; /&gt;

    &lt;/group&gt;

    &lt;item android:title=&#34;Sub items&#34;&gt;

        &lt;menu&gt;

            &lt;item
                android:id=&#34;@+id/sub_exit&#34;
                android:icon=&#34;@drawable/ic_power_settings_new_black_36dp&#34;
                android:title=&#34;退出应用&#34; /&gt;

            &lt;item
                android:id=&#34;@+id/sub_switch&#34;
                android:icon=&#34;@drawable/ic_settings_applications_black_36dp&#34;
                android:title=&#34;切换主题&#34; /&gt;
        &lt;/menu&gt;
    &lt;/item&gt;

&lt;/menu&gt;
</code></pre><p>代码中控制 NavigationView</p><pre tabindex=0><code>private void initNavigationView(){
        navigationView = (NavigationView) findViewById(R.id.navigationView);
        drawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
        //设置侧滑菜单选择监听事件
        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {
            @Override
            public boolean onNavigationItemSelected(MenuItem menuItem) {
                menuItem.setChecked(true);
                //关闭抽屉侧滑菜单
                drawerLayout.closeDrawers();
                return true;
            }
        });
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        if (item.getItemId() == android.R.id.home){
            //打开抽屉侧滑菜单
            drawerLayout.openDrawer(GravityCompat.START);
        }
        return super.onOptionsItemSelected(item);
    }
</code></pre><p>关于 NavigationView 中 item 的字体颜色和 icon 选中状态颜色是去当前主题 theme 中的</p><pre tabindex=0><code>&lt;--正常状态下字体颜色和icon颜色--&gt;
&lt;item name=&#34;android:textColorPrimary&#34;&gt;@android:color/darker_gray&lt;/item&gt;
&lt;--选中状态icon的颜色和字体颜色--&gt;
 &lt;item name=&#34;colorPrimary&#34;&gt;@color/accent_material_light&lt;/item&gt;
</code></pre><h2 id=github-material-drawerhttpsgithubcommikepenzmaterialdrawer><a href=https://github.com/mikepenz/MaterialDrawer target=_blank rel=noopener>Github-Material Drawer</a></h2><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raw.githubusercontent.com/mikepenz/MaterialDrawer/feature/refactoring/DEV/github/screenshots1.jpg alt="enter description here" loading=lazy data-zoomable></div></div></figure></p><pre tabindex=0><code>Material Drawer是对于Android原生的Navigation Drawer的一种封装，它可以让开发人员快速地在应用中集成Drawer。可以在Gradle中添加如下参数来添加该插件：
</code></pre><pre tabindex=0><code>compile(&#39;com.mikepenz:materialdrawer:3.0.9@aar&#39;) {
    transitive = true
}
</code></pre><ul><li><p>简单引入</p><pre tabindex=0><code>new DrawerBuilder().withActivity(this).build()
</code></pre></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span><span class=c>&lt;!--
</span></span></span><span class=line><span class=cl><span class=c>  ~ Copyright (C) 2015 The Android Open Source Project
</span></span></span><span class=line><span class=cl><span class=c>  ~
</span></span></span><span class=line><span class=cl><span class=c>  ~ Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
</span></span></span><span class=line><span class=cl><span class=c>  ~ you may not use this file except in compliance with the License.
</span></span></span><span class=line><span class=cl><span class=c>  ~ You may obtain a copy of the License at
</span></span></span><span class=line><span class=cl><span class=c>  ~
</span></span></span><span class=line><span class=cl><span class=c>  ~      http://www.apache.org/licenses/LICENSE-2.0
</span></span></span><span class=line><span class=cl><span class=c>  ~
</span></span></span><span class=line><span class=cl><span class=c>  ~ Unless required by applicable law or agreed to in writing, software
</span></span></span><span class=line><span class=cl><span class=c>  ~ distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
</span></span></span><span class=line><span class=cl><span class=c>  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</span></span></span><span class=line><span class=cl><span class=c>  ~ See the License for the specific language governing permissions and
</span></span></span><span class=line><span class=cl><span class=c>  ~ limitations under the License.
</span></span></span><span class=line><span class=cl><span class=c>--&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;android.support.design.widget.CoordinatorLayout</span> <span class=na>xmlns:android=</span><span class=s>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>xmlns:app=</span><span class=s>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@+id/main_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;android.support.design.widget.AppBarLayout</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/appbar&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;200dp&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:theme=</span><span class=s>&#34;@style/ThemeOverlay.AppCompat.Dark.ActionBar&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;android.support.design.widget.CollapsingToolbarLayout</span>
</span></span><span class=line><span class=cl>            <span class=na>android:id=</span><span class=s>&#34;@+id/collapsing_toolbar&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:contentScrim=</span><span class=s>&#34;?attr/colorPrimary&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:expandedTitleMarginEnd=</span><span class=s>&#34;64dp&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:expandedTitleMarginStart=</span><span class=s>&#34;48dp&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:layout_scrollFlags=</span><span class=s>&#34;scroll|exitUntilCollapsed&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>app:titleEnabled=</span><span class=s>&#34;true&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ImageView</span>
</span></span><span class=line><span class=cl>                <span class=na>android:id=</span><span class=s>&#34;@+id/backdrop&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:fitsSystemWindows=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:scaleType=</span><span class=s>&#34;centerCrop&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>app:layout_collapseMode=</span><span class=s>&#34;parallax&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c>&lt;!-- As our statusBar is transparent below and content is moved behind our toolbar has to include the padding on top so we use this area --&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;android.support.v7.widget.Toolbar</span>
</span></span><span class=line><span class=cl>                <span class=na>android:id=</span><span class=s>&#34;@+id/toolbar&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_height=</span><span class=s>&#34;?attr/actionBarSize&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:paddingTop=</span><span class=s>&#34;@dimen/tool_bar_top_padding&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>app:layout_collapseMode=</span><span class=s>&#34;pin&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>app:popupTheme=</span><span class=s>&#34;@style/ThemeOverlay.AppCompat.Light&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/android.support.design.widget.CollapsingToolbarLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/android.support.design.widget.AppBarLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;android.support.v4.widget.NestedScrollView</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:layout_behavior=</span><span class=s>&#34;@string/appbar_scrolling_view_behavior&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;LinearLayout</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:orientation=</span><span class=s>&#34;vertical&#34;</span>
</span></span><span class=line><span class=cl>            <span class=na>android:paddingTop=</span><span class=s>&#34;24dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;android.support.v7.widget.CardView</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_margin=</span><span class=s>&#34;16dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;LinearLayout</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:orientation=</span><span class=s>&#34;vertical&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingBottom=</span><span class=s>&#34;24dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingLeft=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingRight=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingTop=</span><span class=s>&#34;24dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;Info&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:textAppearance=</span><span class=s>&#34;@style/TextAppearance.AppCompat.Title&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;@string/lorem_ipsum&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/LinearLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/android.support.v7.widget.CardView&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;android.support.v7.widget.CardView</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginBottom=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginLeft=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginRight=</span><span class=s>&#34;16dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;LinearLayout</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:orientation=</span><span class=s>&#34;vertical&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingBottom=</span><span class=s>&#34;24dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingLeft=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingRight=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingTop=</span><span class=s>&#34;24dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;Friends&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:textAppearance=</span><span class=s>&#34;@style/TextAppearance.AppCompat.Title&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;@string/lorem_ipsum&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/LinearLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/android.support.v7.widget.CardView&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;android.support.v7.widget.CardView</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginBottom=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginLeft=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                <span class=na>android:layout_marginRight=</span><span class=s>&#34;16dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;LinearLayout</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:orientation=</span><span class=s>&#34;vertical&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingBottom=</span><span class=s>&#34;24dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingLeft=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingRight=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=na>android:paddingTop=</span><span class=s>&#34;24dp&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;Related&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:textAppearance=</span><span class=s>&#34;@style/TextAppearance.AppCompat.Title&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>                        <span class=na>android:text=</span><span class=s>&#34;@string/lorem_ipsum&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/LinearLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/android.support.v7.widget.CardView&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/LinearLayout&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/android.support.v4.widget.NestedScrollView&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;android.support.design.widget.FloatingActionButton</span>
</span></span><span class=line><span class=cl>        <span class=na>android:id=</span><span class=s>&#34;@+id/floating_action_button&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_width=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:layout_margin=</span><span class=s>&#34;16dp&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>android:clickable=</span><span class=s>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:layout_anchor=</span><span class=s>&#34;@id/appbar&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>app:layout_anchorGravity=</span><span class=s>&#34;bottom|right|end&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;/android.support.design.widget.CoordinatorLayout&gt;</span>
</span></span></code></pre></div><h1 id=actionbar-1>ActionBar</h1><h2 id=styles>Styles</h2><h3 id=translucent-bar-透明状态栏---immersive-mode-沉浸式状态栏->Translucent Bar( 透明状态栏 ) & Immersive Mode( 沉浸式状态栏 )</h3><blockquote><ul><li><a href=http://www.zhihu.com/question/27024901 target=_blank rel=noopener>什么叫沉浸式状态栏 ?</a></li></ul></blockquote><p>透明状态栏与沉浸式状态栏不是同一种东西，透明状态栏源自 ActionBar，只是其颜色和设计状态发生了变化，一般呈现的是状态栏和 / 或导航栏透明或半透明 . 最极端的例子是在 Muzei 这样的应用上</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://pic3.zhimg.com/be0409dddd05f0d2f7ee9852074d4dd2_b.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>关于透明栏的更多描述参见 : <a href=http://www.google.com/design/spec/layout/structure.html#structure-system-bars target=_blank rel=noopener>System Bars</a> (Material Design)。沉浸式对应的是 Immersive Mode, 呈现的形式是全屏状态, 隐藏状态栏与导航栏。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://pic2.zhimg.com/2f0e0c9c4b5c42157a17ae514c5902ad_r.jpg alt loading=lazy data-zoomable></div></div></figure></p><h2 id=search-view>Search View</h2><h3 id=materialsearchviewhttpsgithubcommiguelcatalanmaterialsearchview><a href=https://github.com/MiguelCatalan/MaterialSearchView target=_blank rel=noopener><strong>MaterialSearchView</strong></a></h3><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raw.githubusercontent.com/MiguelCatalan/MaterialSearchView/master/art/default.gif alt=sample loading=lazy data-zoomable></div></div></figure></p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://raw.githubusercontent.com/MiguelCatalan/MaterialSearchView/master/art/voice.gif alt=sample loading=lazy data-zoomable></div></div></figure></p><p>MaterialSearchView 的作用即是为 Android 的 ToolBar</p><h1 id=utils>Utils</h1><h2 id=statusbarutilhttpsgithubcomlaobiestatusbarutil><a href=https://github.com/laobie/StatusBarUtil target=_blank rel=noopener>StatusBarUtil</a></h2><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://github.com/laobie/StatusBarUtil/raw/master/img/set_color.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://github.com/laobie/StatusBarUtil/raw/master/img/set_color.png alt loading=lazy data-zoomable></div></div></figure></p><h1 id=popup-menu-弹出式菜单->Popup Menu( 弹出式菜单 )</h1><h2 id=pinterestviewhttpsgithubcombrucetoopinterestview><a href=https://github.com/brucetoo/PinterestView target=_blank rel=noopener>PinterestView</a></h2><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://github.com/brucetoo/PinterestView/raw/master/mine1.gif alt=MINE loading=lazy data-zoomable></div></div></figure></p><h2 id=boommenuhttpsgithubcomnightonkeboommenu><a href=https://github.com/Nightonke/BoomMenu target=_blank rel=noopener>BoomMenu</a></h2><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src="https://github.com/Nightonke/BoomMenu/raw/master/Pictures/show_circle.gif?raw=true" alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src="https://github.com/Nightonke/BoomMenu/raw/master/Pictures/show_ham.gif?raw=true" alt loading=lazy data-zoomable></div></div></figure></p><h1 id=links>Links</h1><ul><li><a href=https://dzone.com/articles/getting-started-with-android-app-and-material-desi target=_blank rel=noopener>Getting Started with Material Design on Android: Toolbar and Navigation Drawer</a></li></ul></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>下一页</div><a href=/books/frontend-series/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8/android/%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/activity/ rel=prev>Activity</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>