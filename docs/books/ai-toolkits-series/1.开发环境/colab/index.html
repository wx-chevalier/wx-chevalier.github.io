<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Next-gen Tech Edu"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/ai-toolkits-series/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/colab/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=alternate href=/books/ai-toolkits-series/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/colab/index.xml type=application/rss+xml title="Next-gen Tech Edu"><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/ai-toolkits-series/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/colab/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/ai-toolkits-series/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/colab/"><meta property="og:title" content="Colab | Next-gen Tech Edu"><meta property="og:description" content="Next-gen Tech Edu"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>Colab | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=0396076ac0dae683621236a3505b08e7><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">1.开发环境</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd390c3cbbfec1141fad4e83f5818e395")' href=#idd390c3cbbfec1141fad4e83f5818e395 aria-expanded=false aria-controls=idd390c3cbbfec1141fad4e83f5818e395 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/>AI-Toolkits-Series</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd390c3cbbfec1141fad4e83f5818e395 aria-expanded=false aria-controls=idd390c3cbbfec1141fad4e83f5818e395><i class="fa-solid fa-angle-down" id=caret-idd390c3cbbfec1141fad4e83f5818e395></i></a></div><ul class="nav docs-sidenav collapse show" id=idd390c3cbbfec1141fad4e83f5818e395><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9c49abf081fbe0faa00440e5a78af47d")' href=#id9c49abf081fbe0faa00440e5a78af47d aria-expanded=false aria-controls=id9c49abf081fbe0faa00440e5a78af47d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/>1.开发环境</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9c49abf081fbe0faa00440e5a78af47d aria-expanded=false aria-controls=id9c49abf081fbe0faa00440e5a78af47d><i class="fa-solid fa-angle-down" id=caret-id9c49abf081fbe0faa00440e5a78af47d></i></a></div><ul class="nav docs-sidenav collapse show" id=id9c49abf081fbe0faa00440e5a78af47d><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8c513c7a53f37a6f84dbc896c19c7c81")' href=#id8c513c7a53f37a6f84dbc896c19c7c81 aria-expanded=false aria-controls=id8c513c7a53f37a6f84dbc896c19c7c81 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcf08b24b694322e04af2703d8876d07b")' href=#idcf08b24b694322e04af2703d8876d07b aria-expanded=false aria-controls=idcf08b24b694322e04af2703d8876d07b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id554481bcf1c8b9ac2aaa345c5641cb7a")' href=#id554481bcf1c8b9ac2aaa345c5641cb7a aria-expanded=false aria-controls=id554481bcf1c8b9ac2aaa345c5641cb7a aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc61c68c36d05eb3283563f22b160ee74")' href=#idc61c68c36d05eb3283563f22b160ee74 aria-expanded=false aria-controls=idc61c68c36d05eb3283563f22b160ee74 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/2.scikit/>2.Scikit</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc61c68c36d05eb3283563f22b160ee74 aria-expanded=false aria-controls=idc61c68c36d05eb3283563f22b160ee74><i class="fa-solid fa-angle-right" id=caret-idc61c68c36d05eb3283563f22b160ee74></i></a></div><ul class="nav docs-sidenav collapse" id=idc61c68c36d05eb3283563f22b160ee74><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id590405dd37e98f670e7ccec10cd37847")' href=#id590405dd37e98f670e7ccec10cd37847 aria-expanded=false aria-controls=id590405dd37e98f670e7ccec10cd37847 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc5bae6327f4234dd026551e4aa4e8018")' href=#idc5bae6327f4234dd026551e4aa4e8018 aria-expanded=false aria-controls=idc5bae6327f4234dd026551e4aa4e8018 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd1b82f8e672a5e65d9f4e2034391e595")' href=#idd1b82f8e672a5e65d9f4e2034391e595 aria-expanded=false aria-controls=idd1b82f8e672a5e65d9f4e2034391e595 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd3080ac8d3342622497f2e7be16623d8")' href=#idd3080ac8d3342622497f2e7be16623d8 aria-expanded=false aria-controls=idd3080ac8d3342622497f2e7be16623d8 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id212c94e1bb85ac8185324e9fbdf0fa45")' href=#id212c94e1bb85ac8185324e9fbdf0fa45 aria-expanded=false aria-controls=id212c94e1bb85ac8185324e9fbdf0fa45 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6939c758706d98115ea6db72fb6c6a3c")' href=#id6939c758706d98115ea6db72fb6c6a3c aria-expanded=false aria-controls=id6939c758706d98115ea6db72fb6c6a3c aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcfa1c29955cfb1cbfd4bc5f79b131172")' href=#idcfa1c29955cfb1cbfd4bc5f79b131172 aria-expanded=false aria-controls=idcfa1c29955cfb1cbfd4bc5f79b131172 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/4.pytorch/>4.PyTorch</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcfa1c29955cfb1cbfd4bc5f79b131172 aria-expanded=false aria-controls=idcfa1c29955cfb1cbfd4bc5f79b131172><i class="fa-solid fa-angle-right" id=caret-idcfa1c29955cfb1cbfd4bc5f79b131172></i></a></div><ul class="nav docs-sidenav collapse" id=idcfa1c29955cfb1cbfd4bc5f79b131172><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id114733b43ac6c9e0b420f3fc5216a9cc")' href=#id114733b43ac6c9e0b420f3fc5216a9cc aria-expanded=false aria-controls=id114733b43ac6c9e0b420f3fc5216a9cc aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id91ad4632622f96c2366c99d203dbbb97")' href=#id91ad4632622f96c2366c99d203dbbb97 aria-expanded=false aria-controls=id91ad4632622f96c2366c99d203dbbb97 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idaebe1c76ec40cef311c08f2f370b941a")' href=#idaebe1c76ec40cef311c08f2f370b941a aria-expanded=false aria-controls=idaebe1c76ec40cef311c08f2f370b941a aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide5f5912d47d67a69988ee7729c14cb0b")' href=#ide5f5912d47d67a69988ee7729c14cb0b aria-expanded=false aria-controls=ide5f5912d47d67a69988ee7729c14cb0b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1036032ffc500d369371b3af888e1038")' href=#id1036032ffc500d369371b3af888e1038 aria-expanded=false aria-controls=id1036032ffc500d369371b3af888e1038 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/6.%E5%8F%AF%E8%A7%86%E5%8C%96/>6.可视化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1036032ffc500d369371b3af888e1038 aria-expanded=false aria-controls=id1036032ffc500d369371b3af888e1038><i class="fa-solid fa-angle-right" id=caret-id1036032ffc500d369371b3af888e1038></i></a></div><ul class="nav docs-sidenav collapse" id=id1036032ffc500d369371b3af888e1038><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9c1b20c48c018ed8c0368a94a36a68c1")' href=#id9c1b20c48c018ed8c0368a94a36a68c1 aria-expanded=false aria-controls=id9c1b20c48c018ed8c0368a94a36a68c1 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6ba66a775f34f2962bde0d03b03a63ec")' href=#id6ba66a775f34f2962bde0d03b03a63ec aria-expanded=false aria-controls=id6ba66a775f34f2962bde0d03b03a63ec aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/6.%E5%8F%AF%E8%A7%86%E5%8C%96/streamlit/>Streamlit</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6ba66a775f34f2962bde0d03b03a63ec aria-expanded=false aria-controls=id6ba66a775f34f2962bde0d03b03a63ec><i class="fa-solid fa-angle-right" id=caret-id6ba66a775f34f2962bde0d03b03a63ec></i></a></div><ul class="nav docs-sidenav collapse" id=id6ba66a775f34f2962bde0d03b03a63ec><li class="child level"><a href=/books/ai-toolkits-series/6.%E5%8F%AF%E8%A7%86%E5%8C%96/streamlit/streamlit/>Streamlit</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idcb95691bbdd362aeae457f9f00b2be8d")' href=#idcb95691bbdd362aeae457f9f00b2be8d aria-expanded=false aria-controls=idcb95691bbdd362aeae457f9f00b2be8d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/>7.机器学习平台</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idcb95691bbdd362aeae457f9f00b2be8d aria-expanded=false aria-controls=idcb95691bbdd362aeae457f9f00b2be8d><i class="fa-solid fa-angle-right" id=caret-idcb95691bbdd362aeae457f9f00b2be8d></i></a></div><ul class="nav docs-sidenav collapse" id=idcb95691bbdd362aeae457f9f00b2be8d><li class="child level"><a href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/angel/>Angel</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3c12b1176d5e962a28e91915baaacc67")' href=#id3c12b1176d5e962a28e91915baaacc67 aria-expanded=false aria-controls=id3c12b1176d5e962a28e91915baaacc67 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/api/>API</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3c12b1176d5e962a28e91915baaacc67 aria-expanded=false aria-controls=id3c12b1176d5e962a28e91915baaacc67><i class="fa-solid fa-angle-right" id=caret-id3c12b1176d5e962a28e91915baaacc67></i></a></div><ul class="nav docs-sidenav collapse" id=id3c12b1176d5e962a28e91915baaacc67><li class="child level"><a href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/api/52-useful-machine-learning-prediction-apis/>52 Useful Machine Learning & Prediction APIs</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd423beaedcebd035b45f8ecb2a9eb398")' href=#idd423beaedcebd035b45f8ecb2a9eb398 aria-expanded=false aria-controls=idd423beaedcebd035b45f8ecb2a9eb398 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc81fba5d14112625ba956fe701b68635")' href=#idc81fba5d14112625ba956fe701b68635 aria-expanded=false aria-controls=idc81fba5d14112625ba956fe701b68635 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id64ec6692e196df7bb1f30a9d778f8fcc")' href=#id64ec6692e196df7bb1f30a9d778f8fcc aria-expanded=false aria-controls=id64ec6692e196df7bb1f30a9d778f8fcc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/%E7%AE%97%E6%B3%95%E7%B3%BB%E7%BB%9F/>算法系统</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id64ec6692e196df7bb1f30a9d778f8fcc aria-expanded=false aria-controls=id64ec6692e196df7bb1f30a9d778f8fcc><i class="fa-solid fa-angle-right" id=caret-id64ec6692e196df7bb1f30a9d778f8fcc></i></a></div><ul class="nav docs-sidenav collapse" id=id64ec6692e196df7bb1f30a9d778f8fcc><li class="child level"><a href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/%E7%AE%97%E6%B3%95%E7%B3%BB%E7%BB%9F/%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/>离线算法</a></li><li class="child level"><a href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/%E7%AE%97%E6%B3%95%E7%B3%BB%E7%BB%9F/%E5%9C%A8%E7%BA%BF%E7%AE%97%E6%B3%95/>在线算法</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfc8fc849392802145ee1fc4d7c605bf2")' href=#idfc8fc849392802145ee1fc4d7c605bf2 aria-expanded=false aria-controls=idfc8fc849392802145ee1fc4d7c605bf2 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfc8fc849392802145ee1fc4d7c605bf2 aria-expanded=false aria-controls=idfc8fc849392802145ee1fc4d7c605bf2><i class="fa-solid fa-angle-right" id=caret-idfc8fc849392802145ee1fc4d7c605bf2></i></a></div><ul class="nav docs-sidenav collapse" id=idfc8fc849392802145ee1fc4d7c605bf2><li class="child level"><a href=/books/ai-toolkits-series/7.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/python-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6%E5%9B%9E%E9%A1%BE/>Python 深度学习框架回顾</a></li></ul></div></ul></div><li class="child level"><a href=/books/ai-toolkits-series/introduction/>INTRODUCTION</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#依赖安装>依赖安装</a></li><li><a href=#硬件加速>硬件加速</a></li><li><a href=#本地运行>本地运行</a></li></ul><ul><li><a href=#google-driver>Google Driver</a></li><li><a href=#外部-python-文件>外部 Python 文件</a></li><li><a href=#文件上传与下载>文件上传与下载</a></li><li><a href=#bigquery>BigQuery</a></li></ul><ul><li><a href=#网格>网格</a></li><li><a href=#表单>表单</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Colab</h1><div class=article-style><h1 id=colaboratory>Colaboratory</h1><p>Colaboratory 是一个免费的 Jupyter 笔记本环境，不需要进行任何设置就可以使用，并且完全在云端运行。借助 Colaboratory，我们可以在浏览器中编写和执行代码、保存和共享分析结果，以及利用强大的计算资源，包含 GPU 与 TPU 来运行我们的实验代码。</p><p>Colab 能够方便地与 Google Driver 与 Github 链接，我们可以使用 <a href=https://chrome.google.com/webstore/detail/open-in-colab/iogfkhleblhcpcekbiedikdehleodpjo target=_blank rel=noopener>Open in Colab</a> 插件快速打开 Github 上的 Notebook，或者使用类似于 <a href=https://colab.research.google.com/github/googlecolab/colabtools/blob/master/notebooks/colab-github-demo.ipynb target=_blank rel=noopener>https://colab.research.google.com/github/googlecolab/colabtools/blob/master/notebooks/colab-github-demo.ipynb</a> 这样的链接打开。如果需要将 Notebook 保存回 Github，直接使用 <code>File→Save a copy to GitHub</code> 即可。譬如笔者所有与 Colab 相关的代码归置在了 <a href=https://github.com/wx-chevalier/AIDL-Workbench/tree/master/apps/colab target=_blank rel=noopener>AIDL-Workbench/colab</a>。</p><h1 id=依赖与运行时>依赖与运行时</h1><h2 id=依赖安装>依赖安装</h2><p>Colab 提供了便捷的依赖安装功能，允许使用 pip 或者 apt-get 命令进行安装：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Importing a library that is not in Colaboratory</span>
</span></span><span class=line><span class=cl>!pip install -q matplotlib-venn
</span></span><span class=line><span class=cl>!apt-get -qq install -y libfluidsynth1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Upgrading TensorFlow</span>
</span></span><span class=line><span class=cl><span class=c1># To determine which version you&#39;re using:</span>
</span></span><span class=line><span class=cl>!pip show tensorflow
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># For the current version:</span>
</span></span><span class=line><span class=cl>!pip install --upgrade tensorflow
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># For a specific version:</span>
</span></span><span class=line><span class=cl>!pip install <span class=nv>tensorflow</span><span class=o>==</span>1.2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># For the latest nightly build:</span>
</span></span><span class=line><span class=cl>!pip install tf-nightly
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install Pytorch</span>
</span></span><span class=line><span class=cl>from os import path
</span></span><span class=line><span class=cl>from wheel.pep425tags import get_abbr_impl, get_impl_ver, get_abi_tag
</span></span><span class=line><span class=cl><span class=nv>platform</span> <span class=o>=</span> <span class=s1>&#39;{}{}-{}&#39;</span>.format<span class=o>(</span>get_abbr_impl<span class=o>()</span>, get_impl_ver<span class=o>()</span>, get_abi_tag<span class=o>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>accelerator</span> <span class=o>=</span> <span class=s1>&#39;cu80&#39;</span> <span class=k>if</span> path.exists<span class=o>(</span><span class=s1>&#39;/opt/bin/nvidia-smi&#39;</span><span class=o>)</span> <span class=k>else</span> <span class=s1>&#39;cpu&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>!pip install -q http://download.pytorch.org/whl/<span class=o>{</span>accelerator<span class=o>}</span>/torch-0.4.0-<span class=o>{</span>platform<span class=o>}</span>-linux_x86_64.whl torchvision
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install 7zip reader libarchive</span>
</span></span><span class=line><span class=cl><span class=c1># https://pypi.python.org/pypi/libarchive</span>
</span></span><span class=line><span class=cl>!apt-get -qq install -y libarchive-dev <span class=o>&amp;&amp;</span> pip install -q -U libarchive
</span></span><span class=line><span class=cl>import libarchive
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install GraphViz &amp; PyDot</span>
</span></span><span class=line><span class=cl><span class=c1># https://pypi.python.org/pypi/pydot</span>
</span></span><span class=line><span class=cl>!apt-get -qq install -y graphviz <span class=o>&amp;&amp;</span> pip install -q pydot
</span></span><span class=line><span class=cl>import pydot
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install cartopy</span>
</span></span><span class=line><span class=cl>!apt-get -qq install python-cartopy python3-cartopy
</span></span><span class=line><span class=cl>import cartopy
</span></span></code></pre></div><p>在 Colab 中还可以设置环境变量：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=o>%</span><span class=n>env</span> <span class=n>KAGGLE_USERNAME</span><span class=o>=</span><span class=n>abcdefgh</span>
</span></span></code></pre></div><h2 id=硬件加速>硬件加速</h2><p>我们可以通过如下方式查看 Colab 为我们提供的硬件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tensorflow.python.client</span> <span class=kn>import</span> <span class=n>device_lib</span>
</span></span><span class=line><span class=cl><span class=n>device_lib</span><span class=o>.</span><span class=n>list_local_devices</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>ls</span> <span class=o>/</span><span class=n>proc</span>
</span></span><span class=line><span class=cl><span class=c1># CPU信息</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>cat</span> <span class=o>/</span><span class=n>proc</span><span class=o>/</span><span class=n>cpuinfo</span>
</span></span><span class=line><span class=cl><span class=c1># 内存</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>cat</span> <span class=o>/</span><span class=n>proc</span><span class=o>/</span><span class=n>meminfo</span>
</span></span><span class=line><span class=cl><span class=c1># 版本</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>cat</span> <span class=o>/</span><span class=n>proc</span><span class=o>/</span><span class=n>version</span>
</span></span><span class=line><span class=cl><span class=c1># 设备</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>cat</span> <span class=o>/</span><span class=n>proc</span><span class=o>/</span><span class=n>devices</span>
</span></span><span class=line><span class=cl><span class=c1># 空间</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>df</span>
</span></span></code></pre></div><p>如果需要为 Notebook 启动 GPU 支持：<code>Click Edit->notebook settings->hardware accelerator->GPU</code>，然后在代码中判断是否有可用的 GPU 设备：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>tensorflow</span> <span class=k>as</span> <span class=nn>tf</span>
</span></span><span class=line><span class=cl><span class=n>device_name</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>test</span><span class=o>.</span><span class=n>gpu_device_name</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>device_name</span> <span class=o>!=</span> <span class=s1>&#39;/device:GPU:0&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>raise</span> <span class=ne>SystemError</span><span class=p>(</span><span class=s1>&#39;GPU device not found&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Found GPU at: </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>device_name</span><span class=p>))</span>
</span></span></code></pre></div><p>我们可以通过构建经典的 CNN 卷积层来比较 GPU 与 CPU 在运算上的差异：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>tensorflow</span> <span class=k>as</span> <span class=nn>tf</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>timeit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># See https://www.tensorflow.org/tutorials/using_gpu#allowing_gpu_memory_growth</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>ConfigProto</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>config</span><span class=o>.</span><span class=n>gpu_options</span><span class=o>.</span><span class=n>allow_growth</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>tf</span><span class=o>.</span><span class=n>device</span><span class=p>(</span><span class=s1>&#39;/cpu:0&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>random_image_cpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>random_normal</span><span class=p>((</span><span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=n>net_cpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>layers</span><span class=o>.</span><span class=n>conv2d</span><span class=p>(</span><span class=n>random_image_cpu</span><span class=p>,</span> <span class=mi>32</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>net_cpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>reduce_sum</span><span class=p>(</span><span class=n>net_cpu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>tf</span><span class=o>.</span><span class=n>device</span><span class=p>(</span><span class=s1>&#39;/gpu:0&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>random_image_gpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>random_normal</span><span class=p>((</span><span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=n>net_gpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>layers</span><span class=o>.</span><span class=n>conv2d</span><span class=p>(</span><span class=n>random_image_gpu</span><span class=p>,</span> <span class=mi>32</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>net_gpu</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>reduce_sum</span><span class=p>(</span><span class=n>net_gpu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sess</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>config</span><span class=o>=</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Test execution once to detect errors early.</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>sess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>tf</span><span class=o>.</span><span class=n>global_variables_initializer</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=n>tf</span><span class=o>.</span><span class=n>errors</span><span class=o>.</span><span class=n>InvalidArgumentError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;</span><span class=se>\n\n</span><span class=s1>This error most likely means that this notebook is not &#39;</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;configured to use a GPU.  Change this in Notebook Settings via the &#39;</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;command palette (cmd/ctrl-shift-P) or the Edit menu.</span><span class=se>\n\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>raise</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>cpu</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=n>sess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>net_cpu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>gpu</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=n>sess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>net_gpu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Runs the op several times.</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Time (s) to convolve 32x7x7x3 filter over random 100x100x100x3 images &#39;</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;(batch x height x width x channel). Sum of ten runs.&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;CPU (s):&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>cpu_time</span> <span class=o>=</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;cpu()&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>setup</span><span class=o>=</span><span class=s2>&#34;from __main__ import cpu&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>cpu_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;GPU (s):&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>gpu_time</span> <span class=o>=</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;gpu()&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>setup</span><span class=o>=</span><span class=s2>&#34;from __main__ import gpu&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>gpu_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;GPU speedup over CPU: </span><span class=si>{}</span><span class=s1>x&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>cpu_time</span><span class=o>/</span><span class=n>gpu_time</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sess</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=本地运行>本地运行</h2><p>Colab 还支持直接将 Notebook 连接到本地的 Jupyter 服务器以运行，首先需要启用 jupyter_http_over_ws 扩展程序：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>pip</span> <span class=n>install</span> <span class=n>jupyter_http_over_ws</span>
</span></span><span class=line><span class=cl><span class=n>jupyter</span> <span class=n>serverextension</span> <span class=n>enable</span> <span class=o>--</span><span class=n>py</span> <span class=n>jupyter_http_over_ws</span>
</span></span></code></pre></div><p>然后在正常方式启动 Jupyter 服务器，设置一个标记来明确表明信任来自 Colaboratory 前端的 WebSocket 连接：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>jupyter notebook <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --NotebookApp.allow_origin<span class=o>=</span><span class=s1>&#39;https://colab.research.google.com&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --port<span class=o>=</span><span class=m>8888</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --NotebookApp.port_retries<span class=o>=</span><span class=m>0</span>
</span></span></code></pre></div><p>然后在 Colab 的 Notebook 中选择连接到本地代码执行程序即可。</p><h1 id=数据与外部模块>数据与外部模块</h1><p>Colab 中的 notebook 和 py 文件默认都是以 /content/ 作为工作目录，需要执行一下命令手动切换工作目录，例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>path</span> <span class=o>=</span> <span class=s2>&#34;/content/drive/colab-notebook/lesson1-week2/assignment2&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>chdir</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=google-driver>Google Driver</h2><p>在过去进行实验的时候，大量训练与测试数据的获取、存储与加载一直是令人头疼的问题；在 Colab 中，笔者将 <a href=http://ngte-al.gitbook.io target=_blank rel=noopener>Awesome DataSets</a> 中的相关数据通过 <a href=https://github.com/wx-chevalier/AIDL-Workbench/tree/master/datasets target=_blank rel=noopener>AIDL-Workbench/datasets</a> 中的脚本持久化存储在 Google Driver 中。</p><p>在 Colab 中我们可以将 Google Driver 挂载到当的工作路径：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>google.colab</span> <span class=kn>import</span> <span class=n>drive</span>
</span></span><span class=line><span class=cl><span class=n>drive</span><span class=o>.</span><span class=n>mount</span><span class=p>(</span><span class=s2>&#34;/content/drive&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Files in Drive:&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>ls</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>drive</span><span class=o>/</span><span class=s1>&#39;My Drive&#39;</span>
</span></span></code></pre></div><p>然后通过正常的 Linux Shell 命令来创建与操作：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Working with files</span>
</span></span><span class=line><span class=cl><span class=c1># Create directories for the new project</span>
</span></span><span class=line><span class=cl>!mkdir -p drive/kaggle/talkingdata-adtracking-fraud-detection
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>!mkdir -p drive/kaggle/talkingdata-adtracking-fraud-detection/input/train
</span></span><span class=line><span class=cl>!mkdir -p drive/kaggle/talkingdata-adtracking-fraud-detection/input/test
</span></span><span class=line><span class=cl>!mkdir -p drive/kaggle/talkingdata-adtracking-fraud-detection/input/valid
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Download files</span>
</span></span><span class=line><span class=cl>!wget -O /content/drive/<span class=s1>&#39;My Drive&#39;</span>/Data/fashion_mnist/train-images-idx3-ubyte.gz http://fashion-mnist.s3-website.eu-central-1.amazonaws.com/train-images-idx3-ubyte.gz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Download and Unzip files</span>
</span></span><span class=line><span class=cl>%env <span class=nv>DIR</span><span class=o>=</span>/content/drive/My Drive/Data/animals/cats_and_dogs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>!rm -rf <span class=s2>&#34;</span><span class=nv>$DIR</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>!mkdir -pv <span class=s2>&#34;</span><span class=nv>$DIR</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>!wget -O <span class=s2>&#34;</span><span class=nv>$DIR</span><span class=s2>&#34;</span>/Cat_Dog_data.zip https://s3.amazonaws.com/content.udacity-data.com/nd089/Cat_Dog_data.zip
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># remove existing directories</span>
</span></span><span class=line><span class=cl>!<span class=o>(</span><span class=nb>cd</span> <span class=s2>&#34;</span><span class=nv>$DIR</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> unzip -qqj Cat_Dog_data.zip -d .<span class=o>)</span>
</span></span></code></pre></div><h2 id=外部-python-文件>外部 Python 文件</h2><p>Colab 允许我们上传 Python 文件到工作目录下，或者加载 Google Driver 中的 Python：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># Import modules</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>imp</span>
</span></span><span class=line><span class=cl><span class=n>helper</span> <span class=o>=</span> <span class=n>imp</span><span class=o>.</span><span class=n>new_module</span><span class=p>(</span><span class=s1>&#39;helper&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>exec</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=s2>&#34;drive/path/to/helper.py&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>(),</span> <span class=n>helper</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fc_model</span> <span class=o>=</span> <span class=n>imp</span><span class=o>.</span><span class=n>new_module</span><span class=p>(</span><span class=s1>&#39;fc_model&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>exec</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=s2>&#34;pytorch-challenge/deep-learning-v2-pytorch/intro-to-pytorch/fc_model.py&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>(),</span> <span class=n>fc_model</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=文件上传与下载>文件上传与下载</h2><p>Colab 还允许我们在运行脚本时候直接从本地文件上传，或者将生成的模型下载到本地文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>google.colab</span> <span class=kn>import</span> <span class=n>files</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Upload file</span>
</span></span><span class=line><span class=cl><span class=n>uploaded</span> <span class=o>=</span> <span class=n>files</span><span class=o>.</span><span class=n>upload</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>fn</span> <span class=ow>in</span> <span class=n>uploaded</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;User uploaded file &#34;</span><span class=si>{name}</span><span class=s1>&#34; with length </span><span class=si>{length}</span><span class=s1> bytes&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=n>name</span><span class=o>=</span><span class=n>fn</span><span class=p>,</span> <span class=n>length</span><span class=o>=</span><span class=nb>len</span><span class=p>(</span><span class=n>uploaded</span><span class=p>[</span><span class=n>fn</span><span class=p>])))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Download file</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;example.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;some content&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>files</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s1>&#39;example.txt&#39;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=bigquery>BigQuery</h2><p>如果我们使用了 BigQuery 提供了大数据的查询与管理功能，那么在 Colab 中也可以直接引入 BigQuery 中的数据源：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>google.cloud</span> <span class=kn>import</span> <span class=n>bigquery</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>client</span> <span class=o>=</span> <span class=n>bigquery</span><span class=o>.</span><span class=n>Client</span><span class=p>(</span><span class=n>project</span><span class=o>=</span><span class=n>project_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sample_count</span> <span class=o>=</span> <span class=mi>2000</span>
</span></span><span class=line><span class=cl><span class=n>row_count</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>  SELECT
</span></span></span><span class=line><span class=cl><span class=s1>    COUNT(*) as total
</span></span></span><span class=line><span class=cl><span class=s1>  FROM `bigquery-public-data.samples.gsod`&#39;&#39;&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>to_dataframe</span><span class=p>()</span><span class=o>.</span><span class=n>total</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>  SELECT
</span></span></span><span class=line><span class=cl><span class=s1>    *
</span></span></span><span class=line><span class=cl><span class=s1>  FROM
</span></span></span><span class=line><span class=cl><span class=s1>    `bigquery-public-data.samples.gsod`
</span></span></span><span class=line><span class=cl><span class=s1>  WHERE RAND() &lt; </span><span class=si>%d</span><span class=s1>/</span><span class=si>%d</span><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>sample_count</span><span class=p>,</span> <span class=n>row_count</span><span class=p>))</span><span class=o>.</span><span class=n>to_dataframe</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Full dataset has </span><span class=si>%d</span><span class=s1> rows&#39;</span> <span class=o>%</span> <span class=n>row_count</span><span class=p>)</span>
</span></span></code></pre></div><h1 id=控件使用>控件使用</h1><h2 id=网格>网格</h2><p>Colab 为我们提供了 Grid 以及 Tab 控件，来便于我们构建简单的图表布局：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>pylab</span>
</span></span><span class=line><span class=cl><span class=n>grid</span> <span class=o>=</span> <span class=n>widgets</span><span class=o>.</span><span class=n>Grid</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>with</span> <span class=n>grid</span><span class=o>.</span><span class=n>output_to</span><span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>    <span class=n>grid</span><span class=o>.</span><span class=n>clear_cell</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>((</span><span class=mi>10</span><span class=p>,</span> <span class=mi>1</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>  <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.5</span><span class=p>)</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/item/202212251523660.png alt loading=lazy data-zoomable></div></div></figure></p><p>TabBar 提供了页签化的布局：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>google.colab</span> <span class=kn>import</span> <span class=n>widgets</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>google.colab</span> <span class=kn>import</span> <span class=n>output</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>pylab</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>six.moves</span> <span class=kn>import</span> <span class=nb>zip</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_tab</span><span class=p>(</span><span class=n>location</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>tb</span> <span class=o>=</span> <span class=n>widgets</span><span class=o>.</span><span class=n>TabBar</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=n>location</span><span class=o>=</span><span class=n>location</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>with</span> <span class=n>tb</span><span class=o>.</span><span class=n>output_to</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>  <span class=c1># Note you can access tab by its name (if they are unique), or</span>
</span></span><span class=line><span class=cl>  <span class=c1># by its index.</span>
</span></span><span class=line><span class=cl>  <span class=k>with</span> <span class=n>tb</span><span class=o>.</span><span class=n>output_to</span><span class=p>(</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>pylab</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Different orientations for tabs&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>positions</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;start&#39;</span><span class=p>,</span> <span class=s1>&#39;bottom&#39;</span><span class=p>,</span> <span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=s1>&#39;top&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>p</span><span class=p>,</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>positions</span><span class=p>,</span> <span class=n>widgets</span><span class=o>.</span><span class=n>Grid</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;---- </span><span class=si>%s</span><span class=s1> ---&#39;</span> <span class=o>%</span> <span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>create_tab</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/xTb7JjVf/image.png alt loading=lazy data-zoomable></div></div></figure></p><h2 id=表单>表单</h2><p>值得称道的是，Colab 还提供了可交互的表单式组件，来方便我们构建可动态输入的应用：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1>#@title String fields</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>text</span> <span class=o>=</span> <span class=s1>&#39;value&#39;</span> <span class=c1>#@param {type:&#34;string&#34;}</span>
</span></span><span class=line><span class=cl><span class=n>dropdown</span> <span class=o>=</span> <span class=s1>&#39;1st option&#39;</span> <span class=c1>#@param [&#34;1st option&#34;, &#34;2nd option&#34;, &#34;3rd option&#34;]</span>
</span></span><span class=line><span class=cl><span class=n>text_and_dropdown</span> <span class=o>=</span> <span class=s1>&#39;2nd option&#39;</span> <span class=c1>#@param [&#34;1st option&#34;, &#34;2nd option&#34;, &#34;3rd option&#34;] {allow-input: true}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dropdown</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>text_and_dropdown</span><span class=p>)</span>
</span></span></code></pre></div><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://i.postimg.cc/4x6SP83j/image.png alt loading=lazy data-zoomable></div></div></figure></p></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>