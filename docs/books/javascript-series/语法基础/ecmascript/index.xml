<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ECMAScript | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/</link><atom:link href="https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/index.xml" rel="self" type="application/rss+xml"/><description>ECMAScript</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>ECMAScript</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/</link></image><item><title>ES10 特性</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es10-%E7%89%B9%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es10-%E7%89%B9%E6%80%A7/</guid><description>&lt;h1 id="es2019-特性">ES2019 特性&lt;/h1>
&lt;h1 id="arrayflat">Array.flat()&lt;/h1>
&lt;p>You can now flatten nested arrays recursively up to a specified depth. The default value is 1 and if you want to go full depth use Infinity. This method does not modify the original array but creates a new one:&lt;/p>
&lt;p>const arr1 = [1, 2, [3, 4]];
arr1.flat(); // [1, 2, 3, 4]&lt;/p>
&lt;p>const arr2 = [1, 2, [3, 4, [5, 6]]];
arr2.flat(2); // [1, 2, 3, 4, 5, 6]&lt;/p>
&lt;p>const arr3 = [1, 2, [3, 4, [5, 6, [7, 8]]]];
arr3.flat(Infinity); // [1, 2, 3, 4, 5, 6, 7, 8]
If you have an empty slot in your array it is going to be removed:&lt;/p>
&lt;p>const arr4 = [1, 2,, 4, 5];
arr4.flat(); // [1, 2, 4, 5]&lt;/p>
&lt;h1 id="arrayflatmap">Array.flatMap()&lt;/h1>
&lt;p>A new method that combines the basic map function and then flattens the result to a depth of 1 with the new Array.flat() method:&lt;/p>
&lt;p>const arr1 = [1, 2, 3];&lt;/p>
&lt;p>arr1.map(x =&amp;gt; [x * 4]); // [[4], [8], [12]]
arr1.flatMap(x =&amp;gt; [x * 4]); // [4, 8, 12]
Another more useful example:&lt;/p>
&lt;p>const sentence = [&amp;ldquo;This is a&amp;rdquo;, &amp;ldquo;regular&amp;rdquo;, &amp;ldquo;sentence&amp;rdquo;];&lt;/p>
&lt;p>sentence.map(x =&amp;gt; x.split(&amp;quot; &amp;ldquo;)); // [[&amp;ldquo;This&amp;rdquo;,&amp;ldquo;is&amp;rdquo;,&amp;ldquo;a&amp;rdquo;],[&amp;ldquo;regular&amp;rdquo;],[&amp;ldquo;sentence&amp;rdquo;]]
sentence.flatMap(x =&amp;gt; x.split(&amp;rdquo; &amp;ldquo;)); // [&amp;ldquo;This&amp;rdquo;,&amp;ldquo;is&amp;rdquo;,&amp;ldquo;a&amp;rdquo;,&amp;ldquo;regular&amp;rdquo;, &amp;ldquo;sentence&amp;rdquo;]&lt;/p>
&lt;h1 id="stringtrimstart-and-stringtrimend">String.trimStart() and String.trimEnd()&lt;/h1>
&lt;p>In addition to String.Trim() which removes whitespaces from both sides of a string there are now separate methods for only removing white spaces from each side:&lt;/p>
&lt;p>const test = &amp;quot; hello &amp;ldquo;;&lt;/p>
&lt;p>test.trim(); // &amp;ldquo;hello&amp;rdquo;;
test.trimStart(); // &amp;ldquo;hello &amp;ldquo;;
test.trimEnd(); // &amp;quot; hello&amp;rdquo;;&lt;/p>
&lt;h1 id="objectfromentries">Object.fromEntries&lt;/h1>
&lt;p>A new method that transforms a list of key-value pairs into an object. It performs the reverse of an already familiar function Object.Entries which is used when transforming objects to arrays for their easier manipulation. After the transformation, you would be left with an array but now you can return the manipulated array back into an object. Let’s try with an example where we want to square the values of all of our object properties:&lt;/p>
&lt;p>const obj = { prop1: 2, prop2: 10, prop3: 15 };&lt;/p>
&lt;p>let array = Object.entries(obj); // [[&amp;ldquo;prop1&amp;rdquo;, 2], [&amp;ldquo;prop2&amp;rdquo;, 10], [&amp;ldquo;prop3&amp;rdquo;, 15]]
Let’s square the values of the new list of key-value pairs with a simple map:&lt;/p>
&lt;p>array = array.map(([key, value]) =&amp;gt; [key, Math.pow(value, 2)]); // [[&amp;ldquo;prop1&amp;rdquo;, 4], [&amp;ldquo;prop2&amp;rdquo;, 100], [&amp;ldquo;prop3&amp;rdquo;, 225]]
We’ve transformed the object values but we are left with an array and that is where Object.fromEntries comes in, transforming the array back to an object:&lt;/p>
&lt;p>const newObj = Object.fromEntries(array); // {prop1: 4, prop2: 100, prop3: 225}&lt;/p>
&lt;h1 id="optional-catch-binding">Optional Catch Binding&lt;/h1>
&lt;p>The new proposal allows you to completely omit the catch() parameter as there are a lot of cases where you don’t want to use it:&lt;/p>
&lt;p>try {
//&amp;hellip;
} catch (er) {
//handle error with parameter er
}&lt;/p>
&lt;p>try {
//&amp;hellip;
} catch {
//handle error without parameter
}&lt;/p>
&lt;h1 id="symboldescription">Symbol.description&lt;/h1>
&lt;p>You can now access the description property of a Symbol instead of using the toString() method:&lt;/p>
&lt;p>const testSymbol = Symbol(&amp;ldquo;Desc&amp;rdquo;);&lt;/p>
&lt;p>testSymbol.description; // &amp;ldquo;Desc&amp;rdquo;&lt;/p>
&lt;h1 id="functiontostring">Function.toString()&lt;/h1>
&lt;p>Calling toString() on a function now returns the function exactly as it was defined including whitespaces and comments. Before we had:&lt;/p>
&lt;p>function /_ foo comment _/ foo() {}&lt;/p>
&lt;p>foo.toString(); // &amp;ldquo;function foo() {}&amp;rdquo;
And now it’s:&lt;/p>
&lt;p>foo.toString(); // &amp;ldquo;function /_ foo comment /_ foo() {}&amp;rdquo;&lt;/p></description></item><item><title>ES6 特性</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es6-%E7%89%B9%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es6-%E7%89%B9%E6%80%A7/</guid><description>&lt;h1 id="es6-特性">ES6 特性&lt;/h1>
&lt;p>ECMAScript 6 (以下简称 ES6)是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。Mozilla 公司将在这个标准的基础上，推出 JavaScript 2.0。ES6 的目标，是使得 JavaScript 语言可以用来编写大型的复杂的应用程序，成为企业级开发语言。标准的制定者有计划，以后每年发布一次标准，使用年份作为标准的版本。因为当前版本的 ES6 是在 2015 年发布的，所以又称 ECMAScript 2015。&lt;/p>
&lt;h1 id="module--module-loader">&lt;strong>Module &amp;amp; Module Loader&lt;/strong>&lt;/h1>
&lt;p>ES2015 中加入的原生模块机制支持可谓是意义最重大的 feature 了，且不说目前市面上五花八门的 module/loader 库，各种不同实现机制&lt;/p>
&lt;p>互不兼容也就罢了 ( 其实这也是非常大的问题 )，关键是那些模块定义 / 装载语法都丑到爆炸，但是这也是无奈之举，在没有语言级别的支持下，js 只能做到这一&lt;/p>
&lt;p>步，正所谓巧妇难为无米之炊。ES2016 中的 Module 机制借鉴自&lt;/p>
&lt;p>CommonJS，同时又提供了更优雅的关键字及语法 ( 虽然也存在一些问题 )。遗憾的是同样有重大价值的 Module&lt;/p>
&lt;p>Loader 在 2014 年底从 ES2015 草案中移除了，我猜测可能是对于浏览器而言 Module&lt;/p>
&lt;p>Loader 的支持遭遇了一些技术上的难点，从而暂时性的舍弃了这一 feature。但是一个原生支持的模块加载器是非常有意义的，相信它不久后还是会回&lt;/p>
&lt;p>归到 ES 规范中 ( 目前由 WHATWG 组织在单独维护 )。&lt;/p>
&lt;ol start="2">
&lt;li>
&lt;p>&lt;strong>Class&lt;/strong>&lt;/p>
&lt;p>准确来说 class 关键字只是一个 js 里构造函数的语法糖而已，跟直接 function 写法无本质区别。只不过有了 Class 的原生支持后，js 的面向对象机制有了更多的可能性，比如衍生的 extends 关键字 ( 虽然也只是语法糖 )。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Promise &amp;amp; Reflect API&lt;/strong>&lt;/p>
&lt;p>Promise 的诞生其实已经有几十年了，它被纳入 ES 规范最大意义在于，它将市面上各种异步实现库的最佳实践都标准化了。至于 Reflect API，它让 js 历史上第一次具备了元编程能力，这一特性足以让开发者们脑洞大开。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>除此之外，ES2016 的相关草案也已经确定了一大部分其他 new features。这里提两个我比较感兴趣的 new feature：&lt;/p>
&lt;ol>
&lt;li>async/await：协程。ES2016 中 async/await 实际是对 Generator&amp;amp;Promise 的上层封装，几乎同步的写法写异步比 Promise 更优雅更简单，非常值得期待。&lt;/li>
&lt;li>decorator：装饰器，其实等同于 Java 里面的注解。注解机制对于大型应用的开发的作用想必不用我过多赘述了。用过的同学都说好。&lt;/li>
&lt;/ol>
&lt;p>而关于纯 ES6 语法在各大浏览器上的支持情况，可以查看&lt;a href="http://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener">这里&lt;/a>。另外推荐一个可以将 ES5 代码转化为可读的 ES6 代码的转化器：&lt;a href="https://github.com/mohebifar/lebab" target="_blank" rel="noopener">lebab&lt;/a>&lt;/p></description></item><item><title>ES8 特性</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es8-%E7%89%B9%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es8-%E7%89%B9%E6%80%A7/</guid><description>&lt;h1 id="ecmascript-2017es8-features">ECMAScript 2017(ES8) Features&lt;/h1>
&lt;p>ECMAScript 2017 或 ES8 与 2017 年六月底由 TC39 正式发布，可以在&lt;a href="https://www.ecma-international.org/ecma-262/8.0/index.html" target="_blank" rel="noopener">这里&lt;/a>浏览完整的版本；而 ES8 中代表性的特征包括了字符串填充、对象值遍历、对象的属性描述符获取、函数参数列表与调用中的尾部逗号、异步函数、共享内存与原子操作等。&lt;/p>
&lt;h3 id="字符串填充">字符串填充&lt;/h3>
&lt;p>ES8 中添加了内置的字符串填充函数，分别为 padStart 与 padEnd，该函数能够通过填充字符串的首部或者尾部来保证字符串达到固定的长度；开发者可以指定填充的字符串或者使用默认的空格，函数的声明如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">str&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">targetLength&lt;/span> &lt;span class="p">[,&lt;/span> &lt;span class="nx">padString&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">str&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">targetLength&lt;/span> &lt;span class="p">[,&lt;/span> &lt;span class="nx">padString&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如上所示，函数的首个参数为目标长度，即最终生成的字符串长度；第二个参数即是指定的填充字符串：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39; es8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;woof&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;wooes8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;wow&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;wowwowwowwoes8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;0000es8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es8&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es8 &amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;woof&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es8woo&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;wow&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es8wowwowwowwo&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">padEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;6&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#39;es86666&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="对象值遍历">对象值遍历&lt;/h3>
&lt;p>&lt;code>Object.values&lt;/code> 函数会返回指定对象的可枚举的属性值数组，数组中值顺序与 &lt;code>for-in&lt;/code> 循环保持一致，函数的声明为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>首个参数 &lt;code>obj&lt;/code> 即为需要遍历的目标对象，它可以为某个对象或者数组(数组可以看做键为下标的对象)：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [&amp;#39;xxx&amp;#39;, 1]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;e&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;8&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// same as { 0: &amp;#39;e&amp;#39;, 1: &amp;#39;s&amp;#39;, 2: &amp;#39;8&amp;#39; };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [&amp;#39;e&amp;#39;, &amp;#39;s&amp;#39;, &amp;#39;8&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// when we use numeric keys, the values returned in a numerical
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// order according to the keys
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;yyy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;zzz&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [&amp;#39;yyy&amp;#39;, &amp;#39;zzz&amp;#39;, &amp;#39;xxx&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [&amp;#39;e&amp;#39;, &amp;#39;s&amp;#39;, &amp;#39;8&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>而 &lt;code>Object.entries&lt;/code> 方法则会将某个对象的可枚举属性与值按照二维数组的方式返回，数组中顺序与 &lt;code>Object.values&lt;/code> 保持一致，该函数的声明与使用为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [[&amp;#39;x&amp;#39;, &amp;#39;xxx&amp;#39;], [&amp;#39;y&amp;#39;, 1]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;e&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;8&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [[&amp;#39;0&amp;#39;, &amp;#39;e&amp;#39;], [&amp;#39;1&amp;#39;, &amp;#39;s&amp;#39;], [&amp;#39;2&amp;#39;, &amp;#39;8&amp;#39;]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;yyy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;zzz&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [[&amp;#39;1&amp;#39;, &amp;#39;yyy&amp;#39;], [&amp;#39;3&amp;#39;, &amp;#39;zzz&amp;#39;], [&amp;#39;10&amp;#39;: &amp;#39;xxx&amp;#39;]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [[&amp;#39;0&amp;#39;, &amp;#39;e&amp;#39;], [&amp;#39;1&amp;#39;, &amp;#39;s&amp;#39;], [&amp;#39;2&amp;#39;, &amp;#39;8&amp;#39;]]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="对象的属性描述符获取">对象的属性描述符获取&lt;/h3>
&lt;p>&lt;code>getOwnPropertyDescriptors&lt;/code> 函数会返回指定对象的某个指定属性的描述符；该属性必须是对象自己定义而不是继承自原型链，函数的声明为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getOwnPropertyDescriptor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">prop&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>obj&lt;/code> 即为源对象，而 &lt;code>prop&lt;/code> 即为需要查看的属性名；结果中包含的键可能有 configurable、enumerable、writable、get、set 以及 value。&lt;/p>
&lt;pre tabindex="0">&lt;code>const obj = { get es8() { return 888; } };
Object.getOwnPropertyDescriptor(obj, &amp;#39;es8&amp;#39;);
// {
// configurable: true,
// enumerable: true,
// get: function es8(){}, //the getter function
// set: undefined
// }
&lt;/code>&lt;/pre>&lt;h3 id="函数参数列表与调用中的尾部逗号">函数参数列表与调用中的尾部逗号&lt;/h3>
&lt;p>该特性允许我们在定义或者调用函数时添加尾部逗号而不报错：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">es8&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">var1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">var2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">var3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">es8&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="异步函数">异步函数&lt;/h3>
&lt;p>ES8 中允许使用 async/await 语法来定义与执行异步函数，async 关键字会返回某个 AsyncFunction 对象；在内部实现中虽然异步函数与迭代器的实现原理类似，但是其并不会被转化为迭代器函数：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fetchTextByPromise&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;es8&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">sayHello&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">externalFetchedText&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fetchTextByPromise&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`Hello, &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">externalFetchedText&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Hello, es8
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sayHello&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sayHello&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 调用结果
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// immediately
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// immediately
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">es8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// after 2 seconds
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="共享内存与原子操作">共享内存与原子操作&lt;/h3>
&lt;p>共享内存允许多个线程并发读写数据，而原子操作则能够进行并发控制，确保多个存在竞争关系的线程顺序执行。本部分则介绍了新的构造器 &lt;code>SharedArrayBuffer&lt;/code> 与包含静态方法的命名空间对象 &lt;code>Atomics&lt;/code>。&lt;code>Atomic&lt;/code> 对象类似于 &lt;code>Math&lt;/code>，我们无法直接创建其实例，而只能使用其提供的静态方法：&lt;/p>
&lt;ul>
&lt;li>add /sub - 增加或者减去某个位置的某个值&lt;/li>
&lt;li>and / or /xor - 进行位操作&lt;/li>
&lt;li>load - 获取值&lt;/li>
&lt;/ul></description></item><item><title>ES9 特性</title><link>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es9-%E7%89%B9%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/javascript-series/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/ecmascript/es9-%E7%89%B9%E6%80%A7/</guid><description>&lt;h1 id="ecmascript-2018es9-features">ECMAScript 2018(ES9) Features&lt;/h1>
&lt;p>Major new features:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://2ality.com/2016/10/asynchronous-iteration.html" target="_blank" rel="noopener">Asynchronous Iteration&lt;/a> (Domenic Denicola, Kevin Smith)&lt;/li>
&lt;li>&lt;a href="http://2ality.com/2016/10/rest-spread-properties.html" target="_blank" rel="noopener">Rest/Spread Properties&lt;/a> (Sebastian Markbåge)&lt;/li>
&lt;/ul>
&lt;p>New regular expression features:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://2ality.com/2017/05/regexp-named-capture-groups.html" target="_blank" rel="noopener">RegExp named capture groups&lt;/a> (Gorkem Yakin, Daniel Ehrenberg)&lt;/li>
&lt;li>&lt;a href="http://2ality.com/2017/07/regexp-unicode-property-escapes.html" target="_blank" rel="noopener">RegExp Unicode Property Escapes&lt;/a> (Mathias Bynens)&lt;/li>
&lt;li>&lt;a href="http://2ality.com/2017/05/regexp-lookbehind-assertions.html" target="_blank" rel="noopener">RegExp Lookbehind Assertions&lt;/a> (Gorkem Yakin, Nozomu Katō, Daniel Ehrenberg)&lt;/li>
&lt;li>&lt;a href="http://2ality.com/2017/07/regexp-dotall-flag.html" target="_blank" rel="noopener">&lt;code>s&lt;/code> (&lt;code>dotAll&lt;/code>) flag for regular expressions&lt;/a> (Mathias Bynens)&lt;/li>
&lt;/ul>
&lt;p>Other new features:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://2ality.com/2017/07/promise-prototype-finally.html" target="_blank" rel="noopener">&lt;code>Promise.prototype.finally()&lt;/code>&lt;/a> (Jordan Harband)&lt;/li>
&lt;li>&lt;a href="http://2ality.com/2016/09/template-literal-revision.html" target="_blank" rel="noopener">Template Literal Revision&lt;/a> (Tim Disney)&lt;/li>
&lt;/ul></description></item></channel></rss>