<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Next-gen Tech Edu"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=alternate href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/index.xml type=application/rss+xml title="Next-gen Tech Edu"><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/"><meta property="og:title" content="Mesos | Next-gen Tech Edu"><meta property="og:description" content="Next-gen Tech Edu"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>Mesos | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=d2c6f53c288c85cb863bf19edb17a097><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">2.集群编排</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id283eba55bef72e405d7f93cff79bc258")' href=#id283eba55bef72e405d7f93cff79bc258 aria-expanded=false aria-controls=id283eba55bef72e405d7f93cff79bc258 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/>Cloud-Series</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id283eba55bef72e405d7f93cff79bc258 aria-expanded=false aria-controls=id283eba55bef72e405d7f93cff79bc258><i class="fa-solid fa-angle-down" id=caret-id283eba55bef72e405d7f93cff79bc258></i></a></div><ul class="nav docs-sidenav collapse show" id=id283eba55bef72e405d7f93cff79bc258><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6f345f4afd9711b7f3e9dfa8a4a8b307")' href=#id6f345f4afd9711b7f3e9dfa8a4a8b307 aria-expanded=false aria-controls=id6f345f4afd9711b7f3e9dfa8a4a8b307 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/>1.虚拟化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6f345f4afd9711b7f3e9dfa8a4a8b307 aria-expanded=false aria-controls=id6f345f4afd9711b7f3e9dfa8a4a8b307><i class="fa-solid fa-angle-right" id=caret-id6f345f4afd9711b7f3e9dfa8a4a8b307></i></a></div><ul class="nav docs-sidenav collapse" id=id6f345f4afd9711b7f3e9dfa8a4a8b307><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddbbd1e62a3efd101849c9c52dcc1e87e")' href=#iddbbd1e62a3efd101849c9c52dcc1e87e aria-expanded=false aria-controls=iddbbd1e62a3efd101849c9c52dcc1e87e aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida81d73805ffdfbd3a11c22351d514998")' href=#ida81d73805ffdfbd3a11c22351d514998 aria-expanded=false aria-controls=ida81d73805ffdfbd3a11c22351d514998 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/>Docker</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida81d73805ffdfbd3a11c22351d514998 aria-expanded=false aria-controls=ida81d73805ffdfbd3a11c22351d514998><i class="fa-solid fa-angle-right" id=caret-ida81d73805ffdfbd3a11c22351d514998></i></a></div><ul class="nav docs-sidenav collapse" id=ida81d73805ffdfbd3a11c22351d514998><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd78838db39af0bb37fe836c9c2413c7c")' href=#idd78838db39af0bb37fe836c9c2413c7c aria-expanded=false aria-controls=idd78838db39af0bb37fe836c9c2413c7c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/swarm/>Swarm</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd78838db39af0bb37fe836c9c2413c7c aria-expanded=false aria-controls=idd78838db39af0bb37fe836c9c2413c7c><i class="fa-solid fa-angle-right" id=caret-idd78838db39af0bb37fe836c9c2413c7c></i></a></div><ul class="nav docs-sidenav collapse" id=idd78838db39af0bb37fe836c9c2413c7c><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/swarm/swarm/>Swarm</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/swarm/%E5%9F%BA%E4%BA%8E-docker-swarm-%E7%9A%84%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BC%96%E6%8E%92%E4%B8%8E%E7%9B%91%E6%8E%A7/>基于 Docker Swarm 的微服务编排与监控</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfc44a235bd48854dec5ac5137f106730")' href=#idfc44a235bd48854dec5ac5137f106730 aria-expanded=false aria-controls=idfc44a235bd48854dec5ac5137f106730 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%95%9C%E5%83%8F%E4%B8%8E%E5%AE%B9%E5%99%A8/>镜像与容器</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfc44a235bd48854dec5ac5137f106730 aria-expanded=false aria-controls=idfc44a235bd48854dec5ac5137f106730><i class="fa-solid fa-angle-right" id=caret-idfc44a235bd48854dec5ac5137f106730></i></a></div><ul class="nav docs-sidenav collapse" id=idfc44a235bd48854dec5ac5137f106730><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%95%9C%E5%83%8F%E4%B8%8E%E5%AE%B9%E5%99%A8/dockerfile-%E9%85%8D%E7%BD%AE/>Dockerfile 配置</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%95%9C%E5%83%8F%E4%B8%8E%E5%AE%B9%E5%99%A8/%E9%95%9C%E5%83%8F%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/>镜像体积优化</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1c57d2af04a40d24c376949087c67bb4")' href=#id1c57d2af04a40d24c376949087c67bb4 aria-expanded=false aria-controls=id1c57d2af04a40d24c376949087c67bb4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/>配置部署</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1c57d2af04a40d24c376949087c67bb4 aria-expanded=false aria-controls=id1c57d2af04a40d24c376949087c67bb4><i class="fa-solid fa-angle-right" id=caret-id1c57d2af04a40d24c376949087c67bb4></i></a></div><ul class="nav docs-sidenav collapse" id=id1c57d2af04a40d24c376949087c67bb4><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/compose/>Compose</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/>安装与配置</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/>容器编排</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7bc8692f790151a5d18baeaae8140d90")' href=#id7bc8692f790151a5d18baeaae8140d90 aria-expanded=false aria-controls=id7bc8692f790151a5d18baeaae8140d90 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6521878a51135184ec7f807b7fe0d293")' href=#id6521878a51135184ec7f807b7fe0d293 aria-expanded=false aria-controls=id6521878a51135184ec7f807b7fe0d293 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E7%BD%91%E7%BB%9C/>网络</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6521878a51135184ec7f807b7fe0d293 aria-expanded=false aria-controls=id6521878a51135184ec7f807b7fe0d293><i class="fa-solid fa-angle-right" id=caret-id6521878a51135184ec7f807b7fe0d293></i></a></div><ul class="nav docs-sidenav collapse" id=id6521878a51135184ec7f807b7fe0d293><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/>网络模型</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/docker/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/>网络配置</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2e54b9cb5ab699da59b341fa90a72d24")' href=#id2e54b9cb5ab699da59b341fa90a72d24 aria-expanded=false aria-controls=id2e54b9cb5ab699da59b341fa90a72d24 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/focker/>Focker</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2e54b9cb5ab699da59b341fa90a72d24 aria-expanded=false aria-controls=id2e54b9cb5ab699da59b341fa90a72d24><i class="fa-solid fa-angle-right" id=caret-id2e54b9cb5ab699da59b341fa90a72d24></i></a></div><ul class="nav docs-sidenav collapse" id=id2e54b9cb5ab699da59b341fa90a72d24><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/focker/bash/>Bash</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/focker/c/>C</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/focker/go/>Go</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/focker/python/>Python</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ide8795742357b1ecee1dd2b48bfc8a583")' href=#ide8795742357b1ecee1dd2b48bfc8a583 aria-expanded=false aria-controls=ide8795742357b1ecee1dd2b48bfc8a583 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/>Linux 资源隔离</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ide8795742357b1ecee1dd2b48bfc8a583 aria-expanded=false aria-controls=ide8795742357b1ecee1dd2b48bfc8a583><i class="fa-solid fa-angle-right" id=caret-ide8795742357b1ecee1dd2b48bfc8a583></i></a></div><ul class="nav docs-sidenav collapse" id=ide8795742357b1ecee1dd2b48bfc8a583><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/aufs/>AUFS</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/cgroups/>CGroups</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/lxc/>LXC</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/namespaces/>Namespaces</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/linux-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB/%E8%99%9A%E6%8B%9F%E5%86%85%E6%A0%B8/>虚拟内核</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id625bb296ca9ffe2ad5b8f7ad14b3802b")' href=#id625bb296ca9ffe2ad5b8f7ad14b3802b aria-expanded=false aria-controls=id625bb296ca9ffe2ad5b8f7ad14b3802b aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2cadd300e7c74e89fddec2cba9cb5a74")' href=#id2cadd300e7c74e89fddec2cba9cb5a74 aria-expanded=false aria-controls=id2cadd300e7c74e89fddec2cba9cb5a74 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/xen/>Xen</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2cadd300e7c74e89fddec2cba9cb5a74 aria-expanded=false aria-controls=id2cadd300e7c74e89fddec2cba9cb5a74><i class="fa-solid fa-angle-right" id=caret-id2cadd300e7c74e89fddec2cba9cb5a74></i></a></div><ul class="nav docs-sidenav collapse" id=id2cadd300e7c74e89fddec2cba9cb5a74><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/xen/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/>快速开始</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/xen/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9B%E5%BB%BA/>虚拟机创建</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1068dc5e21d59404b022f7638e537a09")' href=#id1068dc5e21d59404b022f7638e537a09 aria-expanded=false aria-controls=id1068dc5e21d59404b022f7638e537a09 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf49d476203b23784bff9dd6371988927")' href=#idf49d476203b23784bff9dd6371988927 aria-expanded=false aria-controls=idf49d476203b23784bff9dd6371988927 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/%E5%AE%B9%E5%99%A8/>容器</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf49d476203b23784bff9dd6371988927 aria-expanded=false aria-controls=idf49d476203b23784bff9dd6371988927><i class="fa-solid fa-angle-right" id=caret-idf49d476203b23784bff9dd6371988927></i></a></div><ul class="nav docs-sidenav collapse" id=idf49d476203b23784bff9dd6371988927><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/%E5%AE%B9%E5%99%A8/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF%E7%AE%80%E5%8F%B2/>容器技术简史</a></li><li class="child level"><a href=/books/cloud-series/1.%E8%99%9A%E6%8B%9F%E5%8C%96/%E5%AE%B9%E5%99%A8/%E4%BA%91%E5%8E%82%E5%95%86%E7%9A%84%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/>云厂商的容器技术</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1e6b8154abf511f3d79596bd453c6016")' href=#id1e6b8154abf511f3d79596bd453c6016 aria-expanded=false aria-controls=id1e6b8154abf511f3d79596bd453c6016 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/10.%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97/>10.边缘计算</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1e6b8154abf511f3d79596bd453c6016 aria-expanded=false aria-controls=id1e6b8154abf511f3d79596bd453c6016><i class="fa-solid fa-angle-right" id=caret-id1e6b8154abf511f3d79596bd453c6016></i></a></div><ul class="nav docs-sidenav collapse" id=id1e6b8154abf511f3d79596bd453c6016><li class="child level"><a href=/books/cloud-series/10.%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E6%A2%B3%E7%90%86/>开源项目梳理</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id084540c76cad50b2c55eeffc16b61abb")' href=#id084540c76cad50b2c55eeffc16b61abb aria-expanded=false aria-controls=id084540c76cad50b2c55eeffc16b61abb aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/>2.集群编排</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id084540c76cad50b2c55eeffc16b61abb aria-expanded=false aria-controls=id084540c76cad50b2c55eeffc16b61abb><i class="fa-solid fa-angle-down" id=caret-id084540c76cad50b2c55eeffc16b61abb></i></a></div><ul class="nav docs-sidenav collapse show" id=id084540c76cad50b2c55eeffc16b61abb><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id577dff753f81161a914a71c127add159")' href=#id577dff753f81161a914a71c127add159 aria-expanded=false aria-controls=id577dff753f81161a914a71c127add159 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link active" href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/>Mesos</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id577dff753f81161a914a71c127add159 aria-expanded=false aria-controls=id577dff753f81161a914a71c127add159><i class="fa-solid fa-angle-right" id=caret-id577dff753f81161a914a71c127add159></i></a></div><ul class="nav docs-sidenav collapse show" id=id577dff753f81161a914a71c127add159><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/mesos/%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/>部署与配置</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd2424271585716acd622054cdc7ebe59")' href=#idd2424271585716acd622054cdc7ebe59 aria-expanded=false aria-controls=idd2424271585716acd622054cdc7ebe59 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/oam/>OAM</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd2424271585716acd622054cdc7ebe59 aria-expanded=false aria-controls=idd2424271585716acd622054cdc7ebe59><i class="fa-solid fa-angle-right" id=caret-idd2424271585716acd622054cdc7ebe59></i></a></div><ul class="nav docs-sidenav collapse" id=idd2424271585716acd622054cdc7ebe59><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/oam/%E5%8D%8F%E8%AE%AE%E8%A7%84%E8%8C%83/>协议规范</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb4ee18ee2764b79eca04c4d248c29d99")' href=#idb4ee18ee2764b79eca04c4d248c29d99 aria-expanded=false aria-controls=idb4ee18ee2764b79eca04c4d248c29d99 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E4%BA%91%E8%AE%A1%E7%AE%97/>云计算</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id73fe4933af456b59eb33697f9ae5623a")' href=#id73fe4933af456b59eb33697f9ae5623a aria-expanded=false aria-controls=id73fe4933af456b59eb33697f9ae5623a aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5724053d9494466b6abc52b7ccfda9a2")' href=#id5724053d9494466b6abc52b7ccfda9a2 aria-expanded=false aria-controls=id5724053d9494466b6abc52b7ccfda9a2 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/>资源调度</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5724053d9494466b6abc52b7ccfda9a2 aria-expanded=false aria-controls=id5724053d9494466b6abc52b7ccfda9a2><i class="fa-solid fa-angle-right" id=caret-id5724053d9494466b6abc52b7ccfda9a2></i></a></div><ul class="nav docs-sidenav collapse" id=id5724053d9494466b6abc52b7ccfda9a2><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/%E5%8D%95%E6%9C%BA%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/>单机资源管理</a></li><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/%E8%AE%A1%E7%AE%97%E8%B0%83%E5%BA%A6/>计算调度</a></li><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/>任务调度</a></li><li class="child level"><a href=/books/cloud-series/2.%E9%9B%86%E7%BE%A4%E7%BC%96%E6%8E%92/%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/%E6%95%B0%E6%8D%AE%E8%B0%83%E5%BA%A6/>数据调度</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id275579e36be6ea5c5a1f0d507973fe83")' href=#id275579e36be6ea5c5a1f0d507973fe83 aria-expanded=false aria-controls=id275579e36be6ea5c5a1f0d507973fe83 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/cloud-series/introduction/>INTRODUCTION</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#advantage>Advantage</a><ul><li><a href=#资源分配>资源分配</a></li></ul></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>Mesos</h1><div class=article-style><h1 id=mesos>Mesos</h1><blockquote><p>Mesos is a meta, framework scheduler rather than an application scheduler like YARN.</p></blockquote><p>从各个常用的组件的协调角度，我们可以来看如下这张图：</p><p>而从 Mesos 本身的功能模型，即 Master 与 Slave 的模型之间的关系的角度来看的话，可以得到如下模型：</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://i.stack.imgur.com/Gqhrx.jpg alt loading=lazy data-zoomable></div></div></figure></p><p>Slave 是运行在物理或虚拟服务器上的 Mesos 守护进程，是 Mesos 集群的一部分。Framework 由调度器(Scheduler)应用程序和任务执行器(Executor)组成，被注册到 Mesos 以使用 Mesos 集群中的资源。</p><ul><li>Slave 1 向 Master 汇报其空闲资源：4 个 CPU、4GB 内存。然后，Master 触发分配策略模块，得到的反馈是 Framework 1 要请求全部可用资源。</li><li>Master 向 Framework 1 发送资源邀约，描述了 Slave 1 上的可用资源。</li><li>Framework 的调度器(Scheduler)响应 Master，需要在 Slave 上运行两个任务，第一个任务分配&lt;2 CPUs, 1 GB RAM>资源，第二个任务分配&lt;1 CPUs, 2 GB RAM>资源。</li><li>最后，Master 向 Slave 下发任务，分配适当的资源给 Framework 的任务执行器(Executor),接下来由执行器启动这两个任务(如图中虚线框所示)。此时，还有 1 个 CPU 和 1GB 的 RAM 尚未分配，因此分配模块可以将这些资源供给 Framework 2。</li></ul><h2 id=advantage>Advantage</h2><ul><li>效率：这是最显而易见的好处，也是 Mesos 社区和 Mesosphere 经常津津乐道的。</li></ul><p>上图来自 Mesosphere 网站，描绘出 Mesos 为效率带来的好处。如今，在大多数数据中心中，服务器的静态分区是常态，即使使用最新的应用程序，如 Hadoop。这时常令人担忧的是，当不同的应用程序使用相同的节点时，调度相互冲突，可用资源互相争抢。静态分区本质上是低效的，因为经常会面临，其中一个分区已经资源耗尽，而另一个分区的资源却没有得到充分利用，而且没有什么简单的方法能跨分区集群重新分配资源。使用 Mesos 资源管理器仲裁不同的调度器，我们将进入动态分区/弹性共享的模式，所有应用程序都可以使用节点的公共池，安全地、最大化地利用资源。一个经常被引用的例子是 Slave 节点通常运行 Hadoop 作业，在 Slave 空闲阶段，动态分配给他们运行批处理作业，反之亦然。值得一提的是，这其中的某些环节可以通过虚拟化技术，如 VMware vSphere 的 分布式资源调度(DRS) 来完成。然而，Mesos 具有更精细的粒度，因为 Mesos 在应用层而不是机器层分配资源，通过容器而不是整个虚拟机(VM)分配任务。前者能够为每个应用程序的特殊需求做考量，应用程序的调度器知道最有效地利用资源; 后者能够更好地“装箱”，运行一个任务，没有必要实例化一整个虚拟机，其所需的进程和二进制文件足矣。</p><ul><li><p>敏捷：与效率和利用率密切相关，这实际上是我认为最重要的好处。往往，效率解决的是“如何花最少的钱最大化数据中心的资源”，而敏捷解决的是“如何快速用上手头的资源。” 正如我和我的同事 <a href=https://twitter.com/vmtyler target=_blank rel=noopener>Tyler Britten</a> 经常指出，IT 的存在是帮助企业赚钱和省钱的；那么如何通过技术帮助我们迅速创收，是我们要达到的重要指标。这意味着要确保关键应用程序不能耗尽所需资源，因为我们无法为应用提供足够的基础设施，特别是在数据中心的其他地方都的资源是收费情况下。</p></li><li><p>可扩展性：为可扩展而设计，这是我真心欣赏 Mesos 架构的地方。这一重要属性使数据可以指数级增长、分布式应用可以水平扩展。我们的发展已经远远超出了使用巨大的整体调度器或者限定群集节点数量为 64 的时代，足矣承载新形式的应用扩张。Mesos 可扩展设计的关键之处是采用两级调度架构。使用 Framework 代理任务的实际调度，Master 可以用非常轻量级的代码实现，更易于扩展集群发展的规模。因为 Master 不必知道所支持的每种类型的应用程序背后复杂的调度逻辑。此外，由于 Master 不必为每个任务做调度，因此不会成为容量的性能瓶颈，而这在为每个任务或者虚拟机做调度的整体调度器中经常发生。</p></li><li><p>模块化：对我来说，预测任何开源技术的健康发展，很大程度上取决于围绕该项目的生态系统。我认为 Mesos 项目前景很好，因为其设计具有包容性，可以将功能插件化，比如分配策略、隔离机制和 Framework。将容器技术，比如 Docker 和 Rocket 插件化的好处是显而易见。但是我想在此强调的是围绕 Framework 建设的生态系统。将任务调度委托给 Framework 应用程序，以及采用插件架构，通过 Mesos 这样的设计，社区创造了能够让 Mesos 问鼎数据中心资源管理的生态系统。因为每接入一种新的 Framework，Master 无需为此编码，Slave 模块可以复用，使得在 Mesos 所支持的宽泛领域中，业务迅速增长。相反，开发者可以专注于他们的应用和 Framework 的选择。当前而且还在不断地增长着的 Mesos Framework 列表参见 <a href=http://mesos.apache.org/documentation/latest/mesos-frameworks/ target=_blank rel=noopener>此处</a> 以及下图:</p></li></ul><h3 id=资源分配>资源分配</h3><p>为了实现在同一组 Slave 节点集合上运行多任务这一目标，Mesos 使用了隔离模块，该模块使用了一些应用和进程隔离机制来运行这些任务。不足为奇的是，虽然可以使用虚拟机隔离实现隔离模块，但是 Mesos 当前模块支持的是容器隔离。Mesos 早在 2009 年就用上了 Linux 的容器技术，如 cgroups 和 Solaris Zone，时至今日这些仍然是默认的。然而，Mesos 社区增加了 Docker 作为运行任务的隔离机制。不管使用哪种隔离模块，为运行特定应用程序的任务，都需要将执行器全部打包，并在已经为该任务分配资源的 Slave 服务器上启动。当任务执行完毕后，容器会被“销毁”，资源会被释放，以便可以执行其他任务。</p><p>我们来更深入地研究一下资源邀约和分配策略，因为这对 Mesos 管理跨多个 Framework 和应用的资源，是不可或缺的。我们前面提到资源邀约的概念，即由 Master 向注册其上的 Framework 发送资源邀约。每次资源邀约包含一份 Slave 节点上可用的 CPU、RAM 等资源的列表。Master 提供这些资源给它的 Framework，是基于分配策略的。分配策略对所有的 Framework 普遍适用，同时适用于特定的 Framework。Framework 可以拒绝资源邀约，如果它不满足要求，若此，资源邀约随即可以发给其他 Framework。由 Mesos 管理的应用程序通常运行短周期的任务，因此这样可以快速释放资源，缓解 Framework 的资源饥饿；Slave 定期向 Master 报告其可用资源，以便 Master 能够不断产生新的资源邀约。另外，还可以使用诸如此类的技术，每个 Fraamework 过滤不满足要求的资源邀约、Master 主动废除给定周期内一直没有被接受的邀约。</p><p>分配策略有助于 Mesos Master 判断是否应该把当前可用资源提供给特定的 Framework，以及应该提供多少资源。关于 Mesos 中使用资源分配以及可插拔的分配模块，实现非常细粒度的资源共享，会单独写一篇文章。言归正传，Mesos 实现了公平共享和严格优先级(这两个概念我会在资源分配那篇讲)分配模块，确保大部分用例的最佳资源共享。已经实现的新分配模块可以处理大部分之外的用例。</p><h1 id=links>Links</h1><ul><li><p><a href=https://www.voxxed.com/blog/2014/12/mesos-docker-tutorial-how-to-build-your-own-framework/ target=_blank rel=noopener>mesos-docker-tutorial-how-to-build-your-own-framework</a></p></li><li><p><a href=https://github.com/shekhargulati/52-technologies-in-2016/blob/master/18-mesos/README.md target=_blank rel=noopener>Getting Started with Apache Mesos</a></p></li><li><p>[- <a href=http://dockone.io/article/1152 target=_blank rel=noopener>回顾 Java 发展，看 Docker 与 Mesos</a></p></li><li><p><a href=http://www.infoq.com/cn/minibooks/analyse-mesos target=_blank rel=noopener>InfoQ - 深入浅出 Mesos</a></p></li></ul></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>