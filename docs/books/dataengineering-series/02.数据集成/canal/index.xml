<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Canal | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/</link><atom:link href="https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/index.xml" rel="self" type="application/rss+xml"/><description>Canal</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>Canal</title><link>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/</link></image><item><title>部署与配置</title><link>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/</guid><description>&lt;h1 id="canal-部署与配置">Canal 部署与配置&lt;/h1>
&lt;h1 id="单机部署">单机部署&lt;/h1>
&lt;p>MySQL 默认没有开启 Binlog，因此我们需要对 my.cnf 文件做以下修改：&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-cnf" data-lang="cnf">server-id = 1
log_bin = /path/to/mysql-bin.log
binlog_format = ROW
&lt;/code>&lt;/pre>&lt;p>注意 binlog_format 必须设置为 ROW, 因为在 STATEMENT 或 MIXED 模式下, Binlog 只会记录和传输 SQL 语句（以减少日志大小），而不包含具体数据，我们也就无法保存了。从节点通过一个专门的账号连接主节点，这个账号需要拥有全局的 REPLICATION 权限。我们可以使用 GRANT 命令创建这样的账号：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">GRANT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">REPLICATION&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SLAVE&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">REPLICATION&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CLIENT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">_&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;canal&amp;#39;&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="s1">&amp;#39;%&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IDENTIFIED&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;canal&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>架构机制</title><link>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/dataengineering-series/02.%E6%95%B0%E6%8D%AE%E9%9B%86%E6%88%90/canal/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/</guid><description/></item></channel></rss>