<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>服务测试 | Next-gen Tech Edu</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/</link><atom:link href="https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/index.xml" rel="self" type="application/rss+xml"/><description>服务测试</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><image><url>https://ng-tech.icu/media/sharing.png</url><title>服务测试</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/</link></image><item><title>JMeter</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/jmeter/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/jmeter/</guid><description>&lt;h1 id="jmeter">JMeter&lt;/h1>
&lt;h1 id="links">Links&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s?__biz=MzU4NzU0MDIzOQ==&amp;amp;mid=2247487005&amp;amp;idx=1&amp;amp;sn=9c8837261ce97f69f019fe909e09e789&amp;amp;chksm=fdeb3c7dca9cb56b6c142d52f08eae5143cfc38bf214c2e716f65202f83ffd9325b845da48dc&amp;amp;scene=21#wechat_redirect" target="_blank" rel="noopener">https://mp.weixin.qq.com/s?__biz=MzU4NzU0MDIzOQ==&amp;mid=2247487005&amp;idx=1&amp;sn=9c8837261ce97f69f019fe909e09e789&amp;chksm=fdeb3c7dca9cb56b6c142d52f08eae5143cfc38bf214c2e716f65202f83ffd9325b845da48dc&amp;scene=21#wechat_redirect&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>测试工具</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</guid><description>&lt;h1 id="测试工具">测试工具&lt;/h1>
&lt;p>1996 年，LR 4.0 版本发布，将性能测试专业理论工具化、产品化，这直接影响之后 20 多年性能测试领域的理论基础。但是 LR 作为一款商业化产品，因其价格昂贵，推广和传播受限。1998 年底，JMeter 开源，并发布 1.0 版本，性能测试领域逐渐蓬勃发展起来。&lt;/p>
&lt;p>Loadrunner、Jmeter 引领了性能测试领域的一个时代，功能强大，脚本化，扩展性强，将性能测试标准化、专业化，后续几乎所有性能测试工具或者商业化产品都马首是瞻。&lt;/p></description></item><item><title>流量复制</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E6%B5%81%E9%87%8F%E5%A4%8D%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E6%B5%81%E9%87%8F%E5%A4%8D%E5%88%B6/</guid><description>&lt;h1 id="流量复制">流量复制&lt;/h1>
&lt;h1 id="links">Links&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://cubox.pro/c/iu1twM" target="_blank" rel="noopener">流量复制方案对比：Tcpcopy vs Goreplay&lt;/a>: 流量复制常常应用在准生产环境的测试中，将线上的流量复制到一个准生产环境服务中，测试新功能和服务的承压能力。流量复制可以完全模拟线上的流量，对复杂的业务场景进行真实的服务测试，又不会对生产服务产生任何副作用。&lt;/li>
&lt;/ul></description></item><item><title>压力测试</title><link>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://ng-tech.icu/books/test-notes/%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/</guid><description>&lt;h1 id="压力测试">压力测试&lt;/h1>
&lt;p>在运维工作中，压力测试是一项很重要的工作。比如在一个网站上线之前，能承受多大访问量、在大访问量情况下性能怎样，这些数据指标好坏将会直接影响用户体验。但是，在压力测试中存在一个共性，那就是压力测试的结果与实际负载结果不会完全相同，就算压力测试工作做的再好，也不能保证 100% 和线上性能指标相同。面对这些问题，我们只能尽量去想方设法去模拟。所以，压力测试非常有必要，有了这些数据，我们就能对自己做维护的平台做到心中有数。&lt;/p>
&lt;p>我们通常说的网站流量(traffic)就是指网站的访问量，是用来描述访问一个网站的用户数量以及用户所浏览的网页数量等指标，常用的统计指标包括网站的独立用户数量、总用户数量(含重复访问者)、网页浏览数量、每个用户的页面浏览数量、用户在网站的平均停留时间等。&lt;/p>
&lt;p>并发模式与 RPS 模式压测各有各自的使用场景，并发模式更加适用于对于系统定性的分析，比如帮助定位性能瓶颈，单接口的性能基线沉淀（对比历史性能优化 or 劣化）；而 RPS 模式在对系统做定量的分析有杰出表现，比如容量规划、全链路性能基线沉淀，当然也可以帮助定位性能瓶颈。并发模式的难点在于 RT 的准确性拟真，RPS 模式的难点在于模型的准确性评估和预测，从实现难度上来说，前者相对于后者来说难度更大一些、掌控度更低一些。&lt;/p>
&lt;h1 id="并发指标">并发指标&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>并发用户、并发、VU：一般用来表示虚拟用户（Virutal User，简称 VU），对应到 Jmeter 的线程组线程，对应到 Loadrunner 的并发 Concurrency，在本文都是一个意思。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>每秒发送请求数、RPS：指客户端每秒发出的请求数，有些地方也叫做 QPS，本文不单独讨论“事务”所以可以近似对应到 Loadrunner 的 TPS（Transaction Per Second, 每秒事务数），本文统一叫做 RPS。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>响应时间、RT：对，没错，这个就是你理解的那个意思，从发起请求到完全接收到应答的时间消耗。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>根据“Little 定律”，在平衡状态下，我们可以等价认为并发、RPS 和 RT 之间的关系可以概括为&lt;/p>
&lt;p>并发数 = RPS * 响应时间&lt;/p>
&lt;h1 id="数据库压力测试">数据库压力测试&lt;/h1>
&lt;pre tabindex="0">&lt;code>sudo aptitude install sysbench
echo &amp;#34;create database sbtest; grant all on sbtest.* to &amp;#39;sbtest&amp;#39;@&amp;#39;localhost&amp;#39;;&amp;#34; | mysql
sysbench --test=oltp --num-threads=10 prepare
sysbench --test=oltp --num-threads=10 run
sysbench --test=oltp --num-threads=16 --max-requests=100000 --mysql-socket=/var/lib/mysql/mysql.sock --mysql-user=root --db-driver=mysql --oltp-test-mode=complex run
&lt;/code>&lt;/pre>&lt;p>随着 NoSql 数据存储方式的使用率增加，以及多存储方式混合解决方案日趋流行，开发团队在需要存储数据时有了多种选择。虽然这能带来很多益处，但是在不稳定的网络环境下产品行为有可能出现微妙的(以及不那么微妙的)问题，而这些问题有时即便是产品开发人员自己也难以理解。当任何人试图了解不同数据库和队列技术在不同场景下如何反应时，事实上都会把 Jepsen 及其博客作为参考。关键一点，使用这种在事务中包含客户端的方法来测试，给许多构建微服务的团队揭示了可能的错误模式。&lt;/p></description></item></channel></rss>