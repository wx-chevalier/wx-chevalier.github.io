<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="统计语言模型浅谈从属于笔者的程序猿的数据科学与机器学习实战手册，其他相关阅读Python 语法速览与机器学习开发环境搭建，Scikit-Learn 备忘录，基于 Gensim 的 Word2Vec 实践。 统计语言模型 统计语言模型(Sta"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.63df6ae9fc2b4cc71b83f1774d780209.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/"><meta property="og:title" content="统计语言模型 | Next-gen Tech Edu"><meta property="og:description" content="统计语言模型浅谈从属于笔者的程序猿的数据科学与机器学习实战手册，其他相关阅读Python 语法速览与机器学习开发环境搭建，Scikit-Learn 备忘录，基于 Gensim 的 Word2Vec 实践。 统计语言模型 统计语言模型(Sta"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>统计语言模型 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=879b9f305f3aa3d131a42a0226952cad><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">统计语言模型</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3effa86d34c7aa08d198155286dd471f")' href=#id3effa86d34c7aa08d198155286dd471f aria-expanded=false aria-controls=id3effa86d34c7aa08d198155286dd471f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/>NLP-Series</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id3effa86d34c7aa08d198155286dd471f aria-expanded=false aria-controls=id3effa86d34c7aa08d198155286dd471f><i class="fa-solid fa-angle-down" id=caret-id3effa86d34c7aa08d198155286dd471f></i></a></div><ul class="nav docs-sidenav collapse show" id=id3effa86d34c7aa08d198155286dd471f><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id94a492eb64ac474d5b40310ead009b53")' href=#id94a492eb64ac474d5b40310ead009b53 aria-expanded=false aria-controls=id94a492eb64ac474d5b40310ead009b53 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/nlp-series/introduction/>INTRODUCTION</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idca8c4f8c2c6655ffbfe0579407520b96")' href=#idca8c4f8c2c6655ffbfe0579407520b96 aria-expanded=false aria-controls=idca8c4f8c2c6655ffbfe0579407520b96 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/llm/>LLM</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idca8c4f8c2c6655ffbfe0579407520b96 aria-expanded=false aria-controls=idca8c4f8c2c6655ffbfe0579407520b96><i class="fa-solid fa-angle-right" id=caret-idca8c4f8c2c6655ffbfe0579407520b96></i></a></div><ul class="nav docs-sidenav collapse" id=idca8c4f8c2c6655ffbfe0579407520b96><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idfe60a0605de9ece4640a2fee09b62472")' href=#idfe60a0605de9ece4640a2fee09b62472 aria-expanded=false aria-controls=idfe60a0605de9ece4640a2fee09b62472 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/llm/gpt/>GPT</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idfe60a0605de9ece4640a2fee09b62472 aria-expanded=false aria-controls=idfe60a0605de9ece4640a2fee09b62472><i class="fa-solid fa-angle-right" id=caret-idfe60a0605de9ece4640a2fee09b62472></i></a></div><ul class="nav docs-sidenav collapse" id=idfe60a0605de9ece4640a2fee09b62472><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8e64d54debb8065b622b6bc4ba9730ed")' href=#id8e64d54debb8065b622b6bc4ba9730ed aria-expanded=false aria-controls=id8e64d54debb8065b622b6bc4ba9730ed aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/llm/gpt/chatgpt/>ChatGPT</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8e64d54debb8065b622b6bc4ba9730ed aria-expanded=false aria-controls=id8e64d54debb8065b622b6bc4ba9730ed><i class="fa-solid fa-angle-right" id=caret-id8e64d54debb8065b622b6bc4ba9730ed></i></a></div><ul class="nav docs-sidenav collapse" id=id8e64d54debb8065b622b6bc4ba9730ed><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0274e5f9349e8e70610ecd3c52a3033c")' href=#id0274e5f9349e8e70610ecd3c52a3033c aria-expanded=false aria-controls=id0274e5f9349e8e70610ecd3c52a3033c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/llm/gpt/chatgpt/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>999.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0274e5f9349e8e70610ecd3c52a3033c aria-expanded=false aria-controls=id0274e5f9349e8e70610ecd3c52a3033c><i class="fa-solid fa-angle-right" id=caret-id0274e5f9349e8e70610ecd3c52a3033c></i></a></div><ul class="nav docs-sidenav collapse" id=id0274e5f9349e8e70610ecd3c52a3033c><li class="child level"><a href=/books/nlp-series/llm/gpt/chatgpt/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2023-gpt-4-%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%A1%AC%E6%A0%B8%E8%A7%A3%E8%AF%BB/>2023-GPT-4 大模型硬核解读</a></li></ul></div></ul></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id764521d69ea10ac7a74684ec0c455e07")' href=#id764521d69ea10ac7a74684ec0c455e07 aria-expanded=false aria-controls=id764521d69ea10ac7a74684ec0c455e07 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/transformer/>Transformer</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id764521d69ea10ac7a74684ec0c455e07 aria-expanded=false aria-controls=id764521d69ea10ac7a74684ec0c455e07><i class="fa-solid fa-angle-right" id=caret-id764521d69ea10ac7a74684ec0c455e07></i></a></div><ul class="nav docs-sidenav collapse" id=id764521d69ea10ac7a74684ec0c455e07><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id045f95e7a235a72c6aa7b64792d00131")' href=#id045f95e7a235a72c6aa7b64792d00131 aria-expanded=false aria-controls=id045f95e7a235a72c6aa7b64792d00131 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/transformer/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>999.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id045f95e7a235a72c6aa7b64792d00131 aria-expanded=false aria-controls=id045f95e7a235a72c6aa7b64792d00131><i class="fa-solid fa-angle-right" id=caret-id045f95e7a235a72c6aa7b64792d00131></i></a></div><ul class="nav docs-sidenav collapse" id=id045f95e7a235a72c6aa7b64792d00131><li class="child level"><a href=/books/nlp-series/transformer/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2019-nlp-%E4%B8%AD%E7%9A%84-rnnseq2seq-%E4%B8%8E-attention-%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6/>2019-NLP 中的 RNN、Seq2Seq 与 Attention 注意力机制</a></li><li class="child level"><a href=/books/nlp-series/transformer/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90-rnn-seq2seq-attention-%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6/>2020-完全解析 RNN, Seq2Seq, Attention 注意力机制</a></li><li class="child level"><a href=/books/nlp-series/transformer/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2021-transformer%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3%E5%9B%BE%E8%A7%A3%E6%9C%80%E5%AE%8C%E6%95%B4%E7%89%88/>2021-Transformer模型详解（图解最完整版）</a></li><li class="child level"><a href=/books/nlp-series/transformer/999.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2021-%E8%B6%85%E8%AF%A6%E7%BB%86%E5%9B%BE%E8%A7%A3-self-attention/>2021-超详细图解 Self-Attention</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5cdc77f0ad7e96f3288d028998c36671")' href=#id5cdc77f0ad7e96f3288d028998c36671 aria-expanded=false aria-controls=id5cdc77f0ad7e96f3288d028998c36671 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E8%AF%8D%E5%B5%8C%E5%85%A5/>词嵌入</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5cdc77f0ad7e96f3288d028998c36671 aria-expanded=false aria-controls=id5cdc77f0ad7e96f3288d028998c36671><i class="fa-solid fa-angle-right" id=caret-id5cdc77f0ad7e96f3288d028998c36671></i></a></div><ul class="nav docs-sidenav collapse" id=id5cdc77f0ad7e96f3288d028998c36671><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id39b4a37654b576adb9b2f62e36b8fb75")' href=#id39b4a37654b576adb9b2f62e36b8fb75 aria-expanded=false aria-controls=id39b4a37654b576adb9b2f62e36b8fb75 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E8%AF%8D%E5%90%91%E9%87%8F/>词向量</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id39b4a37654b576adb9b2f62e36b8fb75 aria-expanded=false aria-controls=id39b4a37654b576adb9b2f62e36b8fb75><i class="fa-solid fa-angle-right" id=caret-id39b4a37654b576adb9b2f62e36b8fb75></i></a></div><ul class="nav docs-sidenav collapse" id=id39b4a37654b576adb9b2f62e36b8fb75><li class="child level"><a href=/books/nlp-series/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E8%AF%8D%E5%90%91%E9%87%8F/%E5%9F%BA%E4%BA%8E-gensim-%E7%9A%84-word2vec-%E5%AE%9E%E8%B7%B5/>基于 Gensim 的 Word2Vec 实践</a></li></ul></div><li class="child level"><a href=/books/nlp-series/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E6%A6%82%E8%BF%B0/>概述</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3ec192da9b5737e14e238bbe35195126")' href=#id3ec192da9b5737e14e238bbe35195126 aria-expanded=false aria-controls=id3ec192da9b5737e14e238bbe35195126 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5651b3c3a123526763670db25ac31ff5")' href=#id5651b3c3a123526763670db25ac31ff5 aria-expanded=false aria-controls=id5651b3c3a123526763670db25ac31ff5 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5e80cd7d6ea0bbeea81f44344f06ffea")' href=#id5e80cd7d6ea0bbeea81f44344f06ffea aria-expanded=false aria-controls=id5e80cd7d6ea0bbeea81f44344f06ffea aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/>经典自然语言</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5e80cd7d6ea0bbeea81f44344f06ffea aria-expanded=false aria-controls=id5e80cd7d6ea0bbeea81f44344f06ffea><i class="fa-solid fa-angle-right" id=caret-id5e80cd7d6ea0bbeea81f44344f06ffea></i></a></div><ul class="nav docs-sidenav collapse" id=id5e80cd7d6ea0bbeea81f44344f06ffea><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf9cb082466e74db79015a924753627b4")' href=#idf9cb082466e74db79015a924753627b4 aria-expanded=false aria-controls=idf9cb082466e74db79015a924753627b4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%8D%E5%B5%8C%E5%85%A5/>词嵌入</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf9cb082466e74db79015a924753627b4 aria-expanded=false aria-controls=idf9cb082466e74db79015a924753627b4><i class="fa-solid fa-angle-right" id=caret-idf9cb082466e74db79015a924753627b4></i></a></div><ul class="nav docs-sidenav collapse" id=idf9cb082466e74db79015a924753627b4><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id192ce96c2ca4a85e961d10a6c57769b7")' href=#id192ce96c2ca4a85e961d10a6c57769b7 aria-expanded=false aria-controls=id192ce96c2ca4a85e961d10a6c57769b7 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E8%AF%8D%E5%90%91%E9%87%8F/>词向量</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id192ce96c2ca4a85e961d10a6c57769b7 aria-expanded=false aria-controls=id192ce96c2ca4a85e961d10a6c57769b7><i class="fa-solid fa-angle-right" id=caret-id192ce96c2ca4a85e961d10a6c57769b7></i></a></div><ul class="nav docs-sidenav collapse" id=id192ce96c2ca4a85e961d10a6c57769b7><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E8%AF%8D%E5%90%91%E9%87%8F/%E5%9F%BA%E4%BA%8E-gensim-%E7%9A%84-word2vec-%E5%AE%9E%E8%B7%B5/>基于 Gensim 的 Word2Vec 实践</a></li></ul></div><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%8D%E5%B5%8C%E5%85%A5/%E6%A6%82%E8%BF%B0/>概述</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd85c6af5640425111159bb9469160c26")' href=#idd85c6af5640425111159bb9469160c26 aria-expanded=false aria-controls=idd85c6af5640425111159bb9469160c26 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>统计语言模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd85c6af5640425111159bb9469160c26 aria-expanded=false aria-controls=idd85c6af5640425111159bb9469160c26><i class="fa-solid fa-angle-right" id=caret-idd85c6af5640425111159bb9469160c26></i></a></div><ul class="nav docs-sidenav collapse" id=idd85c6af5640425111159bb9469160c26><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6411e45dc7bee277ca6705e0235b3a88")' href=#id6411e45dc7bee277ca6705e0235b3a88 aria-expanded=false aria-controls=id6411e45dc7bee277ca6705e0235b3a88 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/>BERT</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id6411e45dc7bee277ca6705e0235b3a88 aria-expanded=false aria-controls=id6411e45dc7bee277ca6705e0235b3a88><i class="fa-solid fa-angle-right" id=caret-id6411e45dc7bee277ca6705e0235b3a88></i></a></div><ul class="nav docs-sidenav collapse" id=id6411e45dc7bee277ca6705e0235b3a88><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0/>目标函数</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/%E8%BE%93%E5%85%A5%E8%A1%A8%E7%A4%BA/>输入表示</a></li></ul></div><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/word2vec/>Word2Vec</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E8%AF%8D%E8%A1%A8%E7%A4%BA/>词表示</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E5%9F%BA%E7%A1%80%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/>基础文本处理</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>统计语言模型</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4a648d9ccd6a02ca8fdc13681fefab7f")' href=#id4a648d9ccd6a02ca8fdc13681fefab7f aria-expanded=false aria-controls=id4a648d9ccd6a02ca8fdc13681fefab7f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%AD%E6%B3%95%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/>语法语义分析</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4a648d9ccd6a02ca8fdc13681fefab7f aria-expanded=false aria-controls=id4a648d9ccd6a02ca8fdc13681fefab7f><i class="fa-solid fa-angle-right" id=caret-id4a648d9ccd6a02ca8fdc13681fefab7f></i></a></div><ul class="nav docs-sidenav collapse" id=id4a648d9ccd6a02ca8fdc13681fefab7f><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E8%AF%AD%E6%B3%95%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/%E5%91%BD%E5%90%8D%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/>命名实体识别</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7905f06a5081e168ca189bc50bfa7e6c")' href=#id7905f06a5081e168ca189bc50bfa7e6c aria-expanded=false aria-controls=id7905f06a5081e168ca189bc50bfa7e6c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E4%B8%BB%E9%A2%98%E6%A8%A1%E5%9E%8B/>主题模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7905f06a5081e168ca189bc50bfa7e6c aria-expanded=false aria-controls=id7905f06a5081e168ca189bc50bfa7e6c><i class="fa-solid fa-angle-right" id=caret-id7905f06a5081e168ca189bc50bfa7e6c></i></a></div><ul class="nav docs-sidenav collapse" id=id7905f06a5081e168ca189bc50bfa7e6c><li class="child level"><a href=/books/nlp-series/%E7%BB%8F%E5%85%B8%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/%E4%B8%BB%E9%A2%98%E6%A8%A1%E5%9E%8B/lda/>LDA</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddfb7018cf731626895026a6d041ba88d")' href=#iddfb7018cf731626895026a6d041ba88d aria-expanded=false aria-controls=iddfb7018cf731626895026a6d041ba88d aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida570824f3b4902d49201399419d0db9a")' href=#ida570824f3b4902d49201399419d0db9a aria-expanded=false aria-controls=ida570824f3b4902d49201399419d0db9a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>统计语言模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida570824f3b4902d49201399419d0db9a aria-expanded=false aria-controls=ida570824f3b4902d49201399419d0db9a><i class="fa-solid fa-angle-down" id=caret-ida570824f3b4902d49201399419d0db9a></i></a></div><ul class="nav docs-sidenav collapse show" id=ida570824f3b4902d49201399419d0db9a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc3aa303f8f409b260437ce2074c7e2b5")' href=#idc3aa303f8f409b260437ce2074c7e2b5 aria-expanded=false aria-controls=idc3aa303f8f409b260437ce2074c7e2b5 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/>BERT</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc3aa303f8f409b260437ce2074c7e2b5 aria-expanded=false aria-controls=idc3aa303f8f409b260437ce2074c7e2b5><i class="fa-solid fa-angle-right" id=caret-idc3aa303f8f409b260437ce2074c7e2b5></i></a></div><ul class="nav docs-sidenav collapse" id=idc3aa303f8f409b260437ce2074c7e2b5><li class="child level"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0/>目标函数</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/bert/%E8%BE%93%E5%85%A5%E8%A1%A8%E7%A4%BA/>输入表示</a></li></ul></div><li class="child level"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/word2vec/>Word2Vec</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E8%AF%8D%E8%A1%A8%E7%A4%BA/>词表示</a></li><li class="child level"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E5%9F%BA%E7%A1%80%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/>基础文本处理</a></li><li class="child level active"><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>统计语言模型</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9dfe9ec46207c62dbf1f936195ee8938")' href=#id9dfe9ec46207c62dbf1f936195ee8938 aria-expanded=false aria-controls=id9dfe9ec46207c62dbf1f936195ee8938 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E8%A1%8C%E4%B8%9A%E5%BA%94%E7%94%A8/>行业应用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9dfe9ec46207c62dbf1f936195ee8938 aria-expanded=false aria-controls=id9dfe9ec46207c62dbf1f936195ee8938><i class="fa-solid fa-angle-right" id=caret-id9dfe9ec46207c62dbf1f936195ee8938></i></a></div><ul class="nav docs-sidenav collapse" id=id9dfe9ec46207c62dbf1f936195ee8938><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3868228cc546aaf8f2451abfc9b99f78")' href=#id3868228cc546aaf8f2451abfc9b99f78 aria-expanded=false aria-controls=id3868228cc546aaf8f2451abfc9b99f78 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9590841b7a03cfbffef9ede07972b964")' href=#id9590841b7a03cfbffef9ede07972b964 aria-expanded=false aria-controls=id9590841b7a03cfbffef9ede07972b964 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbbdb8cc0057240e71f3ed75a2fcb99ee")' href=#idbbdb8cc0057240e71f3ed75a2fcb99ee aria-expanded=false aria-controls=idbbdb8cc0057240e71f3ed75a2fcb99ee aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id9e447d080edfa724921d9239ee35d211")' href=#id9e447d080edfa724921d9239ee35d211 aria-expanded=false aria-controls=id9e447d080edfa724921d9239ee35d211 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E8%AF%AD%E6%B3%95%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/>语法语义分析</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id9e447d080edfa724921d9239ee35d211 aria-expanded=false aria-controls=id9e447d080edfa724921d9239ee35d211><i class="fa-solid fa-angle-right" id=caret-id9e447d080edfa724921d9239ee35d211></i></a></div><ul class="nav docs-sidenav collapse" id=id9e447d080edfa724921d9239ee35d211><li class="child level"><a href=/books/nlp-series/%E8%AF%AD%E6%B3%95%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/%E5%91%BD%E5%90%8D%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/>命名实体识别</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4ea66a5b73ceace2adf38b69f6e43120")' href=#id4ea66a5b73ceace2adf38b69f6e43120 aria-expanded=false aria-controls=id4ea66a5b73ceace2adf38b69f6e43120 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbdc84e5d06a044b0af855cec3649ed02")' href=#idbdc84e5d06a044b0af855cec3649ed02 aria-expanded=false aria-controls=idbdc84e5d06a044b0af855cec3649ed02 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/nlp-series/%E4%B8%BB%E9%A2%98%E6%A8%A1%E5%9E%8B/>主题模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idbdc84e5d06a044b0af855cec3649ed02 aria-expanded=false aria-controls=idbdc84e5d06a044b0af855cec3649ed02><i class="fa-solid fa-angle-right" id=caret-idbdc84e5d06a044b0af855cec3649ed02></i></a></div><ul class="nav docs-sidenav collapse" id=idbdc84e5d06a044b0af855cec3649ed02><li class="child level"><a href=/books/nlp-series/%E4%B8%BB%E9%A2%98%E6%A8%A1%E5%9E%8B/lda/>LDA</a></li></ul></div></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents><ul><li><a href=#统计语言模型>统计语言模型</a><ul><li><a href=#n-gram-语言模型>N-gram 语言模型</a></li><li><a href=#神经网络语言模型>神经网络语言模型</a></li><li><a href=#循环神经网络语言模型>循环神经网络语言模型</a></li></ul></li><li><a href=#n-pos-模型context--cw_t-n1cw_t-n2dotscw_t-1>N-Pos 模型(Context = $c(w_{t-n+1}),c(w_{t-n+2}),\dots,c(w_{t-1})$)</a></li><li><a href=#基于决策树的语言模型>基于决策树的语言模型</a></li><li><a href=#最大熵模型>最大熵模型</a></li><li><a href=#自适应语言模型>自适应语言模型</a></li><li><a href=#skip-gram>Skip-Gram</a><ul><li><a href=#hierarchical-softmax>Hierarchical Softmax</a></li></ul></li><li><a href=#nnlm>NNLM</a></li></ul></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>统计语言模型</h1><div class=article-style><ul><li><a href=https://zhuanlan.zhihu.com/p/28323093 target=_blank rel=noopener>统计语言模型浅谈</a>从属于笔者的<a href=https://github.com/wx-chevalier/DataScience-And-MachineLearning-Handbook-For-Coders target=_blank rel=noopener>程序猿的数据科学与机器学习实战手册</a>，其他相关阅读<a href=https://zhuanlan.zhihu.com/p/24536868 target=_blank rel=noopener>Python 语法速览与机器学习开发环境搭建</a>，<a href=https://zhuanlan.zhihu.com/p/24770526 target=_blank rel=noopener>Scikit-Learn 备忘录</a>，<a href=https://zhuanlan.zhihu.com/p/24961011 target=_blank rel=noopener>基于 Gensim 的 Word2Vec 实践</a>。</li></ul><h2 id=统计语言模型>统计语言模型</h2><p>统计语言模型(Statistical Language Model)即是用来描述词、语句乃至于整个文档这些不同的语法单元的概率分布的模型，能够用于衡量某句话或者词序列是否符合所处语言环境下人们日常的行文说话方式。统计语言模型对于复杂的大规模自然语言处理应用有着非常重要的价值，它能够有助于提取出自然语言中的内在规律从而提高语音识别、机器翻译、文档分类、光学字符识别等自然语言应用的表现。好的统计语言模型需要依赖大量的训练数据，在上世纪七八十年代，基本上模型的表现优劣往往会取决于该领域数据的丰富程度。IBM 曾进行过一次信息检索评测，发现二元语法模型(Bi-gram)需要数以亿计的词汇才能达到最优表现，而三元语法模型(TriGram)则需要数十亿级别的词汇才能达成饱和。本世纪初，最流行的统计语言模型当属 N-gram，其属于典型的基于稀疏表示(Sparse Representation)的语言模型；近年来随着深度学习的爆发与崛起，以词向量(WordEmbedding)为代表的分布式表示(Distributed Representation)的语言模型取得了更好的效果，并且深刻地影响了自然语言处理领域的其他模型与应用的变革。除此之外，Ronald Rosenfeld[7] 还提到了基于决策树的语言模型(Decision Tree Models)、最大熵模型以及自适应语言模型(Adaptive Models)等。
统计语言模型可以用来表述词汇序列的统计特性，譬如学习序列中单词的联合分布概率函数。如果我们用$w_1$ 到 $w_t$ 依次表示这句话中的各个词，那么该句式的出现概率可以简单表示为：</p><p>$$
\begin{equation}
\begin{split}
P(w_1,&mldr;,w_t) = \prod_{i=1}^{t}P(w_i|w_1,&mldr;,w_{i-1}) = \prod_{i=1}^{t}P(w_i|Context) \
P(w_1, w_2, …, w_t) = P(w_1) \times P(w_2 | w_1) \times P(w_3 | w_1, w_2) \times … \times P(w_t | w_1, w_2, …, w_{t-1})
\end{split}
\end{equation}
$$</p><p>统计语言模型训练目标也可以是采用极大似然估计来求取最大化的对数似然，公式为$\frac{1}{T}\sum^T_{t=1}\sum_{-c \le j\le c,j \ne0}log p(w_{t+j}|w_t)$。其中$c$是训练上下文的大小。譬如$c$取值为 5 的情况下，一次就拿 5 个连续的词语进行训练。一般来说$c$越大，效果越好，但是花费的时间也会越多。$p(w_{t+j}|w_t)$表示$w_t$条件下出现$w_{t+j}$的概率。常见的对于某个语言模型度量的标准即是其困惑度(Perplexity)，需要注意的是这里的困惑度与信息论中的困惑度并不是相同的含义。这里的困惑度定义公式参考 Stolcke[11]，为$exp(-logP(w_t)/|\vec{w}|)$，即是$1/P(w_t|w_1^{t-1})$的几何平均数。最小化困惑度的值即是最大化每个单词的概率，不过困惑度的值严重依赖于词表以及具体使用的单词，因此其常常被用作评判其他因素相同的两个系统而不是通用的绝对性的度量参考。</p><h3 id=n-gram-语言模型>N-gram 语言模型</h3><p>参照上文的描述，在统计学语言模型中我们致力于计算某个词序列$E = w_1^T$的出现概率，可以形式化表示为：</p><p>$$
\begin{equation}
P(E) = P(|E| = T,w_1^T)
\end{equation}
$$</p><p>上式中我们求取概率的目标词序列$E$的长度为$T$，序列中第一个词为$w_1$，第二个词为$w_2$，等等，直到最后一个词为$w_T$。上式非常直观易懂，不过在真实环境下却是不可行的，因为序列的长度$T$是未知的，并且词表中词的组合方式也是非常庞大的数目，无法直接求得。为了寻找实际可行的简化模型，我们可以将整个词序列的联合概率复写为单个词或者单个词对的概率连乘。即上述公式可以复写为$P(w_1,w_2,w_3)=P(w_1)P(w_2|w_1)P(w_3|w_1,w_2)$，推导到通用词序列，我们可以得到如下形式化表示：</p><p>$$
\begin{equation}
P(E) = \prod_{t=1}^{T+1}P(w_t|w_1^{t-1})
\end{equation}
$$</p><p>此时我们已经将整个词序列的联合概率分解为近似地求 $P(w_t | w_1, w_2, …, w_{t-1})$。而这里要讨论的 N-gram 模型就是用 $P(w_t | w_{t-n+1}, …, w_{t-1})$ 近似表示前者。根据$N$的取值不同我们又可以分为一元语言模型(Uni-gram)、二元语言模型(Bi-gram)、三元语言模型(Tri-gram)等等类推。该模型在中文中被称为汉语语言模型(CLM, Chinese Language Model)，即在需要把代表字母或笔画的数字，或连续无空格的拼音、笔画，转换成汉字串(即句子)时，利用上下文中相邻词间的搭配信息，计算出最大概率的句子；而不需要用户手动选择，避开了许多汉字对应一个相同的拼音(或笔画串、数字串)的重码问题。
一元语言模型又称为上下文无关语言模型，是一种简单易实现但实际应用价值有限的统计语言模型。该模型不考虑该词所对应的上下文环境，仅考虑当前词本身的概率，即是 N-gram 模型中当$N=1$的特殊情形。</p><p>$$
\begin{equation}
p(w_t|Context)=p(w_t)=\frac{N_{w_t}}{N}
\end{equation}
$$</p><p>N-gram 语言模型也存在一些问题，这种模型无法建模出词之间的相似度，有时候两个具有某种相似性的词，如果一个词经常出现在某段词之后，那么也许另一个词出现在这段词后面的概率也比较大。比如“白色的汽车”经常出现，那完全可以认为“白色的轿车”也可能经常出现。N-gram 语言模型无法建模更远的关系，语料的不足使得无法训练更高阶的语言模型。大部分研究或工作都是使用 Tri-gram，就算使用高阶的模型，其统计 到的概率可信度就大打折扣，还有一些比较小的问题采用 Bi-gram。训练语料里面有些 n 元组没有出现过，其对应的条件概率就是 0,导致计算一整句话的概率为 0。最简单的计算词出现概率的方法就是在准备好的训练集中计算固定长度的词序列的出现次数，然后除以其所在上下文的次数；譬如以 Bi-gram 为例，我们有下面三条训练数据：</p><ul><li>i am from jiangsu.</li><li>i study at nanjing university.</li><li>my mother is from yancheng.</li></ul><p>我们可以推导出词 am, study 分别相对于 i 的后验概率：</p><p>$$
\begin{equation}
\begin{split}
p(w_2={am} | w_1 = i) = \frac{w_1=i,w_2=am}{c(w_1 = 1)} = \frac{1}{2} = 0.5 \
p(w_2={study} | w_1 = i) = \frac{w_1=i,w_2=study}{c(w_1 = 1)} = \frac{1}{2} = 0.5
\end{split}
\end{equation}
$$</p><p>上述的计算过程可以推导为如下的泛化公式：</p><p>$$
\begin{equation}
P_{ML}(w_t|w_1^{t-1}) = \frac{c_{prefix} (w_1^t) }{c_{prefix} (w_1^{t-1}) }
\end{equation}
$$</p><p>这里$c_{prefix}(\cdot)$表示指定字符串在训练集中出现的次数，这种方法也就是所谓的最大似然估计(Maximum Likelihood Estimation)；该方法十分简单易用，同时还能保证较好地利用训练集中的统计特性。根据这个方法我们同样可以得出 Tri-gram 模型似然计算公式如下：</p><p>$$
\begin{equation}
P(w_t | w_{t-2}, w_{t-1}) =
\frac
{count(w_{t-2}w_{t-1}w_t)}
{count(w_{t-2}w_{t-1})}
\end{equation}
$$</p><p>我们将 N-gram 模型中的参数记作$\theta$，其包含了给定前$n-1$个词时第$n$个词出现的概率，形式化表示为：</p><p>$$
\begin{equation}
\begin{split}
\theta_{w_{t-n+1}^t} = P_{ML}(w_t|w_{t-n+1}^{t-1})=\frac{c(w_{t-n+1}^t)}{c(w_{t-n+1}^{t-1})}
\end{split}
\end{equation}
$$</p><p>朴素的 N-gram 模型中对于训练集中尚未出现过的词序列会默认其概率为零，因为我们的模型是多个词概率的连乘，最终会导致整个句式的概率为零。我们可以通过所谓的平滑技巧来解决这个问题，即组合对于不同的$N$取值来计算平均概率。譬如我们可以组合 Uni-gram 模型与 Bi-gram 模型：</p><p>$$
\begin{equation}
\begin{split}
P(w_t|w_{t-1}) = (1-\alpha)P_{ML}(w_t|w_{t-1}) + \alpha P_{ML}(w_t)
\end{split}
\end{equation}
$$</p><p>其中$\alpha$表示分配给 Uni-gram 求得的概率的比重，如果我们设置了$\alpha > 0$，那么词表中的任何词都会被赋予一定的概率。这种方法即是所谓的插入平滑(Interpolation)，被应用在了很多低频稀疏的模型中以保证其鲁棒性。当然，我们也可以引入更多的$N$的不同的取值，整个组合概率递归定义如下：</p><p>$$
\begin{equation}
\begin{split}
P(w_t|w_{t-m+1}^{t-1}) = (1 - \alpha_m)P_{ML}(w_t|w_{t-m+1}^{t-1}) + \alpha_mP(w_t|w_{t-m+2}^{t-1})
\end{split}
\end{equation}
$$</p><p>[Stanley et al., 1996] 中还介绍了很多其他复杂但精致的平滑方法，譬如基于上下文的平滑因子计算(Context-dependent Smoothing Coefficients)，其并没有设置固定的$\alpha$值，而是动态地设置为$\alpha_{w_{t-m+1}^{t-1}}$。这就保证了模型能够在有较多的训练样例时将更多的比重分配给高阶的 N-gram 模型，而在训练样例较少时将更多的比重分配给低阶的 N-gram 模型。目前公认的使用最为广泛也最有效的平滑方式也是 [Stanley et al., 1996] 中提出的 Modified Kneser-Ney smoothing( MKN ) 模型，其综合使用了上下文平滑因子计算、打折以及低阶分布修正等手段来保证较准确地概率估计。</p><h3 id=神经网络语言模型>神经网络语言模型</h3><p>顾名思义，神经网络语言模型(Neural Network Language Model)即是基于神经网络的语言模型，其能够利用神经网络在非线性拟合方面的能力推导出词汇或者文本的分布式表示。在神经网络语言模型中某个单词的分布式表示会被看做激活神经元的向量空间，其区别于所谓的局部表示，即每次仅有一个神经元被激活。标准的神经网络语言模型架构如下图所示：</p><p>神经网络语言模型中最著名的当属 Bengio[10] 中提出的概率前馈神经网络语言模型(Probabilistic Feedforward Neural Network Language Model)，它包含了输入(Input)、投影(Projection)、隐藏(Hidden)以及输出(Output)这四层。在输入层中，会从$V$个单词中挑选出$N$个单词以下标进行编码，其中$V$是整个词表的大小。然后输入层会通过$N \times D$这个共享的投影矩阵投射到投影层$P$；由于同一时刻仅有$N$个输入值处于激活状态，因此这个计算压力还不是很大。NNLM 模型真正的计算压力在于投影层与隐层之间的转换，譬如我们选定$N = 10$，那么投影层$P$的维度在 500 到 2000 之间，而隐层$H$的维度在于$500$到$1000$之间。同时，隐层$H$还负责计算词表中所有单词的概率分布，因此输出层的维度也是$V$。综上所述，整个模型的训练复杂度为：</p><p>$$
Q = N \times D + N \times D \times H + H \times V
$$</p><p>其训练集为某个巨大但固定的词汇集合$V$ 中的单词序列$w_1&mldr;w_t$；其目标函数为学习到一个好的模型$f(w_t,w_{t-1},\dots,w_{t-n+2},w_{t-n+1})=p(w_t|w_1^{t-1})$，约束为$f(w_t,w_{t-1},\dots,w_{t-n+2},w_{t-n+1}) > 0$并且$\Sigma_{i=1}^{|V|} f(i,w_{t-1},\dots,w_{t-n+2},w_{t-n+1}) = 1$。每个输入词都被映射为一个向量，该映射用$C$表示，所以$C(w_{t-1})$即为$w_{t-1}$的词向量。定义$g$为一个前馈或者递归神经网络，其输出是一个向量，向量中的第$i$个元素表示概率$p(w_t=i|w_1^{t-1})$。训练的目标依然是最大似然加正则项，即：</p><p>$$
Max Likelihood = max \frac{1}{T}\sum_tlogf(w_t,w_{t-1},\dots,w_{t-n+2},w_{t-n+1};\theta) + R(\theta)
$$</p><p>其中$\theta$为参数，$R(\theta)$为正则项，输出层采用 sofamax 函数：</p><p>$$
p(w_t|w_{t-1},\dots,w_{t-n+2},w_{t-n+1})=\frac{e^{y_{w_t}}}{\sum_ie^{y_i}}
$$</p><p>其中$y_i$是每个输出词$i$的未归一化$log$概率，计算公式为$y=b+Wx+Utanh(d+Hx)$。其中$b,W,U,d,H$都是参数，$x$为输入，需要注意的是，一般的神经网络输入是不需要优化，而在这里，$x=(C(w_{t-1}),C(w_{t-2}),\dots,C(w_{t-n+1}))$，也是需要优化的参数。在图中，如果下层原始输入$x$不直接连到输出的话，可以令$b=0$，$W=0$。如果采用随机梯度算法的话，梯度的更新规则为：</p><p>$$
\theta + \epsilon \frac{\partial log p(w_t | w_{t-1},\dots,w_{t-n+2},w_{t-n+1})}{\partial \theta} \to \theta
$$</p><p>其中$\epsilon$为学习速率，需要注意的是，一般神经网络的输入层只是一个输入值，而在这里，输入层$x$也是参数(存在$C$中)，也是需要优化的。优化结束之后，词向量有了，语言模型也有了。这个 Softmax 模型使得概率取值为(0,1)，因此不会出现概率为 0 的情况，也就是自带平滑，无需传统 N-gram 模型中那些复杂的平滑算法。Bengio 在 APNews 数据集上做的对比实验也表明他的模型效果比精心设计平滑算法的普通 N-gram 算法要好 10%到 20%。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=http://7xlgth.com1.z0.glb.clouddn.com/2288BF90-FD22-493A-B703-C5AB32726FF2.png alt loading=lazy data-zoomable></div></div></figure></p><h3 id=循环神经网络语言模型>循环神经网络语言模型</h3><p>好的语言模型应当至少捕获自然语言的两个特征：语法特性与语义特性。为了保证语法的正确性，我们往往只需要考虑生成词的前置上下文；这也就意味着语法特性往往是属于局部特性。而语义的一致性则复杂了许多，我们需要考虑大量的乃至于整个文档语料集的上下文信息来获取正确的全局语义。神经网络语言模型相较于经典的 N-gram 模型具有更强大的表现力与更好的泛化能力，不过传统的 N-gram 语言模型与 [Bengio et al., 2003] 中提出的神经网络语言模型都不能有效地捕获全局语义信息。为了解决这个问题，[Mikolov et al., 2010; 2011] 中提出的基于循环神经网络(Recurrent Neural Network, RNN)的语言模型使用了隐状态来记录词序的历史信息，其能够捕获语言中的长程依赖。在自然语言中，往往在句式中相隔较远的两个词却具备一定的语法与语义关联，譬如<code>He doesn't have very much confidence in himself</code> 与 <code>She doesn't have very much confidence in herself</code> 这两句话中的<code>&lt;He, himself></code>与<code>&lt;She, herself></code>这两个词对，尽管句子中间的词可能会发生变化，但是这两种词对中两个词之间的关联却是固定的。这种依赖也不仅仅出现在英语中，在汉语、俄罗斯语中也都存在有大量此类型的词对组合。而另一种长期依赖(Long-term Dependencies)的典型就是所谓的选择限制(Selectional Preferences);简而言之，选择限制主要基于已知的某人会去做某事这样的信息。譬如<code>我要用叉子吃沙拉</code>与<code>我要和我的朋友一起吃沙拉</code>这两句话中，<code>叉子</code>指代的是某种工具，而<code>我的朋友</code>则是伴侣的意思。如果有人说<code>我要用双肩背包来吃沙拉</code>就觉得很奇怪了，<code>双肩背包</code>并不是工具也不是伴侣；如果我们破坏了这种选择限制就会生成大量的无意义句子。最后，某个句式或者文档往往都会归属于某个主题下，如果我们在某个技术主题的文档中突然发现了某个关于体育的句子，肯定会觉得很奇怪，这也就是所谓的破坏了主题一致性。</p><p>[Eriguchi et al., 2016] 中介绍的循环神经网络在机器翻译上的应用就很值得借鉴，它能够有效地处理这种所谓长期依赖的问题。它的思想精髓在于计算新的隐状态$\vec{h}$时引入某个之前的隐状态$\vec{h_{t-1}}$，形式化表述如下：</p><p>$$
\begin{equation}
\vec{h}<em>t =
\begin{cases}
tanh(W</em>{xh}\vec{x}<em>t + W</em>{hh}\vec{h}_{t-1} + \vec{b}_h), & \text{t $\geq1,$} \
0, & \text{otherwises}
\end{cases}
\end{equation}
$$</p><p>我们可以看出，在$t \geq 1$时其与标准神经网络中隐层计算公式的区别在于多了一个连接$W_{hh}\vec{h}_{t-1}$，该连接源于前一个时间点的隐状态。在对于 RNN 有了基本的了解之后，我们就可以将其直接引入语言模型的构建中，即对于上文讨论的神经网络语言模型添加新的循环连接：</p><p>$$
\begin{equation}
\begin{split}
\vec{m}<em>t = M</em>{\cdot,w_{t-1}} \
\vec{h}<em>t =
\begin{cases}
tanh(W</em>{xh}\vec{x}<em>t + W</em>{hh}\vec{h}_{t-1} + \vec{b}_h), & \text{t $\geq1,$} \
0, & \text{otherwises}
\end{cases} \
\vec{p}<em>t = softmax(W</em>{hs}\vec{h}_t + b_s)
\end{split}
\end{equation}
$$</p><p>注意，与上文介绍的前馈神经网络语言模型相对，循环神经网络语言模型中只是将前一个词而不是前两个词作为输入；这是因为我们假设$w_{t-2}$的信息已经包含在了隐状态$\vec{h_{t-1}}$中，因此不需要重复代入。</p><h4 id=平滑法>平滑法</h4><p>方法一为平滑法。最简单的方法是把每个 n 元组的出现次数加 1，那么原来出现 k 次的某个 n 元组就会记为 k+1 次，原来出现 0 次的 n 元组就会记为出现 1 次。这种也称为 Laplace 平滑。当然还有很多更复杂的其他平滑方法，其本质都 是将模型变为贝叶斯模型，通过引入先验分布打破似然一统天下的局面。而引入 先验方法的不同也就产生了很多不同的平滑方法。</p><h4 id=回退法>回退法</h4><p>方法二是回退法。有点像决策树中的后剪枝方法，即如果 n 元的概率不到，那就往上回退一步，用 n-1 元的概率乘上一个权重来模拟。</p><h2 id=n-pos-模型context--cw_t-n1cw_t-n2dotscw_t-1>N-Pos 模型(Context = $c(w_{t-n+1}),c(w_{t-n+2}),\dots,c(w_{t-1})$)</h2><p>严格来说 N-Pos 只是 N-Gram 的一种衍生模型。N-Gram 模型假定第 t 个词出现概率条件依赖它前 N-1 个词，而现实中很多词出现的概率是条件依赖于它前面词的语法功能的。N-Pos 模型就是基于这种假设的模型，它将词按照其语法功能进行分类，由这些词类决定下一个词出现的概率。这样的词类称为词性 (Part-of-Speech，简称为 POS)。N-Pos 模型中的每个词的条件概率表示为：</p><p>$p(s)=p(w^T_1)=p(w_1,w_2,\dots,w_T)= \ \Pi^T_{t=1}p(w_t|c(w_{t-n+1}),c(w_{t-n+2}),\dots,c(w_{t-1}))$</p><p>$c$为类别映射函数，即把$T$个词映射到$K$个类别($1 \le K \le T$)，实际上 N-Pos 使用了一种聚类的思想，使得 N-Gram 中$w_{t-n+1},w_{t-n+2},\dots,w_{t-1}$中的可能为$T^{n-1}$减少为$c(w_{t-n+1}),c(w_{t-n+2}),\dots,c(w_{t-1})$中的$K^{N-1}$，同时这种减少还采用了语义有意义的类别。</p><h2 id=基于决策树的语言模型>基于决策树的语言模型</h2><p>上面提到的上下文无关语言模型、n-gram 语言模型、n-pos 语言模型等等，都可以以统计决策树的形式表示出来。而统计决策树中每个结点的决策规则是一 个上下文相关的问题。这些问题可以是“前一个词时 w 吗？”“前一个词属于类别 C,吗？”。当然基于决策树的语言模型还可以更灵活一些，可以是一些“前一个词是动词?”，“后面有介词吗?”之类的复杂语法语义问题。基于决策树的语言模型优点是：分布数不是预先固定好的，而是根据训练预 料库中的实际情况确定，更为灵活。缺点是：构造统计决策树的问题很困难，且时空开销很大。</p><h2 id=最大熵模型>最大熵模型</h2><p>最大熵原理是 E.T. Jayness 于上世纪 50 年代提出的，其基本思想是：对一个 随机事件的概率分布进行预测时，在满足全部已知的条件下对未知的情况不做任何主观假设。从信息论的角度来说就是：在只掌握关于未知分布的部分知识时,应当选取符合这些知识但又能使得熵最大的概率分布。</p><p>$p(w|Context)=\frac{e^{\Sigma_i \lambda_i f_i(context,w)}}{Z(Context)}$</p><h2 id=自适应语言模型>自适应语言模型</h2><p>前面的模型概率分布都是预先从训练语料库中估算好的，属于静态语言模型。而自适应语言模型类似是 Online Learning 的过程，即根据少量新数据动态调整模型，属于动态模型。在自然语言中，经常出现这样现象：某些在文本中通常很少出现的词，在某一局部文本中突然大量地出现。能够根据词在局部文本中出现的 情况动态地调整语言模型中的概率分布数据的语言模型成为动态、自适应或者基于缓存的语言模型。通常的做法是将静态模型与动态模型通过参数融合到一起，这种混合模型可以有效地避免数据稀疏的问题。还有一种主题相关的自适应语言模型，直观的例子为：专门针对体育相关内 容训练一个语言模型，同时保留所有语料训练的整体语言模型，当新来的数据属 于体育类别时，其应该使用的模型就是体育相关主题模型和整体语言模型相融合 的混合模型。</p><h2 id=skip-gram>Skip-Gram</h2><ul><li><a href=http://homepages.inf.ed.ac.uk/ballison/pdf/lrec_skipgrams.pdf target=_blank rel=noopener>A CloserLook at Skip-gram Modelling</a></li></ul><p>根据论文中的定义可知道，常说的<code>k-skip-n-grams</code>在句子$w_1 \dots w_m$可以表示为：</p><p>${ w_{i_1},w_{i_2}, \dots w_{i_n} | \sum_{j=1}^{n}i_j - i_{j-1} &lt; k }$</p><p>Skip-gram 實際上的定義很簡單，就是允许跳几个字的意思… 依照原論文裡的定義，這個句子：</p><blockquote><p>Insurgents killed in ongoing fighting.</p></blockquote><pre><code>在 bi-grams 的時候是拆成：{    `insurgents killed, killed in, in ongoing, ongoing fighting`    }。

在 2-skip-bi-grams 的時候拆成：{    `insurgents killed, insurgents in, insurgents ongoing, killed in, killed ongoing, killed fighting, in ongoing, in fighting, ongoing fighting`    }。

在 tri-grams 的時候是：{    `insurgents killed in, killed in ongoing, in ongoing fighting`    }。

在 2-skip-tri-grams 的時候是：{    `insurgents killed in, insurgents killed ongoing, insurgents killed fighting, insurgentsin ongoing, insurgents in fighting, insurgents ongoing fighting, killed in ongoing, killed in fighting, killed ongoing fighting, in ongoing fighting`    }。
</code></pre><p>对于上文的语言模型的目标公式而言，Skip-Gram 模型中的$p(w_{t+j} | w_t)$公式采用的是 Softmax 函数：</p><p>$p(w_o | w_I) = \frac{exp(v&rsquo;^T_{w_o}v_{w_I})}{\sum^W_{w=1}exp(v&rsquo;^T_wv_{w_I})}$</p><p>其中$p(w_o | w_I)$表示在词语$w_I$条件下出现$w_o$的概率，$v_{w_o}$表示$w_o$代表的词向量，而$v_w$代表词汇表中所有词语的向量。$W$是词汇表的长度。不过该公式不太切实际，因为$W$太大了，通常是$10^5–10^7$。</p><h3 id=hierarchical-softmax>Hierarchical Softmax</h3><p>这种是原始 skip-gram 模型的变形。我们假设有这么一棵二叉树，每个叶子节点对应词汇表的词语，一一对应。所以我们可以通过这棵树来找到一条路径来找到某个词语。比如我们可以对词汇表，根据词频，建立一棵 huffman 树。每个词语都会对应一个 huffman 编码，huffman 编码就反映了这个词语在 huffman 树的路径。对于每个节点，都会定义孩子节点概率，左节点跟右节点的概率不同的，具体跟输入有关。譬如，待训练的词组中存在一句：“我爱中国”。</p><p>输入：爱</p><p>预测：我</p><p>假设，“我”的 Huffman 编码是 1101，那么就在 Huffman 树上从根节点沿着往下走，每次走的时候，我们会根据当前节点和“爱”的向量算出(具体怎么算先不管)，走到下一个节点的概率是多少。于是，我们得到一连串的概率，我们的目标就是使得这些概率的连乘值(联合概率)最大。</p><p>$p(w|w_I)=\Pi_{j=1}^{L(w)-1}\sigma([n(w,j+1)=ch(n(w,j))]*v&rsquo;^T_{n(w,j)}v_{w_I})$</p><ul><li>$L(w)$为词语$w$在二叉树路径中的长度</li><li>$\sigma(*)$即为 Sigmoid 函数</li><li>$n(w,j+1)$即指$w$在二叉树的第$j+1$个节点</li><li>$ch(n(w,j))$表示定义了任意一个固定的节点，要么是左，要么是右。合起来的意思是左右节点的正负号是不一致的，可以是左负右正，可以是左正右负。</li></ul><p>而对于单一的选择左右节点的概率：</p><p>$\sigma(x)=\frac{1}{1+e^{-x}} \ \sigma(-x)=\frac{1}{1+e^{x}} \ \sigma(x) + \sigma(-x) = 1 $</p><p>显然，我们计算这个联合概率的复杂度取决了词语在 huffman 树的路径长度，显然她比 W 小得多了。另外，由于按词频建立的 huffman 树，词频高的，huffman 编码短，计算起来就比较快。词频高的需要计算概率的次数肯定多，而 huffman 让高频词计算概率的速度比低频词的快。这也是很犀利的一个设计。</p><h2 id=nnlm>NNLM</h2><p>NNLM 是 Neural Network Language Model 的缩写，即神经网络语言模型。神经网络语言模型方面最值得阅读的文章是 Deep Learning 二号任人物 Bengio 的《A Neural Probabilistic Language Model》，JMLR 2003。NNLM 米用的是 Distributed Representation，即每个词被表示为一个浮点向量。其模型图如下：</p><p>目标是要学到一个好的模型：</p><p>$f(w_t,w_{t-1},\dots,w_{t-n+2},w_{t-n+1})=p(w_t|w_1^{t-1})$</p><p>需要满足的约束为：</p><p>上图中，</p></div><div class=article-widget><div class="container-xl row post-nav"><div class="col-6 post-nav-item"><div class=meta-nav>上一页</div><a href=/books/nlp-series/%E7%BB%9F%E8%AE%A1%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/%E5%9F%BA%E7%A1%80%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/ rel=next>基础文本处理</a></div></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>