<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=google-site-verification content="google69a5cccb61297807"><meta name=baidu-site-verification content="cqmZHEleVh"><meta name=description content="Next-gen Tech Edu"><link rel=alternate hreflang=zh href=https://ng-tech.icu/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/><meta name=theme-color content="#0a55a7"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@7.4.5/themes/satellite-min.css integrity="sha256-TehzF/2QvNKhGQrrNpoOb2Ck4iGZ1J/DI4pkd2oUsBc=" crossorigin=anonymous><link rel=stylesheet href=/css/wowchemy.fab3cd1900ae35687457073b2d518207.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-40NYXJ8823"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-40NYXJ8823")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?56df1177bce405601b0ecdd7208f75c6",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=alternate href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/index.xml type=application/rss+xml title="Next-gen Tech Edu"><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0f7d075e895d6f5f1f5fdbc1e33dc138_10087_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ng-tech.icu/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@wx-chevalier"><meta property="twitter:creator" content="@wx-chevalier"><meta property="og:site_name" content="Next-gen Tech Edu"><meta property="og:url" content="https://ng-tech.icu/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/"><meta property="og:title" content="并发控制 | Next-gen Tech Edu"><meta property="og:description" content="Next-gen Tech Edu"><meta property="og:image" content="https://ng-tech.icu/media/sharing.png"><meta property="twitter:image" content="https://ng-tech.icu/media/sharing.png"><meta property="og:locale" content="zh"><title>并发控制 | Next-gen Tech Edu</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=08e2b719494221d31bea8d2dcd5234ca><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden=true></i></button>
<script src=/js/wowchemy-init.min.14a0ed61c6dbd594b9c75193b25be179.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class="col-6 search-title"><p>搜索</p></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=关闭><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div><div id=search-common-queries></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=切换导航>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Next-gen Tech Edu</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/books-gallery><span>笔记（万篇）</span></a></li><li class=nav-item><a class=nav-link href=/#knowledge-map><span>知识图谱</span></a></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>实验室</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/galaxy-home/gh-craft><span>Craft 方块世界</span></a>
<a class=dropdown-item href=/galaxy-home/glossary-cards><span>3D 知识卡牌</span></a></div></li><style>.dropdown-item{display:inline-flex}</style><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>其他阅读渠道</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230218234451.png></img><span>知乎</span></a>
<a class=dropdown-item href=https://segmentfault.com/blog/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113556.png></img><span>SegmentFault</span></a>
<a class=dropdown-item href=https://zhuanlan.zhihu.com/wxyyxc1992><img style=width:16px;height:16px;display:inline-block;margin-right:8px src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230219113519.png></img><span>掘金</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=搜索><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/wx-chevalier aria-label=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a></li><div></div><style>@media only screen and (max-width:600px){.jimmysong-template{display:none!important}}</style><li class=jimmysong-template style=color:#fff;font-size:12px><a href=https://jimmysong.io style=color:#fff>By Jimmy Song's Template</a></li></ul></div></nav></header></div><div class=page-body><link rel=stylesheet href=//unpkg.com/heti/umd/heti.min.css><div class="container-xl docs"><div class="row flex-xl-nowrap"><div class=docs-sidebar><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">01.数据库基础</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>搜索...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li style=display:inline-flex><a style=cursor:pointer onclick=window.history.back()><i class="fas fa-arrow-left pr-1"></i>
Back</a>
<span>|</span>
<a href=/books/><i class="fa-solid fa-house" style=margin-right:4px></i>
Books</a></li></ul><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id512d4d7e5c1407b7d64ef4a22283903c")' href=#id512d4d7e5c1407b7d64ef4a22283903c aria-expanded=false aria-controls=id512d4d7e5c1407b7d64ef4a22283903c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/>Database-Notes</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id512d4d7e5c1407b7d64ef4a22283903c aria-expanded=false aria-controls=id512d4d7e5c1407b7d64ef4a22283903c><i class="fa-solid fa-angle-down" id=caret-id512d4d7e5c1407b7d64ef4a22283903c></i></a></div><ul class="nav docs-sidenav collapse show" id=id512d4d7e5c1407b7d64ef4a22283903c><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5452a8e38a0fa07cb46c0a920364a3f6")' href=#id5452a8e38a0fa07cb46c0a920364a3f6 aria-expanded=false aria-controls=id5452a8e38a0fa07cb46c0a920364a3f6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/>01.数据库基础</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id5452a8e38a0fa07cb46c0a920364a3f6 aria-expanded=false aria-controls=id5452a8e38a0fa07cb46c0a920364a3f6><i class="fa-solid fa-angle-down" id=caret-id5452a8e38a0fa07cb46c0a920364a3f6></i></a></div><ul class="nav docs-sidenav collapse show" id=id5452a8e38a0fa07cb46c0a920364a3f6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id72f48d40b5fdc8fa10c8b6c5f59ceeb0")' href=#id72f48d40b5fdc8fa10c8b6c5f59ceeb0 aria-expanded=false aria-controls=id72f48d40b5fdc8fa10c8b6c5f59ceeb0 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1d83bff6232101a42487839d640a5d6a")' href=#id1d83bff6232101a42487839d640a5d6a aria-expanded=false aria-controls=id1d83bff6232101a42487839d640a5d6a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link active" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/>并发控制</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1d83bff6232101a42487839d640a5d6a aria-expanded=false aria-controls=id1d83bff6232101a42487839d640a5d6a><i class="fa-solid fa-angle-right" id=caret-id1d83bff6232101a42487839d640a5d6a></i></a></div><ul class="nav docs-sidenav collapse show" id=id1d83bff6232101a42487839d640a5d6a><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida43ea81b306141dbaea3b8c71580a67c")' href=#ida43ea81b306141dbaea3b8c71580a67c aria-expanded=false aria-controls=ida43ea81b306141dbaea3b8c71580a67c aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id34ac6043d296c6aa06f4a85bfeffcfd1")' href=#id34ac6043d296c6aa06f4a85bfeffcfd1 aria-expanded=false aria-controls=id34ac6043d296c6aa06f4a85bfeffcfd1 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/>隔离级别</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id34ac6043d296c6aa06f4a85bfeffcfd1 aria-expanded=false aria-controls=id34ac6043d296c6aa06f4a85bfeffcfd1><i class="fa-solid fa-angle-right" id=caret-id34ac6043d296c6aa06f4a85bfeffcfd1></i></a></div><ul class="nav docs-sidenav collapse" id=id34ac6043d296c6aa06f4a85bfeffcfd1><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/01.%E8%AF%BB%E6%9C%AA%E6%8F%90%E4%BA%A4/>01.读未提交</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/02.%E8%AF%BB%E5%B7%B2%E6%8F%90%E4%BA%A4/>02.读已提交</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/03.0.%E5%BF%AB%E7%85%A7%E9%9A%94%E7%A6%BB%E4%B8%8E%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB/>03.0.快照隔离与可重复读</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/03.1.%E5%86%99%E5%85%A5%E5%81%8F%E5%B7%AE%E4%B8%8E%E5%B9%BB%E8%AF%BB/>03.1.写入偏差与幻读</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/04.%E9%98%B2%E6%AD%A2%E4%B8%A2%E5%A4%B1%E6%9B%B4%E6%96%B0/>04.防止丢失更新</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/05.%E5%8F%AF%E5%BA%8F%E5%88%97%E5%8C%96/>05.可序列化</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idec21fff7e9eb6c49864bdcc42d0319b4")' href=#idec21fff7e9eb6c49864bdcc42d0319b4 aria-expanded=false aria-controls=idec21fff7e9eb6c49864bdcc42d0319b4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E4%BA%8B%E5%8A%A1%E7%89%B9%E6%80%A7/>事务特性</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idec21fff7e9eb6c49864bdcc42d0319b4 aria-expanded=false aria-controls=idec21fff7e9eb6c49864bdcc42d0319b4><i class="fa-solid fa-angle-right" id=caret-idec21fff7e9eb6c49864bdcc42d0319b4></i></a></div><ul class="nav docs-sidenav collapse" id=idec21fff7e9eb6c49864bdcc42d0319b4><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/%E4%BA%8B%E5%8A%A1%E7%89%B9%E6%80%A7/acid-%E7%89%B9%E6%80%A7%E8%A7%A3%E6%9E%90/>ACID 特性解析</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc49909cf7e9bb99ca33f1798bd89b964")' href=#idc49909cf7e9bb99ca33f1798bd89b964 aria-expanded=false aria-controls=idc49909cf7e9bb99ca33f1798bd89b964 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/>存储引擎</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc49909cf7e9bb99ca33f1798bd89b964 aria-expanded=false aria-controls=idc49909cf7e9bb99ca33f1798bd89b964><i class="fa-solid fa-angle-right" id=caret-idc49909cf7e9bb99ca33f1798bd89b964></i></a></div><ul class="nav docs-sidenav collapse" id=idc49909cf7e9bb99ca33f1798bd89b964><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd3f2f5aa8ea48723315223ef8f00b11b")' href=#idd3f2f5aa8ea48723315223ef8f00b11b aria-expanded=false aria-controls=idd3f2f5aa8ea48723315223ef8f00b11b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%BC%96%E7%A0%81%E4%B8%8E%E5%BA%8F%E5%88%97%E5%8C%96/>编码与序列化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd3f2f5aa8ea48723315223ef8f00b11b aria-expanded=false aria-controls=idd3f2f5aa8ea48723315223ef8f00b11b><i class="fa-solid fa-angle-right" id=caret-idd3f2f5aa8ea48723315223ef8f00b11b></i></a></div><ul class="nav docs-sidenav collapse" id=idd3f2f5aa8ea48723315223ef8f00b11b><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%BC%96%E7%A0%81%E4%B8%8E%E5%BA%8F%E5%88%97%E5%8C%96/%E7%BC%96%E7%A0%81/>编码</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id1c16029ee40229abef9fc9ac47887871")' href=#id1c16029ee40229abef9fc9ac47887871 aria-expanded=false aria-controls=id1c16029ee40229abef9fc9ac47887871 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E5%88%97%E5%AD%98%E5%82%A8/>列存储</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id1c16029ee40229abef9fc9ac47887871 aria-expanded=false aria-controls=id1c16029ee40229abef9fc9ac47887871><i class="fa-solid fa-angle-right" id=caret-id1c16029ee40229abef9fc9ac47887871></i></a></div><ul class="nav docs-sidenav collapse" id=id1c16029ee40229abef9fc9ac47887871><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E5%88%97%E5%AD%98%E5%82%A8/%E5%86%99%E5%85%A5%E4%B8%8E%E6%9B%B4%E6%96%B0/>写入与更新</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf6587c020663d06d0bda5afa1be69482")' href=#idf6587c020663d06d0bda5afa1be69482 aria-expanded=false aria-controls=idf6587c020663d06d0bda5afa1be69482 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95/>全文索引</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf6587c020663d06d0bda5afa1be69482 aria-expanded=false aria-controls=idf6587c020663d06d0bda5afa1be69482><i class="fa-solid fa-angle-right" id=caret-idf6587c020663d06d0bda5afa1be69482></i></a></div><ul class="nav docs-sidenav collapse" id=idf6587c020663d06d0bda5afa1be69482><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95/%E5%8A%A8%E6%80%81%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95/>动态全文索引</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95/%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95/>全文索引</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb144af7e0fc642c6ead24942283d1022")' href=#idb144af7e0fc642c6ead24942283d1022 aria-expanded=false aria-controls=idb144af7e0fc642c6ead24942283d1022 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/>索引</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb144af7e0fc642c6ead24942283d1022 aria-expanded=false aria-controls=idb144af7e0fc642c6ead24942283d1022><i class="fa-solid fa-angle-right" id=caret-idb144af7e0fc642c6ead24942283d1022></i></a></div><ul class="nav docs-sidenav collapse" id=idb144af7e0fc642c6ead24942283d1022><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/01.%E6%97%A0%E7%B4%A2%E5%BC%95/>01.无索引</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/02.%E6%95%B0%E7%BB%84/>02.数组</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/03.%E4%BA%8C%E5%8F%89%E6%A0%91/>03.二叉树</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/04.%E5%93%88%E5%B8%8C%E7%B4%A2%E5%BC%95/>04.哈希索引</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/05.b-tree/>05.B-Tree</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id5aa6fdb220c81446809133a6e7a4d816")' href=#id5aa6fdb220c81446809133a6e7a4d816 aria-expanded=false aria-controls=id5aa6fdb220c81446809133a6e7a4d816 aria-hidden=false data-toggle=collapse></div></div><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/%E7%B4%A2%E5%BC%95/07.%E5%85%B6%E4%BB%96%E7%B4%A2%E5%BC%95/>07.其他索引</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida331643e3f87f8809ff17ab0e26f6b92")' href=#ida331643e3f87f8809ff17ab0e26f6b92 aria-expanded=false aria-controls=ida331643e3f87f8809ff17ab0e26f6b92 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/>数据库简史</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida331643e3f87f8809ff17ab0e26f6b92 aria-expanded=false aria-controls=ida331643e3f87f8809ff17ab0e26f6b92><i class="fa-solid fa-angle-right" id=caret-ida331643e3f87f8809ff17ab0e26f6b92></i></a></div><ul class="nav docs-sidenav collapse" id=ida331643e3f87f8809ff17ab0e26f6b92><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/01.%E7%BC%96%E5%B9%B4%E5%8F%B2/>01.编年史</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/02.dbms/>02.DBMS</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/03.nosql/>03.NoSQL</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/04.%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%89%E6%8B%A9/>04.数据库选择</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8F%B2/05.%E6%80%A7%E8%83%BD%E8%AF%84%E6%B5%8B/>05.性能评测</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8c4500b07a312e8dc0e1a0c7351a4c0d")' href=#id8c4500b07a312e8dc0e1a0c7351a4c0d aria-expanded=false aria-controls=id8c4500b07a312e8dc0e1a0c7351a4c0d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/>数据模型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8c4500b07a312e8dc0e1a0c7351a4c0d aria-expanded=false aria-controls=id8c4500b07a312e8dc0e1a0c7351a4c0d><i class="fa-solid fa-angle-right" id=caret-id8c4500b07a312e8dc0e1a0c7351a4c0d></i></a></div><ul class="nav docs-sidenav collapse" id=id8c4500b07a312e8dc0e1a0c7351a4c0d><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/>查询语言</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/>关系模型</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%97%B6%E5%BA%8F%E6%A8%A1%E5%9E%8B/>时序模型</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%9B%BE%E6%A8%A1%E5%9E%8B/>图模型</a></li><li class="child level"><a href=/books/database-notes/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%96%87%E6%A1%A3%E6%A8%A1%E5%9E%8B/>文档模型</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id20f37a71304b7d33264d0463bcd54faa")' href=#id20f37a71304b7d33264d0463bcd54faa aria-expanded=false aria-controls=id20f37a71304b7d33264d0463bcd54faa aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/>02.关系型数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id20f37a71304b7d33264d0463bcd54faa aria-expanded=false aria-controls=id20f37a71304b7d33264d0463bcd54faa><i class="fa-solid fa-angle-right" id=caret-id20f37a71304b7d33264d0463bcd54faa></i></a></div><ul class="nav docs-sidenav collapse" id=id20f37a71304b7d33264d0463bcd54faa><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id3d906d5b5ef2e754cc75ea45ce16f80e")' href=#id3d906d5b5ef2e754cc75ea45ce16f80e aria-expanded=false aria-controls=id3d906d5b5ef2e754cc75ea45ce16f80e aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2654bd64980278ad436f8f16963c7aa0")' href=#id2654bd64980278ad436f8f16963c7aa0 aria-expanded=false aria-controls=id2654bd64980278ad436f8f16963c7aa0 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/>PostgreSQL</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2654bd64980278ad436f8f16963c7aa0 aria-expanded=false aria-controls=id2654bd64980278ad436f8f16963c7aa0><i class="fa-solid fa-angle-right" id=caret-id2654bd64980278ad436f8f16963c7aa0></i></a></div><ul class="nav docs-sidenav collapse" id=id2654bd64980278ad436f8f16963c7aa0><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id55fa318e855af39dae2b8429ed56ded8")' href=#id55fa318e855af39dae2b8429ed56ded8 aria-expanded=false aria-controls=id55fa318e855af39dae2b8429ed56ded8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id55fa318e855af39dae2b8429ed56ded8 aria-expanded=false aria-controls=id55fa318e855af39dae2b8429ed56ded8><i class="fa-solid fa-angle-right" id=caret-id55fa318e855af39dae2b8429ed56ded8></i></a></div><ul class="nav docs-sidenav collapse" id=id55fa318e855af39dae2b8429ed56ded8><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id731460f02365de5a7bff49b17058d3b8")' href=#id731460f02365de5a7bff49b17058d3b8 aria-expanded=false aria-controls=id731460f02365de5a7bff49b17058d3b8 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2016-postgresql-%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95%E5%8E%9F%E7%90%86%E6%8E%A2%E7%B4%A2/>2016-《PostgreSQL 技术内幕：原理探索》</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id731460f02365de5a7bff49b17058d3b8 aria-expanded=false aria-controls=id731460f02365de5a7bff49b17058d3b8><i class="fa-solid fa-angle-right" id=caret-id731460f02365de5a7bff49b17058d3b8></i></a></div><ul class="nav docs-sidenav collapse" id=id731460f02365de5a7bff49b17058d3b8><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2a0e0a42bde3ba151e7c430fde0fd2f0")' href=#id2a0e0a42bde3ba151e7c430fde0fd2f0 aria-expanded=false aria-controls=id2a0e0a42bde3ba151e7c430fde0fd2f0 aria-hidden=false data-toggle=collapse></div></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida79b431b5a75347e366d248a900c1a87")' href=#ida79b431b5a75347e366d248a900c1a87 aria-expanded=false aria-controls=ida79b431b5a75347e366d248a900c1a87 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E7%AE%A1%E7%90%86%E4%B8%8E%E9%85%8D%E7%BD%AE/>管理与配置</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida79b431b5a75347e366d248a900c1a87 aria-expanded=false aria-controls=ida79b431b5a75347e366d248a900c1a87><i class="fa-solid fa-angle-right" id=caret-ida79b431b5a75347e366d248a900c1a87></i></a></div><ul class="nav docs-sidenav collapse" id=ida79b431b5a75347e366d248a900c1a87><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E7%AE%A1%E7%90%86%E4%B8%8E%E9%85%8D%E7%BD%AE/%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/>部署与配置</a></li><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E7%AE%A1%E7%90%86%E4%B8%8E%E9%85%8D%E7%BD%AE/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86/>数据库管理</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2ec21ad2bd074b3929ef7885286f9374")' href=#id2ec21ad2bd074b3929ef7885286f9374 aria-expanded=false aria-controls=id2ec21ad2bd074b3929ef7885286f9374 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/>架构机制</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2ec21ad2bd074b3929ef7885286f9374 aria-expanded=false aria-controls=id2ec21ad2bd074b3929ef7885286f9374><i class="fa-solid fa-angle-right" id=caret-id2ec21ad2bd074b3929ef7885286f9374></i></a></div><ul class="nav docs-sidenav collapse" id=id2ec21ad2bd074b3929ef7885286f9374><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/>并发控制</a></li><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86/>查询处理</a></li><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E6%8C%81%E4%B9%85%E5%8C%96%E4%B8%8E%E7%BC%93%E5%86%B2%E5%8C%BA%E7%AE%A1%E7%90%86/>持久化与缓冲区管理</a></li><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E6%97%A5%E5%BF%97%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/>日志备份与恢复</a></li><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9E%B6%E6%9E%84/>数据库架构</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id56dc76c130f0449fce0ad98122c5fcbc")' href=#id56dc76c130f0449fce0ad98122c5fcbc aria-expanded=false aria-controls=id56dc76c130f0449fce0ad98122c5fcbc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/>数据类型</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id56dc76c130f0449fce0ad98122c5fcbc aria-expanded=false aria-controls=id56dc76c130f0449fce0ad98122c5fcbc><i class="fa-solid fa-angle-right" id=caret-id56dc76c130f0449fce0ad98122c5fcbc></i></a></div><ul class="nav docs-sidenav collapse" id=id56dc76c130f0449fce0ad98122c5fcbc><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/postgresql/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/>时间与日期</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idafcafba53e0c84ad05cdd95bf54c1076")' href=#idafcafba53e0c84ad05cdd95bf54c1076 aria-expanded=false aria-controls=idafcafba53e0c84ad05cdd95bf54c1076 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/>Sqlite</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idafcafba53e0c84ad05cdd95bf54c1076 aria-expanded=false aria-controls=idafcafba53e0c84ad05cdd95bf54c1076><i class="fa-solid fa-angle-right" id=caret-idafcafba53e0c84ad05cdd95bf54c1076></i></a></div><ul class="nav docs-sidenav collapse" id=idafcafba53e0c84ad05cdd95bf54c1076><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf06775d6314fbf683cc3a537f3ea19be")' href=#idf06775d6314fbf683cc3a537f3ea19be aria-expanded=false aria-controls=idf06775d6314fbf683cc3a537f3ea19be aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf06775d6314fbf683cc3a537f3ea19be aria-expanded=false aria-controls=idf06775d6314fbf683cc3a537f3ea19be><i class="fa-solid fa-angle-right" id=caret-idf06775d6314fbf683cc3a537f3ea19be></i></a></div><ul class="nav docs-sidenav collapse" id=idf06775d6314fbf683cc3a537f3ea19be><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7e1c36dbbc17416003a49e483c03a425")' href=#id7e1c36dbbc17416003a49e483c03a425 aria-expanded=false aria-controls=id7e1c36dbbc17416003a49e483c03a425 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-lets-build-a-simple-database/>2020-《Lets Build a Simple Database》</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7e1c36dbbc17416003a49e483c03a425 aria-expanded=false aria-controls=id7e1c36dbbc17416003a49e483c03a425><i class="fa-solid fa-angle-right" id=caret-id7e1c36dbbc17416003a49e483c03a425></i></a></div><ul class="nav docs-sidenav collapse" id=id7e1c36dbbc17416003a49e483c03a425><li class="child level"><a href=/books/database-notes/02.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2020-lets-build-a-simple-database/01.%E7%AE%80%E4%BB%8B%E5%92%8C%E8%AE%BE%E7%BD%AE-repl/>01.简介和设置 REPL</a></li></ul></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7584639c93c48309aab0743c7f05c076")' href=#id7584639c93c48309aab0743c7f05c076 aria-expanded=false aria-controls=id7584639c93c48309aab0743c7f05c076 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id144eb2971b6222e9e86f387b3d6ca577")' href=#id144eb2971b6222e9e86f387b3d6ca577 aria-expanded=false aria-controls=id144eb2971b6222e9e86f387b3d6ca577 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/>03.键值型数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id144eb2971b6222e9e86f387b3d6ca577 aria-expanded=false aria-controls=id144eb2971b6222e9e86f387b3d6ca577><i class="fa-solid fa-angle-right" id=caret-id144eb2971b6222e9e86f387b3d6ca577></i></a></div><ul class="nav docs-sidenav collapse" id=id144eb2971b6222e9e86f387b3d6ca577><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id172bd2b5c692ba009d3a2ad05bbecf5c")' href=#id172bd2b5c692ba009d3a2ad05bbecf5c aria-expanded=false aria-controls=id172bd2b5c692ba009d3a2ad05bbecf5c aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida5f5366542bd9c3a620ecdb355dab1d0")' href=#ida5f5366542bd9c3a620ecdb355dab1d0 aria-expanded=false aria-controls=ida5f5366542bd9c3a620ecdb355dab1d0 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/leveldb/>LevelDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida5f5366542bd9c3a620ecdb355dab1d0 aria-expanded=false aria-controls=ida5f5366542bd9c3a620ecdb355dab1d0><i class="fa-solid fa-angle-right" id=caret-ida5f5366542bd9c3a620ecdb355dab1d0></i></a></div><ul class="nav docs-sidenav collapse" id=ida5f5366542bd9c3a620ecdb355dab1d0><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/leveldb/%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE/>部署配置</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/leveldb/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/>架构机制</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2690b8b8f463773b4e666f15a56809bd")' href=#id2690b8b8f463773b4e666f15a56809bd aria-expanded=false aria-controls=id2690b8b8f463773b4e666f15a56809bd aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/>Redis</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2690b8b8f463773b4e666f15a56809bd aria-expanded=false aria-controls=id2690b8b8f463773b4e666f15a56809bd><i class="fa-solid fa-angle-right" id=caret-id2690b8b8f463773b4e666f15a56809bd></i></a></div><ul class="nav docs-sidenav collapse" id=id2690b8b8f463773b4e666f15a56809bd><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd5ff7f631c185dd86a713a3bc9a2f9f4")' href=#idd5ff7f631c185dd86a713a3bc9a2f9f4 aria-expanded=false aria-controls=idd5ff7f631c185dd86a713a3bc9a2f9f4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/>1.数据操作</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd5ff7f631c185dd86a713a3bc9a2f9f4 aria-expanded=false aria-controls=idd5ff7f631c185dd86a713a3bc9a2f9f4><i class="fa-solid fa-angle-right" id=caret-idd5ff7f631c185dd86a713a3bc9a2f9f4></i></a></div><ul class="nav docs-sidenav collapse" id=idd5ff7f631c185dd86a713a3bc9a2f9f4><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/>基础类型</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/>集合类型</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E9%94%AE%E5%9F%BA%E7%A1%80/>键基础</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B/>其他类型</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/1.%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E4%BA%8B%E5%8A%A1%E4%B8%8E%E7%AE%A1%E9%81%93/>事务与管道</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id81a21de5928037d3199720556814daa3")' href=#id81a21de5928037d3199720556814daa3 aria-expanded=false aria-controls=id81a21de5928037d3199720556814daa3 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/>2.工程实践</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id81a21de5928037d3199720556814daa3 aria-expanded=false aria-controls=id81a21de5928037d3199720556814daa3><i class="fa-solid fa-angle-right" id=caret-id81a21de5928037d3199720556814daa3></i></a></div><ul class="nav docs-sidenav collapse" id=id81a21de5928037d3199720556814daa3><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/>部署与配置</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idea7fec6cb18ef525e992d9adf15c14fc")' href=#idea7fec6cb18ef525e992d9adf15c14fc aria-expanded=false aria-controls=idea7fec6cb18ef525e992d9adf15c14fc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E6%8C%81%E4%B9%85%E5%8C%96/>持久化</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idea7fec6cb18ef525e992d9adf15c14fc aria-expanded=false aria-controls=idea7fec6cb18ef525e992d9adf15c14fc><i class="fa-solid fa-angle-right" id=caret-idea7fec6cb18ef525e992d9adf15c14fc></i></a></div><ul class="nav docs-sidenav collapse" id=idea7fec6cb18ef525e992d9adf15c14fc><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E6%8C%81%E4%B9%85%E5%8C%96/aof-%E6%9C%BA%E5%88%B6/>AOF 机制</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E6%8C%81%E4%B9%85%E5%8C%96/rdb-%E6%9C%BA%E5%88%B6/>RDB 机制</a></li></ul></div><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/>性能优化</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2.%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/%E8%87%AA%E5%AE%9A%E4%B9%89%E8%84%9A%E6%9C%AC/>自定义脚本</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0c152769ba6129e4f752ce1460387a39")' href=#id0c152769ba6129e4f752ce1460387a39 aria-expanded=false aria-controls=id0c152769ba6129e4f752ce1460387a39 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/3.%E9%9B%86%E7%BE%A4/>3.集群</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0c152769ba6129e4f752ce1460387a39 aria-expanded=false aria-controls=id0c152769ba6129e4f752ce1460387a39><i class="fa-solid fa-angle-right" id=caret-id0c152769ba6129e4f752ce1460387a39></i></a></div><ul class="nav docs-sidenav collapse" id=id0c152769ba6129e4f752ce1460387a39><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/3.%E9%9B%86%E7%BE%A4/redis-%E5%88%86%E7%89%87/>Redis 分片</a></li><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id6466a0228748f388ffce4d02bde93267")' href=#id6466a0228748f388ffce4d02bde93267 aria-expanded=false aria-controls=id6466a0228748f388ffce4d02bde93267 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbee05250754e6db2af70351df8aee3f3")' href=#idbee05250754e6db2af70351df8aee3f3 aria-expanded=false aria-controls=idbee05250754e6db2af70351df8aee3f3 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc210df43f55769665b9448952adaec68")' href=#idc210df43f55769665b9448952adaec68 aria-expanded=false aria-controls=idc210df43f55769665b9448952adaec68 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/>4.架构机制</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idc210df43f55769665b9448952adaec68 aria-expanded=false aria-controls=idc210df43f55769665b9448952adaec68><i class="fa-solid fa-angle-right" id=caret-idc210df43f55769665b9448952adaec68></i></a></div><ul class="nav docs-sidenav collapse" id=idc210df43f55769665b9448952adaec68><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%8D%95%E7%BA%BF%E7%A8%8B%E6%9E%B6%E6%9E%84/>单线程架构</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84/>多进程架构</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E4%BF%A1/>客户端通信</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/>命令执行</a></li><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/4.%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/%E6%B7%B1%E5%85%A5%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/>深入事件循环</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida4f0d3e233ec97b9c76c0c90fbfcddd9")' href=#ida4f0d3e233ec97b9c76c0c90fbfcddd9 aria-expanded=false aria-controls=ida4f0d3e233ec97b9c76c0c90fbfcddd9 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/5.keydb/>5.KeyDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida4f0d3e233ec97b9c76c0c90fbfcddd9 aria-expanded=false aria-controls=ida4f0d3e233ec97b9c76c0c90fbfcddd9><i class="fa-solid fa-angle-right" id=caret-ida4f0d3e233ec97b9c76c0c90fbfcddd9></i></a></div><ul class="nav docs-sidenav collapse" id=ida4f0d3e233ec97b9c76c0c90fbfcddd9><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/5.keydb/%E6%9E%B6%E6%9E%84%E6%9C%BA%E5%88%B6/>架构机制</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idba803803bd2d38fd4a2046615644670b")' href=#idba803803bd2d38fd4a2046615644670b aria-expanded=false aria-controls=idba803803bd2d38fd4a2046615644670b aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/6.%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0-kv-%E6%95%B0%E6%8D%AE%E5%BA%93/>6.从零实现 KV 数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idba803803bd2d38fd4a2046615644670b aria-expanded=false aria-controls=idba803803bd2d38fd4a2046615644670b><i class="fa-solid fa-angle-right" id=caret-idba803803bd2d38fd4a2046615644670b></i></a></div><ul class="nav docs-sidenav collapse" id=idba803803bd2d38fd4a2046615644670b><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/redis/6.%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0-kv-%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E7%B4%A2%E5%BC%95%E7%9A%84-kv-%E6%95%B0%E6%8D%AE%E5%BA%93/>基于哈希索引的 KV 数据库</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id00d8c6de7689077f44c49cd84b8fd629")' href=#id00d8c6de7689077f44c49cd84b8fd629 aria-expanded=false aria-controls=id00d8c6de7689077f44c49cd84b8fd629 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/rocksdb/>RocksDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id00d8c6de7689077f44c49cd84b8fd629 aria-expanded=false aria-controls=id00d8c6de7689077f44c49cd84b8fd629><i class="fa-solid fa-angle-right" id=caret-id00d8c6de7689077f44c49cd84b8fd629></i></a></div><ul class="nav docs-sidenav collapse" id=id00d8c6de7689077f44c49cd84b8fd629><li class="child level"><a href=/books/database-notes/03.%E9%94%AE%E5%80%BC%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/rocksdb/readne/>READNE</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0b45ce9a1c5a2cd1ee82c0cd723ada15")' href=#id0b45ce9a1c5a2cd1ee82c0cd723ada15 aria-expanded=false aria-controls=id0b45ce9a1c5a2cd1ee82c0cd723ada15 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/>04.文档型数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0b45ce9a1c5a2cd1ee82c0cd723ada15 aria-expanded=false aria-controls=id0b45ce9a1c5a2cd1ee82c0cd723ada15><i class="fa-solid fa-angle-right" id=caret-id0b45ce9a1c5a2cd1ee82c0cd723ada15></i></a></div><ul class="nav docs-sidenav collapse" id=id0b45ce9a1c5a2cd1ee82c0cd723ada15><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id87b4aaac19b993b7facb4e38c54efc7a")' href=#id87b4aaac19b993b7facb4e38c54efc7a aria-expanded=false aria-controls=id87b4aaac19b993b7facb4e38c54efc7a aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/>1.Mongodb</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id87b4aaac19b993b7facb4e38c54efc7a aria-expanded=false aria-controls=id87b4aaac19b993b7facb4e38c54efc7a><i class="fa-solid fa-angle-right" id=caret-id87b4aaac19b993b7facb4e38c54efc7a></i></a></div><ul class="nav docs-sidenav collapse" id=id87b4aaac19b993b7facb4e38c54efc7a><li class="child level"><a href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/01.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%93%8D%E4%BD%9C/>01.数据类型与操作</a></li><li class="child level"><a href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/02.%E7%B4%A2%E5%BC%95/>02.索引</a></li><li class="child level"><a href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/03.%E8%81%9A%E5%90%88/>03.聚合</a></li><li class="child level"><a href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/04.%E5%A4%8D%E5%88%B6/>04.复制</a></li><li class="child level"><a href=/books/database-notes/04.%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/1.mongodb/05.%E5%88%86%E7%89%87/>05.分片</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb9d402a8b842a2a10bd98acd12adf765")' href=#idb9d402a8b842a2a10bd98acd12adf765 aria-expanded=false aria-controls=idb9d402a8b842a2a10bd98acd12adf765 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/>05.搜索引擎</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb9d402a8b842a2a10bd98acd12adf765 aria-expanded=false aria-controls=idb9d402a8b842a2a10bd98acd12adf765><i class="fa-solid fa-angle-right" id=caret-idb9d402a8b842a2a10bd98acd12adf765></i></a></div><ul class="nav docs-sidenav collapse" id=idb9d402a8b842a2a10bd98acd12adf765><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id016970d4cc2b96b98300d1766cff1495")' href=#id016970d4cc2b96b98300d1766cff1495 aria-expanded=false aria-controls=id016970d4cc2b96b98300d1766cff1495 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/>ElasticSearch</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id016970d4cc2b96b98300d1766cff1495 aria-expanded=false aria-controls=id016970d4cc2b96b98300d1766cff1495><i class="fa-solid fa-angle-right" id=caret-id016970d4cc2b96b98300d1766cff1495></i></a></div><ul class="nav docs-sidenav collapse" id=id016970d4cc2b96b98300d1766cff1495><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id346ec892f20a851edd8d7685cd71401e")' href=#id346ec892f20a851edd8d7685cd71401e aria-expanded=false aria-controls=id346ec892f20a851edd8d7685cd71401e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/sdk-%E4%BD%BF%E7%94%A8/>SDK 使用</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id346ec892f20a851edd8d7685cd71401e aria-expanded=false aria-controls=id346ec892f20a851edd8d7685cd71401e><i class="fa-solid fa-angle-right" id=caret-id346ec892f20a851edd8d7685cd71401e></i></a></div><ul class="nav docs-sidenav collapse" id=id346ec892f20a851edd8d7685cd71401e><li class="child level"><a href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/sdk-%E4%BD%BF%E7%94%A8/java/>Java</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idbf332f04ca04fad8bd743f1f6ba3cc02")' href=#idbf332f04ca04fad8bd743f1f6ba3cc02 aria-expanded=false aria-controls=idbf332f04ca04fad8bd743f1f6ba3cc02 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id88188bf0f3e668ef91657ac882cc0d37")' href=#id88188bf0f3e668ef91657ac882cc0d37 aria-expanded=false aria-controls=id88188bf0f3e668ef91657ac882cc0d37 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf787dfe55e3b581e9bf2ca89d620aa4d")' href=#idf787dfe55e3b581e9bf2ca89d620aa4d aria-expanded=false aria-controls=idf787dfe55e3b581e9bf2ca89d620aa4d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/>数据操作</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf787dfe55e3b581e9bf2ca89d620aa4d aria-expanded=false aria-controls=idf787dfe55e3b581e9bf2ca89d620aa4d><i class="fa-solid fa-angle-right" id=caret-idf787dfe55e3b581e9bf2ca89d620aa4d></i></a></div><ul class="nav docs-sidenav collapse" id=idf787dfe55e3b581e9bf2ca89d620aa4d><li class="child level"><a href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E6%95%B0%E6%8D%AE%E6%A3%80%E7%B4%A2/>数据检索</a></li><li class="child level"><a href=/books/database-notes/05.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/elasticsearch/%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C/>索引操作</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idc744ada7dda8ec44e6b0408962512182")' href=#idc744ada7dda8ec44e6b0408962512182 aria-expanded=false aria-controls=idc744ada7dda8ec44e6b0408962512182 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8bc9e077f3f00ecff2ce6b6d51b89341")' href=#id8bc9e077f3f00ecff2ce6b6d51b89341 aria-expanded=false aria-controls=id8bc9e077f3f00ecff2ce6b6d51b89341 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/>06.时序数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8bc9e077f3f00ecff2ce6b6d51b89341 aria-expanded=false aria-controls=id8bc9e077f3f00ecff2ce6b6d51b89341><i class="fa-solid fa-angle-right" id=caret-id8bc9e077f3f00ecff2ce6b6d51b89341></i></a></div><ul class="nav docs-sidenav collapse" id=id8bc9e077f3f00ecff2ce6b6d51b89341><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ideb4300524e2de9a5150e67d4394fb898")' href=#ideb4300524e2de9a5150e67d4394fb898 aria-expanded=false aria-controls=ideb4300524e2de9a5150e67d4394fb898 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idec14dc3059dd0db14e19583a5c2bce34")' href=#idec14dc3059dd0db14e19583a5c2bce34 aria-expanded=false aria-controls=idec14dc3059dd0db14e19583a5c2bce34 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/influxdb/>InfluxDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idec14dc3059dd0db14e19583a5c2bce34 aria-expanded=false aria-controls=idec14dc3059dd0db14e19583a5c2bce34><i class="fa-solid fa-angle-right" id=caret-idec14dc3059dd0db14e19583a5c2bce34></i></a></div><ul class="nav docs-sidenav collapse" id=idec14dc3059dd0db14e19583a5c2bce34><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/influxdb/%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE/>部署配置</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/influxdb/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/>存储引擎</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/influxdb/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/>数据模型</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-iddd0d4d9d1c7e5113386982a1b8a1410d")' href=#iddd0d4d9d1c7e5113386982a1b8a1410d aria-expanded=false aria-controls=iddd0d4d9d1c7e5113386982a1b8a1410d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/opentsdb/>OpenTSDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#iddd0d4d9d1c7e5113386982a1b8a1410d aria-expanded=false aria-controls=iddd0d4d9d1c7e5113386982a1b8a1410d><i class="fa-solid fa-angle-right" id=caret-iddd0d4d9d1c7e5113386982a1b8a1410d></i></a></div><ul class="nav docs-sidenav collapse" id=iddd0d4d9d1c7e5113386982a1b8a1410d><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/opentsdb/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id69c6e396adf2f764b28c25a517bf3245")' href=#id69c6e396adf2f764b28c25a517bf3245 aria-expanded=false aria-controls=id69c6e396adf2f764b28c25a517bf3245 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/>Prometheus</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id69c6e396adf2f764b28c25a517bf3245 aria-expanded=false aria-controls=id69c6e396adf2f764b28c25a517bf3245><i class="fa-solid fa-angle-right" id=caret-id69c6e396adf2f764b28c25a517bf3245></i></a></div><ul class="nav docs-sidenav collapse" id=id69c6e396adf2f764b28c25a517bf3245><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idead7b8cd19503b64298442873b259f87")' href=#idead7b8cd19503b64298442873b259f87 aria-expanded=false aria-controls=idead7b8cd19503b64298442873b259f87 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/alert/>Alert</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idead7b8cd19503b64298442873b259f87 aria-expanded=false aria-controls=idead7b8cd19503b64298442873b259f87><i class="fa-solid fa-angle-right" id=caret-idead7b8cd19503b64298442873b259f87></i></a></div><ul class="nav docs-sidenav collapse" id=idead7b8cd19503b64298442873b259f87><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/alert/alerting-rules/>Alerting Rules</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/alert/alertmanager/>Alertmanager</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id848df859692a20b0ae118d74d9a971f6")' href=#id848df859692a20b0ae118d74d9a971f6 aria-expanded=false aria-controls=id848df859692a20b0ae118d74d9a971f6 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id063de71d1f333beb361da585c45a2261")' href=#id063de71d1f333beb361da585c45a2261 aria-expanded=false aria-controls=id063de71d1f333beb361da585c45a2261 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/>PromQL</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id063de71d1f333beb361da585c45a2261 aria-expanded=false aria-controls=id063de71d1f333beb361da585c45a2261><i class="fa-solid fa-angle-right" id=caret-id063de71d1f333beb361da585c45a2261></i></a></div><ul class="nav docs-sidenav collapse" id=id063de71d1f333beb361da585c45a2261><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/http-api/>HTTP API</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/recording-rules/>Recording Rules</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/%E6%93%8D%E4%BD%9C%E7%AC%A6/>操作符</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C/>聚合操作</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/>内置函数</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/>数据查询</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/promql/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/>数据模型</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id81ec18858ca7301ebd9bca204fe4b01d")' href=#id81ec18858ca7301ebd9bca204fe4b01d aria-expanded=false aria-controls=id81ec18858ca7301ebd9bca204fe4b01d aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/ptsdb/>PTSDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id81ec18858ca7301ebd9bca204fe4b01d aria-expanded=false aria-controls=id81ec18858ca7301ebd9bca204fe4b01d><i class="fa-solid fa-angle-right" id=caret-id81ec18858ca7301ebd9bca204fe4b01d></i></a></div><ul class="nav docs-sidenav collapse" id=id81ec18858ca7301ebd9bca204fe4b01d><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/ptsdb/reamde/>REAMDE</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/ptsdb/%E5%AD%98%E5%82%A8/>存储</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/ptsdb/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/>文件格式</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id897c36f17a493271e3cc63a73dd4ca06")' href=#id897c36f17a493271e3cc63a73dd4ca06 aria-expanded=false aria-controls=id897c36f17a493271e3cc63a73dd4ca06 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/sdk/>SDK</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id897c36f17a493271e3cc63a73dd4ca06 aria-expanded=false aria-controls=id897c36f17a493271e3cc63a73dd4ca06><i class="fa-solid fa-angle-right" id=caret-id897c36f17a493271e3cc63a73dd4ca06></i></a></div><ul class="nav docs-sidenav collapse" id=id897c36f17a493271e3cc63a73dd4ca06><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/sdk/go/>Go</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/sdk/java/>Java</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idb9667a86a0b4de5c006e42eccff5d2d4")' href=#idb9667a86a0b4de5c006e42eccff5d2d4 aria-expanded=false aria-controls=idb9667a86a0b4de5c006e42eccff5d2d4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/>快速开始</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idb9667a86a0b4de5c006e42eccff5d2d4 aria-expanded=false aria-controls=idb9667a86a0b4de5c006e42eccff5d2d4><i class="fa-solid fa-angle-right" id=caret-idb9667a86a0b4de5c006e42eccff5d2d4></i></a></div><ul class="nav docs-sidenav collapse" id=idb9667a86a0b4de5c006e42eccff5d2d4><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE/>参数配置</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/%E5%8D%95%E6%9C%BA%E9%83%A8%E7%BD%B2/>单机部署</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/>集群部署</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/prometheus/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/%E5%BA%94%E7%94%A8%E7%9B%91%E6%8E%A7/>应用监控</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id886e406403672b16bce2ed9b32b0b6c4")' href=#id886e406403672b16bce2ed9b32b0b6c4 aria-expanded=false aria-controls=id886e406403672b16bce2ed9b32b0b6c4 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/>TimescaleDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id886e406403672b16bce2ed9b32b0b6c4 aria-expanded=false aria-controls=id886e406403672b16bce2ed9b32b0b6c4><i class="fa-solid fa-angle-right" id=caret-id886e406403672b16bce2ed9b32b0b6c4></i></a></div><ul class="nav docs-sidenav collapse" id=id886e406403672b16bce2ed9b32b0b6c4><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/timescaledb/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计</a></li></ul></div><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%B6%E5%BA%8F%E5%AF%B9%E6%AF%94/>时序对比</a></li><li class="child level"><a href=/books/database-notes/06.%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id148217c1e6ca37654a724e81ea3d3a4e")' href=#id148217c1e6ca37654a724e81ea3d3a4e aria-expanded=false aria-controls=id148217c1e6ca37654a724e81ea3d3a4e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/07.%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/>07.图数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id148217c1e6ca37654a724e81ea3d3a4e aria-expanded=false aria-controls=id148217c1e6ca37654a724e81ea3d3a4e><i class="fa-solid fa-angle-right" id=caret-id148217c1e6ca37654a724e81ea3d3a4e></i></a></div><ul class="nav docs-sidenav collapse" id=id148217c1e6ca37654a724e81ea3d3a4e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id933276e18b92b5c623bd1c1b7d551a49")' href=#id933276e18b92b5c623bd1c1b7d551a49 aria-expanded=false aria-controls=id933276e18b92b5c623bd1c1b7d551a49 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida4da1d959b0faa5a62b04438a81bca91")' href=#ida4da1d959b0faa5a62b04438a81bca91 aria-expanded=false aria-controls=ida4da1d959b0faa5a62b04438a81bca91 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf327ea3eb9f6e4f55225a335c087f6cc")' href=#idf327ea3eb9f6e4f55225a335c087f6cc aria-expanded=false aria-controls=idf327ea3eb9f6e4f55225a335c087f6cc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/07.%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf327ea3eb9f6e4f55225a335c087f6cc aria-expanded=false aria-controls=idf327ea3eb9f6e4f55225a335c087f6cc><i class="fa-solid fa-angle-right" id=caret-idf327ea3eb9f6e4f55225a335c087f6cc></i></a></div><ul class="nav docs-sidenav collapse" id=idf327ea3eb9f6e4f55225a335c087f6cc><li class="child level"><a href=/books/database-notes/07.%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A1%88%E4%BE%8B/>图数据库案例</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id0e77b75a92bbecd7dbd18b260e42fd28")' href=#id0e77b75a92bbecd7dbd18b260e42fd28 aria-expanded=false aria-controls=id0e77b75a92bbecd7dbd18b260e42fd28 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/>08.向量数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id0e77b75a92bbecd7dbd18b260e42fd28 aria-expanded=false aria-controls=id0e77b75a92bbecd7dbd18b260e42fd28><i class="fa-solid fa-angle-right" id=caret-id0e77b75a92bbecd7dbd18b260e42fd28></i></a></div><ul class="nav docs-sidenav collapse" id=id0e77b75a92bbecd7dbd18b260e42fd28><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4c9fa18ffbfd9ec30804cc822438d032")' href=#id4c9fa18ffbfd9ec30804cc822438d032 aria-expanded=false aria-controls=id4c9fa18ffbfd9ec30804cc822438d032 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4c9fa18ffbfd9ec30804cc822438d032 aria-expanded=false aria-controls=id4c9fa18ffbfd9ec30804cc822438d032><i class="fa-solid fa-angle-right" id=caret-id4c9fa18ffbfd9ec30804cc822438d032></i></a></div><ul class="nav docs-sidenav collapse" id=id4c9fa18ffbfd9ec30804cc822438d032><li class="child level"><a href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2023-what-is-a-vector-database/>2023-What is a Vector Database?</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf8020286dda70bf0d296eda6aa26666f")' href=#idf8020286dda70bf0d296eda6aa26666f aria-expanded=false aria-controls=idf8020286dda70bf0d296eda6aa26666f aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/mulvis/>Mulvis</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idf8020286dda70bf0d296eda6aa26666f aria-expanded=false aria-controls=idf8020286dda70bf0d296eda6aa26666f><i class="fa-solid fa-angle-right" id=caret-idf8020286dda70bf0d296eda6aa26666f></i></a></div><ul class="nav docs-sidenav collapse" id=idf8020286dda70bf0d296eda6aa26666f><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id38ce6ed6e623596bfc02b826fe55362e")' href=#id38ce6ed6e623596bfc02b826fe55362e aria-expanded=false aria-controls=id38ce6ed6e623596bfc02b826fe55362e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/mulvis/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id38ce6ed6e623596bfc02b826fe55362e aria-expanded=false aria-controls=id38ce6ed6e623596bfc02b826fe55362e><i class="fa-solid fa-angle-right" id=caret-id38ce6ed6e623596bfc02b826fe55362e></i></a></div><ul class="nav docs-sidenav collapse" id=id38ce6ed6e623596bfc02b826fe55362e><li class="child level"><a href=/books/database-notes/08.%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/mulvis/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2022-%E4%BA%91%E5%8E%9F%E7%94%9F%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93-milvus-%E4%BB%8B%E7%BB%8D/>2022-云原生向量数据库 Milvus 介绍</a></li></ul></div></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id7d4216262e3b46f411912e5f01e71e8e")' href=#id7d4216262e3b46f411912e5f01e71e8e aria-expanded=false aria-controls=id7d4216262e3b46f411912e5f01e71e8e aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/>10.分布式数据库</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id7d4216262e3b46f411912e5f01e71e8e aria-expanded=false aria-controls=id7d4216262e3b46f411912e5f01e71e8e><i class="fa-solid fa-angle-right" id=caret-id7d4216262e3b46f411912e5f01e71e8e></i></a></div><ul class="nav docs-sidenav collapse" id=id7d4216262e3b46f411912e5f01e71e8e><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida0e88fb12ec334bd635c852af2972877")' href=#ida0e88fb12ec334bd635c852af2972877 aria-expanded=false aria-controls=ida0e88fb12ec334bd635c852af2972877 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id977e65288d4de12f80949f062c1f6f01")' href=#id977e65288d4de12f80949f062c1f6f01 aria-expanded=false aria-controls=id977e65288d4de12f80949f062c1f6f01 aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id25a676d74334aa37df87355f08c554e6")' href=#id25a676d74334aa37df87355f08c554e6 aria-expanded=false aria-controls=id25a676d74334aa37df87355f08c554e6 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/>TiDB</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id25a676d74334aa37df87355f08c554e6 aria-expanded=false aria-controls=id25a676d74334aa37df87355f08c554e6><i class="fa-solid fa-angle-right" id=caret-id25a676d74334aa37df87355f08c554e6></i></a></div><ul class="nav docs-sidenav collapse" id=id25a676d74334aa37df87355f08c554e6><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idd17064879c43cbb240162d78e8e2908c")' href=#idd17064879c43cbb240162d78e8e2908c aria-expanded=false aria-controls=idd17064879c43cbb240162d78e8e2908c aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#idd17064879c43cbb240162d78e8e2908c aria-expanded=false aria-controls=idd17064879c43cbb240162d78e8e2908c><i class="fa-solid fa-angle-right" id=caret-idd17064879c43cbb240162d78e8e2908c></i></a></div><ul class="nav docs-sidenav collapse" id=idd17064879c43cbb240162d78e8e2908c><li class="child level"><a href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/2017-%E4%B8%89%E7%AF%87%E6%96%87%E7%AB%A0%E4%BA%86%E8%A7%A3-tidb-%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/>2017-三篇文章了解 TiDB 技术内幕</a></li></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id38e386eb5266f0363fba9e268de0891c")' href=#id38e386eb5266f0363fba9e268de0891c aria-expanded=false aria-controls=id38e386eb5266f0363fba9e268de0891c aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-ida860f658a45b9115e616c3415eb8eeda")' href=#ida860f658a45b9115e616c3415eb8eeda aria-expanded=false aria-controls=ida860f658a45b9115e616c3415eb8eeda aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/tikv/>TiKV</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#ida860f658a45b9115e616c3415eb8eeda aria-expanded=false aria-controls=ida860f658a45b9115e616c3415eb8eeda><i class="fa-solid fa-angle-right" id=caret-ida860f658a45b9115e616c3415eb8eeda></i></a></div><ul class="nav docs-sidenav collapse" id=ida860f658a45b9115e616c3415eb8eeda><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id2de84702b435e824ad99a1692f380faa")' href=#id2de84702b435e824ad99a1692f380faa aria-expanded=false aria-controls=id2de84702b435e824ad99a1692f380faa aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/tikv/%E5%AD%98%E5%82%A8/>存储</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id2de84702b435e824ad99a1692f380faa aria-expanded=false aria-controls=id2de84702b435e824ad99a1692f380faa><i class="fa-solid fa-angle-right" id=caret-id2de84702b435e824ad99a1692f380faa></i></a></div><ul class="nav docs-sidenav collapse" id=id2de84702b435e824ad99a1692f380faa><li class="child level"><a href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/tikv/%E5%AD%98%E5%82%A8/raft-%E4%BC%98%E5%8C%96/>Raft 优化</a></li><li class="child level"><a href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/tikv/%E5%AD%98%E5%82%A8/%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/>存储架构</a></li></ul></div><li class="child level"><a href=/books/database-notes/10.%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/tidb/tikv/%E5%89%AF%E6%9C%AC%E4%B8%8E%E5%88%86%E7%89%87/>副本与分片</a></li></ul></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idad03304460bb69d181105a4d0cad41a2")' href=#idad03304460bb69d181105a4d0cad41a2 aria-expanded=false aria-controls=idad03304460bb69d181105a4d0cad41a2 aria-hidden=false data-toggle=collapse></div></div></ul></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id8d8778db1fd7523453186ab4b15ebffc")' href=#id8d8778db1fd7523453186ab4b15ebffc aria-expanded=false aria-controls=id8d8778db1fd7523453186ab4b15ebffc aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/>99.参考资料</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id8d8778db1fd7523453186ab4b15ebffc aria-expanded=false aria-controls=id8d8778db1fd7523453186ab4b15ebffc><i class="fa-solid fa-angle-right" id=caret-id8d8778db1fd7523453186ab4b15ebffc></i></a></div><ul class="nav docs-sidenav collapse" id=id8d8778db1fd7523453186ab4b15ebffc><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-idf3ac243bc7a10b42ba7bbc16f7822a5f")' href=#idf3ac243bc7a10b42ba7bbc16f7822a5f aria-expanded=false aria-controls=idf3ac243bc7a10b42ba7bbc16f7822a5f aria-hidden=false data-toggle=collapse></div></div><div class="docs-toc-item has-child"><div class="parent-node d-flex justify-content-between" onclick='Collapse("caret-id4a5a4c2688f261414ff1ec51b32d3185")' href=#id4a5a4c2688f261414ff1ec51b32d3185 aria-expanded=false aria-controls=id4a5a4c2688f261414ff1ec51b32d3185 aria-hidden=false data-toggle=collapse><a class="d-inline docs-toc-link" href=/books/database-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%85%E6%A0%B8%E6%9D%82%E8%B0%88/>数据库内核杂谈</a>
<a class="nav-toogle d-inline level" aria-hidden=false data-toggle=collapse href=#id4a5a4c2688f261414ff1ec51b32d3185 aria-expanded=false aria-controls=id4a5a4c2688f261414ff1ec51b32d3185><i class="fa-solid fa-angle-right" id=caret-id4a5a4c2688f261414ff1ec51b32d3185></i></a></div><ul class="nav docs-sidenav collapse" id=id4a5a4c2688f261414ff1ec51b32d3185><li class="child level"><a href=/books/database-notes/99.%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%85%E6%A0%B8%E6%9D%82%E8%B0%88/01.%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93/>01.实现一个基本功能的数据库</a></li></ul></div></ul></div><li class="child level"><a href=/books/database-notes/introduction/>INTRODUCTION</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>目录</a></li></ul><nav id=TableOfContents></nav><div class="subscribe-module col-24 mt-1"><img src=https://ngte-superbed.oss-cn-beijing.aliyuncs.com/item/20230220172727.png alt=image title=王下邀月熊的微信公众号></div></div><main class="py-md-3 pl-md-3 docs-content col-xl-8" role=main><article class=article><h1>并发控制</h1><div class=article-style><h1 id=并发控制>并发控制</h1><p>在并发读写数据库时，读操作可能会不一致的数据（譬如脏读）；并发控制旨在针对数据库中对事务并行的场景，保证 ACID 中的一致性（Consistency）与隔离性（Isolation）。假如所有的事务都仅进行数据读取，那么事务之间并不会有冲突；而一旦某个事务读取了正在被其他事务修改的数据或者两个事务修改了相同的数据，那么数据库就必须来保证事务之间的隔离，来避免某个事务因为未见最新的数据而造成的误操作。解决并发控制问题最理想的方式就是能够每当某个事务被创建或者停止的时候，监控所有事务的所有操作，判断是否存在冲突的事务，然后对冲突事务中的操作进行重排序以尽可能少地减少冲突，而后以特定的顺序运行这些操作。绝大部分数据库会采用锁（Locks）或者数据版本控制（Data Versioning）的方式来处理并发控制问题。</p><p>目前数据库技术中主流的三种并发控制技术分别是：Multi-version Concurrency Control (MVCC), Strict Two-Phase Locking (S2PL), 以及 Optimistic Concurrency Control (OCC)，每种技术也都有很多的变种。其中并发控制最简单的方式就是加锁访问。加锁会将读写操作串行化，避免出现不一致的状态；但是读操作会被写操作阻塞，大幅降低读性能。实际上很多数据库中都会采用 Multi-Version Concurrent Control(MVCC) 机制或者其变种。</p><p>在 MVCC 协议下，每个读操作会看到一个一致性的 Snapshot，并且可以实现非阻塞的读。MVCC 允许数据具有多个版本，这个版本可以是时间戳或者是全局递增的事务 ID，在同一个时间点，不同的事务看到的数据是不同的。在 MVCC 中，每次写操作都会在旧的版本之上创建新的版本，并且会保留旧的版本。当某个事务需要读取数据时，数据库系统会从所有的版本中选取出符合该事务隔离级别要求的版本。MVCC 的最大优势在于读并不会阻塞写，写也不会阻塞读；而像 S2PL 这样的系统，写事务会事先获取到排他锁，从而会阻塞读事务。PostgreSQL 以及 Oracle 等 RDBMS 实际使用了所谓的 Snapshot Isolation（SI）这个 MVCC 技术的变种。Oracle 引入了额外的 Rollback Segments，当写入新的数据时，老版本的数据会被写入到 Rollback Segment 中，随后再被覆写到实际的数据块。PostgreSQL 则是使用了相对简单的实现方式，新的数据对象会被直接插入到关联的 Table Page 中；而在读取表数据的时候，PostgreSQL 会通过可见性检测规则（Visibility Check Rules）来选择合适的版本。</p><h1 id=锁管理器lock-manager>锁管理器（Lock Manager）</h1><p>数据库使用锁是为了对共享资源进行并发访问控制，从而保证数据的完整性和一致性。在根据加锁的范围（Lock Granularity），可以分为：全局锁、表级锁、行锁。全局锁会把整个数据库实例加锁，将使数据库处于只读状态，其他数据写入和修改表结构等语句会阻塞，一般在备库上做全局备份使用。而表级锁有两种，一种是表锁，和读写锁一样，另外一种是元数据锁，也叫意向锁，不需要显示申明，当执行修改表结构，加索引的时候会自动加元数据写锁，对表进行增删改查的时候会加元数据读锁。这样当两条修改语句的事务之间元数据锁都是读锁不互斥，但是修改表结构的时候执行更新由于互斥就需要阻塞。还有一种行级锁称为间隙锁，他锁定的是两条记录之间的间隙，防止其他事务往这个间隙插入数据，间隙锁是隐式锁，是存储引擎自己加上的。</p><p>表锁更适用于以查询为主，只有少量按索引条件更新数据的应用；行锁更适用于有大量按索引条件并发更新少量不同数据，同时又有并发查询的应用。</p><p>基于锁的方式基础理念为：如果某个事务需要数据，则对数据加锁，操作完毕后释放锁；如果过程中其他事务需要锁，则需要等到该事务释放数据锁，这种锁也就是所谓的排他锁（Exclusive Lock）。不过使用排他锁会带来极大的性能损耗，其会导致其他那些仅需要读取数据的事务也陷入等待。从锁的策略上，可以分为共享锁与排他锁：</p><ul><li>共享锁又称读锁，是读取操作创建的锁。其他用户可以并发读取数据，但任何事务都不能对数据进行修改（获取数据上的排他锁），直到已释放所有共享锁。</li><li>排他锁又称写锁，如果事务 T 对数据 A 加上排他锁后，则其他事务不能再对 A 加任任何类型的封锁。获准排他锁的事务既能读数据，又能修改数据。</li></ul><p>在《<a href="https://github.com/wx-chevalier/MySQL-Notes?q=" target=_blank rel=noopener>MySQL-Notes</a>》中我们也讨论了如何触发锁机制，譬如查询加锁，<code>select * from testlock where id=1 for update;</code>，即查询时不允许更改，该语句在自动提交为 off 或事务中生效，相当于更改操作，模拟加锁；而更新类操作 <code>update testlock name=name;</code> 则是会自动加锁。</p><h1 id=mvcc>MVCC</h1><p>在《<a href="https://github.com/wx-chevalier/Concurrent-Notes?q=" target=_blank rel=noopener>Concurrent-Notes</a>》中我们讨论了两种不同类型的锁：乐观锁（Optimistic Lock）与悲观锁（Pessimistic Lock），前文介绍的各种锁即是悲观锁，而 MVCC(Multiple Version Concurrency Control) 这样的基于数据版本的锁则是乐观锁，它能够保证读写操作之间不会相互阻塞：</p><ul><li>每个事务都可以在同一时间修改相同的数据；</li><li>每个事务会保有其需要的数据副本；</li><li>如果两个事务修改了相同的数据，那么仅有单个更改操作会被接收，另一个操作会被回滚或者重新执行。</li></ul><p>乐观锁，大多是基于数据版本（Version）记录机制实现。数据版本即为数据增加一个版本标识，在基于数据库表的版本解决方案中，一般是通过为数据库表增加一个 <code>version</code> 字段来实现。读取出数据时，将此版本号一同读出，之后更新时，对此版本号加一。此时，将提交数据的版本数据与数据库表对应记录的当前版本信息进行比对，如果提交的数据版本号大于数据库表当前版本号，则予以更新，否则认为是过期数据。</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://assets.ng-tech.icu/item/20230424143734.png alt=image.png loading=lazy data-zoomable></div></div></figure></p><p>总结而言，MVCC 能够为我们解决如下的问题：</p><ul><li><p>保证了事务周期内数据的一致性。事务 A 开启后，即使事务 B 对数据做了修改/新增/删除，不管事务 B 有没有提交，这些变更对于事务 A 的 SELECT 语句都是不可见的，因为这些变更是其它事务发起的，并且是在事务 A 开启后发生的。也就是说，它解决了不可重复读和幻读的问题。</p></li><li><p>提高了数据库的并发性能，试想，如果一个数据只有一个版本，那么多个事务对这个数据进行读写是不是需要读写锁来保护? 加锁的话就会造成阻塞，阻塞就会降低并发性能。而在 MVCC 里，每一个事务都有对应的数据版本，事务 A 开启后，即使数据被事务 B 修改，也不影响事务 A 那个版本的数据，事务 A 依然可以无阻塞的读取该数据，当然，只是读取不阻塞，写入还是阻塞的，如果事务 A 也想修改该数据，则必须要等事务 B 提交释放所有锁后，事务 A 才可以修改。所以 MVCC 解决的只是读-写的阻塞问题，写-写依然还是阻塞的。</p></li></ul><p>PostgreSQL 中是依赖于 txid 以及 Commit Log 结合而成的可见性检测机制来实现 MVCC，详情可以参考《<a href="https://github.com/wx-chevalier/Database-Notes?q=" target=_blank rel=noopener>Database-Notes/PostgreSQL</a>》中关于并发控制相关的介绍。</p></div><div class=article-widget><div class="container-xl row post-nav"></div></div><div class=body-footer><p>最近更新于 0001-01-01</p><section id=comments class="mb-3 pt-0"><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="https://ngte.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><footer class=site-footer><div class="copyright py-4 bg-footer"><div class="row justify-content-center"><div class="text-center footer-color"><p class=mb-0>© 2017-2022 NGTE all rights reserved</p></div></div></div><script type=text/javascript id=clstr_globe async src="//clustrmaps.com/globe.js?d=kgpJG5sWZQpKujBmD-uW1B54-WBPol-DuDtrB2KFjKs"></script></footer></main></div></div><script src=//unpkg.com/heti/umd/heti-addon.min.js></script>
<script>const heti=new Heti(".article");heti.autoSpacing()</script><script type=text/javascript>window.$crisp=[],window.CRISP_WEBSITE_ID="12adcc35-9621-4313-8262-62dc654b29d8",function(){setTimeout(function(){d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)},2500)}()</script></div><div class=page-footer></div><script src=/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script id=search-hit-algolia-template type=text/html><div class=search-hit><div class=search-hit-content><div class=search-hit-name><a href={{relpermalink}}>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</a></div><div class="article-metadata search-hit-type">{{type}}</div><p class=search-hit-description>{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p></div></div></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js crossorigin=anonymous></script>
<script id=dsq-count-scr src=https://ngte.disqus.com/count.js async></script>
<script src=/zh/js/algolia-search-built.min.4387d694ca1258194aaf562b8cd1c400.js type=module></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/zh/js/wowchemy.min.d1673c7a11d1238516cbe12a1e84257f.js></script>
<script>var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script>(function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,s=document.createElement("button");s.className="highlight-copy-btn fa fa-copy",s.textContent="",o=n.firstElementChild,s.addEventListener("click",function(){try{var n=t(o);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)})()</script></body></html>