
---
title: 位运算符
linktitle: 位运算符
type: book
commentable: true
---

# 位运算符

位运算符主要针对二进制，它包括了：“与”、“非”、“或”、“异或”。从表面上看似乎有点像逻辑运算符，但逻辑运算符是针对两个关系运算符来进行逻辑运算，而位运算符主要针对两个二进制数的位进行逻辑运算。Java 定义了位运算符，应用于整数类型(int)，长整型(long)，短整型(short)，字符型(char)，和字节型(byte)等类型。位运算符作用在所有的位上，并且按位运算。假设 a = 60，b = 13;它们的二进制格式表示将如下：

```sh
A = 0011 1100
B = 0000 1101
-----------------
A&B = 0000 1100
A | B = 0011 1101
A ^ B = 0011 0001
~A= 1100 0011
```

下表列出了位运算符的基本运算，假设整数变量 A 的值为 60 和变量 B 的值为 13：

| 操作符 | 描述                                                                             | 例子                            |
| :----- | :------------------------------------------------------------------------------- | :------------------------------ |
| ＆     | 如果相对应位都是 1，则结果为 1，否则为 0                                         | （A＆B），得到 12，即 0000 1100 |
| \|     | 如果相对应位都是 0，则结果为 0，否则为 1                                         | （A \| B）得到 61，即 0011 1101 |
| ^      | 如果相对应位值相同，则结果为 0，否则为 1                                         | （A ^ B）得到 49，即 0011 0001  |
| 〜     | 按位取反运算符翻转操作数的每一位，即 0 变成 1，1 变成 0                          | （〜A）得到-61，即 1100 0011    |
| <<     | 按位左移运算符。左操作数按位左移右操作数指定的位数                               | A << 2 得到 240，即 1111 0000   |
| >>     | 按位右移运算符。左操作数按位右移右操作数指定的位数                               | A >> 2 得到 15 即 1111          |
| >>>    | 按位右移补零操作符。左操作数的值按右操作数指定的位数右移，移动得到的空位以零填充 | A>>>2 得到 15 即 0000 1111      |

下面的简单示例程序演示了位运算符：

```java
public class Test {
  public static void main(String[] args) {
     int a = 60; /* 60 = 0011 1100 */
     int b = 13; /* 13 = 0000 1101 */
     int c = 0;
     c = a & b;       /* 12 = 0000 1100 */
     System.out.println("a & b = " + c );

     c = a | b;       /* 61 = 0011 1101 */
     System.out.println("a | b = " + c );

     c = a ^ b;       /* 49 = 0011 0001 */
     System.out.println("a ^ b = " + c );

     c = ~a;          /*-61 = 1100 0011 */
     System.out.println("~a = " + c );

     c = a << 2;     /* 240 = 1111 0000 */
     System.out.println("a << 2 = " + c );

     c = a >> 2;     /* 15 = 1111 */
     System.out.println("a >> 2  = " + c );

     c = a >>> 2;     /* 15 = 0000 1111 */
     System.out.println("a >>> 2 = " + c );
  }
}

/**
a & b = 12
a | b = 61
a ^ b = 49
~a = -61
a << 2 = 240
a >> 2  = 15
a >>> 2 = 15
**/
```

# 与运算符

与运算符用符号“&”表示，其使用规律如下：两个操作数中位都为 1，结果才为 1，否则结果为 0，例如下面的程序段。

```java
int a = 129;
int b = 128;
System.out.println("a 和b 与的结果是：" + (a & b)); // 128
```

“a”的值是 129，转换成二进制就是 10000001，而“b”的值是 128，转换成二进制就是 10000000。根据与运算符的运算规律，只有两个位都是 1，结果才是 1，可以知道结果就是 10000000，即 128。

# 或运算符

或运算符用符号“|”表示，其运算规律如下：两个位只要有一个为 1，那么结果就是 1，否则就为 0，下面看一个简单的例子。

```java
int a = 129;
int b = 128;
System.out.println("a 和 b 或的结果是：" + (a | b)); // 129
```

a 的值是 129，转换成二进制就是 10000001，而 b 的值是 128，转换成二进制就是 10000000，根据或运算符的运算规律，只有两个位有一个是 1，结果才是 1，可以知道结果就是 10000001，即 129。

# 非运算符

非运算符用符号“~”表示，其运算规律如下：如果位为 0，结果是 1，如果位为 1，结果是 0，下面看一个简单例子。

```java
int a = 2;
System.out.println("a 非的结果是：" + (~a));
```

# 异或运算符

异或运算符是用符号“^”表示的，其运算规律是：两个操作数的位中，相同则结果为 0，不同则结果为 1。下面看一个简单的例子。

```java
int a=15;
int b=2;
System.out.println("a 与 b 异或的结果是："+(a^b)); // 13
```

分析上面的程序段：a 的值是 15，转换成二进制为 1111，而 b 的值是 2，转换成二进制为 0010，根据异或的运算规律，可以得出其结果为 1101 即 13。

    